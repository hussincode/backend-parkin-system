var y4=Object.defineProperty;var Cp=e=>{throw TypeError(e)};var w4=(e,t,n)=>t in e?y4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var H=(e,t,n)=>w4(e,typeof t!="symbol"?t+"":t,n),ih=(e,t,n)=>t.has(e)||Cp("Cannot "+n);var z=(e,t,n)=>(ih(e,t,"read from private field"),n?n.call(e):t.get(e)),Le=(e,t,n)=>t.has(e)?Cp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Se=(e,t,n,i)=>(ih(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),qe=(e,t,n)=>(ih(e,t,"access private method"),n);var wu=(e,t,n,i)=>({set _(o){Se(e,t,o,n)},get _(){return z(e,t,i)}});function Kv(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function E0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $v={exports:{}},of={},Jv={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc=Symbol.for("react.element"),v4=Symbol.for("react.portal"),C4=Symbol.for("react.fragment"),E4=Symbol.for("react.strict_mode"),A4=Symbol.for("react.profiler"),S4=Symbol.for("react.provider"),b4=Symbol.for("react.context"),T4=Symbol.for("react.forward_ref"),I4=Symbol.for("react.suspense"),N4=Symbol.for("react.memo"),_4=Symbol.for("react.lazy"),Ep=Symbol.iterator;function O4(e){return e===null||typeof e!="object"?null:(e=Ep&&e[Ep]||e["@@iterator"],typeof e=="function"?e:null)}var eC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tC=Object.assign,nC={};function cl(e,t,n){this.props=e,this.context=t,this.refs=nC,this.updater=n||eC}cl.prototype.isReactComponent={};cl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rC(){}rC.prototype=cl.prototype;function A0(e,t,n){this.props=e,this.context=t,this.refs=nC,this.updater=n||eC}var S0=A0.prototype=new rC;S0.constructor=A0;tC(S0,cl.prototype);S0.isPureReactComponent=!0;var Ap=Array.isArray,iC=Object.prototype.hasOwnProperty,b0={current:null},sC={key:!0,ref:!0,__self:!0,__source:!0};function oC(e,t,n){var i,o={},l=null,f=null;if(t!=null)for(i in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(l=""+t.key),t)iC.call(t,i)&&!sC.hasOwnProperty(i)&&(o[i]=t[i]);var g=arguments.length-2;if(g===1)o.children=n;else if(1<g){for(var x=Array(g),p=0;p<g;p++)x[p]=arguments[p+2];o.children=x}if(e&&e.defaultProps)for(i in g=e.defaultProps,g)o[i]===void 0&&(o[i]=g[i]);return{$$typeof:Zc,type:e,key:l,ref:f,props:o,_owner:b0.current}}function M4(e,t){return{$$typeof:Zc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function T0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zc}function R4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sp=/\/+/g;function sh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?R4(""+e.key):t.toString(36)}function Vu(e,t,n,i,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(l){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case Zc:case v4:f=!0}}if(f)return f=e,o=o(f),e=i===""?"."+sh(f,0):i,Ap(o)?(n="",e!=null&&(n=e.replace(Sp,"$&/")+"/"),Vu(o,t,n,"",function(p){return p})):o!=null&&(T0(o)&&(o=M4(o,n+(!o.key||f&&f.key===o.key?"":(""+o.key).replace(Sp,"$&/")+"/")+e)),t.push(o)),1;if(f=0,i=i===""?".":i+":",Ap(e))for(var g=0;g<e.length;g++){l=e[g];var x=i+sh(l,g);f+=Vu(l,t,n,x,o)}else if(x=O4(e),typeof x=="function")for(e=x.call(e),g=0;!(l=e.next()).done;)l=l.value,x=i+sh(l,g++),f+=Vu(l,t,n,x,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function vu(e,t,n){if(e==null)return e;var i=[],o=0;return Vu(e,i,"","",function(l){return t.call(n,l,o++)}),i}function D4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xn={current:null},Hu={transition:null},k4={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:Hu,ReactCurrentOwner:b0};function aC(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:vu,forEach:function(e,t,n){vu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vu(e,function(){t++}),t},toArray:function(e){return vu(e,function(t){return t})||[]},only:function(e){if(!T0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=cl;et.Fragment=C4;et.Profiler=A4;et.PureComponent=A0;et.StrictMode=E4;et.Suspense=I4;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k4;et.act=aC;et.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=tC({},e.props),o=e.key,l=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,f=b0.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(x in t)iC.call(t,x)&&!sC.hasOwnProperty(x)&&(i[x]=t[x]===void 0&&g!==void 0?g[x]:t[x])}var x=arguments.length-2;if(x===1)i.children=n;else if(1<x){g=Array(x);for(var p=0;p<x;p++)g[p]=arguments[p+2];i.children=g}return{$$typeof:Zc,type:e.type,key:o,ref:l,props:i,_owner:f}};et.createContext=function(e){return e={$$typeof:b4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:S4,_context:e},e.Consumer=e};et.createElement=oC;et.createFactory=function(e){var t=oC.bind(null,e);return t.type=e,t};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:T4,render:e}};et.isValidElement=T0;et.lazy=function(e){return{$$typeof:_4,_payload:{_status:-1,_result:e},_init:D4}};et.memo=function(e,t){return{$$typeof:N4,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=Hu.transition;Hu.transition={};try{e()}finally{Hu.transition=t}};et.unstable_act=aC;et.useCallback=function(e,t){return Xn.current.useCallback(e,t)};et.useContext=function(e){return Xn.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return Xn.current.useDeferredValue(e)};et.useEffect=function(e,t){return Xn.current.useEffect(e,t)};et.useId=function(){return Xn.current.useId()};et.useImperativeHandle=function(e,t,n){return Xn.current.useImperativeHandle(e,t,n)};et.useInsertionEffect=function(e,t){return Xn.current.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return Xn.current.useLayoutEffect(e,t)};et.useMemo=function(e,t){return Xn.current.useMemo(e,t)};et.useReducer=function(e,t,n){return Xn.current.useReducer(e,t,n)};et.useRef=function(e){return Xn.current.useRef(e)};et.useState=function(e){return Xn.current.useState(e)};et.useSyncExternalStore=function(e,t,n){return Xn.current.useSyncExternalStore(e,t,n)};et.useTransition=function(){return Xn.current.useTransition()};et.version="18.3.1";Jv.exports=et;var L=Jv.exports;const We=E0(L),P4=Kv({__proto__:null,default:We},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L4=L,B4=Symbol.for("react.element"),F4=Symbol.for("react.fragment"),j4=Object.prototype.hasOwnProperty,U4=L4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z4={key:!0,ref:!0,__self:!0,__source:!0};function lC(e,t,n){var i,o={},l=null,f=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(f=t.ref);for(i in t)j4.call(t,i)&&!z4.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)o[i]===void 0&&(o[i]=t[i]);return{$$typeof:B4,type:e,key:l,ref:f,props:o,_owner:U4.current}}of.Fragment=F4;of.jsx=lC;of.jsxs=lC;$v.exports=of;var E=$v.exports,cC={exports:{}},Ar={},uC={exports:{}},dC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ne,pe){var Te=ne.length;ne.push(pe);e:for(;0<Te;){var ze=Te-1>>>1,Ve=ne[ze];if(0<o(Ve,pe))ne[ze]=pe,ne[Te]=Ve,Te=ze;else break e}}function n(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var pe=ne[0],Te=ne.pop();if(Te!==pe){ne[0]=Te;e:for(var ze=0,Ve=ne.length,Vt=Ve>>>1;ze<Vt;){var ut=2*(ze+1)-1,br=ne[ut],Me=ut+1,Zn=ne[Me];if(0>o(br,Te))Me<Ve&&0>o(Zn,br)?(ne[ze]=Zn,ne[Me]=Te,ze=Me):(ne[ze]=br,ne[ut]=Te,ze=ut);else if(Me<Ve&&0>o(Zn,Te))ne[ze]=Zn,ne[Me]=Te,ze=Me;else break e}}return pe}function o(ne,pe){var Te=ne.sortIndex-pe.sortIndex;return Te!==0?Te:ne.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var f=Date,g=f.now();e.unstable_now=function(){return f.now()-g}}var x=[],p=[],w=1,v=null,b=3,M=!1,P=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(ne){for(var pe=n(p);pe!==null;){if(pe.callback===null)i(p);else if(pe.startTime<=ne)i(p),pe.sortIndex=pe.expirationTime,t(x,pe);else break;pe=n(p)}}function B(ne){if(_=!1,N(ne),!P)if(n(x)!==null)P=!0,Ae(W);else{var pe=n(p);pe!==null&&xe(B,pe.startTime-ne)}}function W(ne,pe){P=!1,_&&(_=!1,O(J),J=-1),M=!0;var Te=b;try{for(N(pe),v=n(x);v!==null&&(!(v.expirationTime>pe)||ne&&!Ee());){var ze=v.callback;if(typeof ze=="function"){v.callback=null,b=v.priorityLevel;var Ve=ze(v.expirationTime<=pe);pe=e.unstable_now(),typeof Ve=="function"?v.callback=Ve:v===n(x)&&i(x),N(pe)}else i(x);v=n(x)}if(v!==null)var Vt=!0;else{var ut=n(p);ut!==null&&xe(B,ut.startTime-pe),Vt=!1}return Vt}finally{v=null,b=Te,M=!1}}var Z=!1,F=null,J=-1,G=5,ge=-1;function Ee(){return!(e.unstable_now()-ge<G)}function ee(){if(F!==null){var ne=e.unstable_now();ge=ne;var pe=!0;try{pe=F(!0,ne)}finally{pe?ae():(Z=!1,F=null)}}else Z=!1}var ae;if(typeof T=="function")ae=function(){T(ee)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Y=re.port2;re.port1.onmessage=ee,ae=function(){Y.postMessage(null)}}else ae=function(){k(ee,0)};function Ae(ne){F=ne,Z||(Z=!0,ae())}function xe(ne,pe){J=k(function(){ne(e.unstable_now())},pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){P||M||(P=!0,Ae(W))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(x)},e.unstable_next=function(ne){switch(b){case 1:case 2:case 3:var pe=3;break;default:pe=b}var Te=b;b=pe;try{return ne()}finally{b=Te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var Te=b;b=ne;try{return pe()}finally{b=Te}},e.unstable_scheduleCallback=function(ne,pe,Te){var ze=e.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?ze+Te:ze):Te=ze,ne){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=Te+Ve,ne={id:w++,callback:pe,priorityLevel:ne,startTime:Te,expirationTime:Ve,sortIndex:-1},Te>ze?(ne.sortIndex=Te,t(p,ne),n(x)===null&&ne===n(p)&&(_?(O(J),J=-1):_=!0,xe(B,Te-ze))):(ne.sortIndex=Ve,t(x,ne),P||M||(P=!0,Ae(W))),ne},e.unstable_shouldYield=Ee,e.unstable_wrapCallback=function(ne){var pe=b;return function(){var Te=b;b=pe;try{return ne.apply(this,arguments)}finally{b=Te}}}})(dC);uC.exports=dC;var V4=uC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H4=L,Er=V4;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fC=new Set,cc={};function Qo(e,t){Za(e,t),Za(e+"Capture",t)}function Za(e,t){for(cc[e]=t,e=0;e<t.length;e++)fC.add(t[e])}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xh=Object.prototype.hasOwnProperty,W4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bp={},Tp={};function G4(e){return Xh.call(Tp,e)?!0:Xh.call(bp,e)?!1:W4.test(e)?Tp[e]=!0:(bp[e]=!0,!1)}function Y4(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function X4(e,t,n,i){if(t===null||typeof t>"u"||Y4(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qn(e,t,n,i,o,l,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=f}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){In[e]=new Qn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];In[t]=new Qn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){In[e]=new Qn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){In[e]=new Qn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){In[e]=new Qn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){In[e]=new Qn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){In[e]=new Qn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){In[e]=new Qn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){In[e]=new Qn(e,5,!1,e.toLowerCase(),null,!1,!1)});var I0=/[\-:]([a-z])/g;function N0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I0,N0);In[t]=new Qn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I0,N0);In[t]=new Qn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I0,N0);In[t]=new Qn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){In[e]=new Qn(e,1,!1,e.toLowerCase(),null,!1,!1)});In.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){In[e]=new Qn(e,1,!1,e.toLowerCase(),null,!0,!0)});function _0(e,t,n,i){var o=In.hasOwnProperty(t)?In[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(X4(t,n,o,i)&&(n=null),i||o===null?G4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,i=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var rs=H4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cu=Symbol.for("react.element"),ua=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),O0=Symbol.for("react.strict_mode"),Qh=Symbol.for("react.profiler"),hC=Symbol.for("react.provider"),gC=Symbol.for("react.context"),M0=Symbol.for("react.forward_ref"),Zh=Symbol.for("react.suspense"),qh=Symbol.for("react.suspense_list"),R0=Symbol.for("react.memo"),vs=Symbol.for("react.lazy"),pC=Symbol.for("react.offscreen"),Ip=Symbol.iterator;function Il(e){return e===null||typeof e!="object"?null:(e=Ip&&e[Ip]||e["@@iterator"],typeof e=="function"?e:null)}var zt=Object.assign,oh;function zl(e){if(oh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);oh=t&&t[1]||""}return`
`+oh+e}var ah=!1;function lh(e,t){if(!e||ah)return"";ah=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var i=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){i=p}e.call(t.prototype)}else{try{throw Error()}catch(p){i=p}e()}}catch(p){if(p&&i&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),l=i.stack.split(`
`),f=o.length-1,g=l.length-1;1<=f&&0<=g&&o[f]!==l[g];)g--;for(;1<=f&&0<=g;f--,g--)if(o[f]!==l[g]){if(f!==1||g!==1)do if(f--,g--,0>g||o[f]!==l[g]){var x=`
`+o[f].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=f&&0<=g);break}}}finally{ah=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zl(e):""}function Q4(e){switch(e.tag){case 5:return zl(e.type);case 16:return zl("Lazy");case 13:return zl("Suspense");case 19:return zl("SuspenseList");case 0:case 2:case 15:return e=lh(e.type,!1),e;case 11:return e=lh(e.type.render,!1),e;case 1:return e=lh(e.type,!0),e;default:return""}}function Kh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case da:return"Fragment";case ua:return"Portal";case Qh:return"Profiler";case O0:return"StrictMode";case Zh:return"Suspense";case qh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gC:return(e.displayName||"Context")+".Consumer";case hC:return(e._context.displayName||"Context")+".Provider";case M0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R0:return t=e.displayName||null,t!==null?t:Kh(e.type)||"Memo";case vs:t=e._payload,e=e._init;try{return Kh(e(t))}catch{}}return null}function Z4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kh(t);case 8:return t===O0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function q4(e){var t=mC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){i=""+f,l.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(f){i=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Eu(e){e._valueTracker||(e._valueTracker=q4(e))}function xC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=mC(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function od(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $h(e,t){var n=t.checked;return zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Np(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Zs(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yC(e,t){t=t.checked,t!=null&&_0(e,"checked",t,!1)}function Jh(e,t){yC(e,t);var n=Zs(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?e1(e,t.type,n):t.hasOwnProperty("defaultValue")&&e1(e,t.type,Zs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _p(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function e1(e,t,n){(t!=="number"||od(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vl=Array.isArray;function Sa(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Zs(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function t1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Op(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ce(92));if(Vl(n)){if(1<n.length)throw Error(ce(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zs(n)}}function wC(e,t){var n=Zs(t.value),i=Zs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Mp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function n1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Au,CC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Au=Au||document.createElement("div"),Au.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Au.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K4=["Webkit","ms","Moz","O"];Object.keys(Kl).forEach(function(e){K4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kl[t]=Kl[e]})});function EC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kl.hasOwnProperty(e)&&Kl[e]?(""+t).trim():t+"px"}function AC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=EC(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}var $4=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function r1(e,t){if(t){if($4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function i1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s1=null;function D0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var o1=null,ba=null,Ta=null;function Rp(e){if(e=$c(e)){if(typeof o1!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=df(t),o1(e.stateNode,e.type,t))}}function SC(e){ba?Ta?Ta.push(e):Ta=[e]:ba=e}function bC(){if(ba){var e=ba,t=Ta;if(Ta=ba=null,Rp(e),t)for(e=0;e<t.length;e++)Rp(t[e])}}function TC(e,t){return e(t)}function IC(){}var ch=!1;function NC(e,t,n){if(ch)return e(t,n);ch=!0;try{return TC(e,t,n)}finally{ch=!1,(ba!==null||Ta!==null)&&(IC(),bC())}}function dc(e,t){var n=e.stateNode;if(n===null)return null;var i=df(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ce(231,t,typeof n));return n}var a1=!1;if(qi)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){a1=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{a1=!1}function J4(e,t,n,i,o,l,f,g,x){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(w){this.onError(w)}}var $l=!1,ad=null,ld=!1,l1=null,eI={onError:function(e){$l=!0,ad=e}};function tI(e,t,n,i,o,l,f,g,x){$l=!1,ad=null,J4.apply(eI,arguments)}function nI(e,t,n,i,o,l,f,g,x){if(tI.apply(this,arguments),$l){if($l){var p=ad;$l=!1,ad=null}else throw Error(ce(198));ld||(ld=!0,l1=p)}}function Zo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _C(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dp(e){if(Zo(e)!==e)throw Error(ce(188))}function rI(e){var t=e.alternate;if(!t){if(t=Zo(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Dp(o),e;if(l===i)return Dp(o),t;l=l.sibling}throw Error(ce(188))}if(n.return!==i.return)n=o,i=l;else{for(var f=!1,g=o.child;g;){if(g===n){f=!0,n=o,i=l;break}if(g===i){f=!0,i=o,n=l;break}g=g.sibling}if(!f){for(g=l.child;g;){if(g===n){f=!0,n=l,i=o;break}if(g===i){f=!0,i=l,n=o;break}g=g.sibling}if(!f)throw Error(ce(189))}}if(n.alternate!==i)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?e:t}function OC(e){return e=rI(e),e!==null?MC(e):null}function MC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=MC(e);if(t!==null)return t;e=e.sibling}return null}var RC=Er.unstable_scheduleCallback,kp=Er.unstable_cancelCallback,iI=Er.unstable_shouldYield,sI=Er.unstable_requestPaint,tn=Er.unstable_now,oI=Er.unstable_getCurrentPriorityLevel,k0=Er.unstable_ImmediatePriority,DC=Er.unstable_UserBlockingPriority,cd=Er.unstable_NormalPriority,aI=Er.unstable_LowPriority,kC=Er.unstable_IdlePriority,af=null,Ii=null;function lI(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(af,e,void 0,(e.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:dI,cI=Math.log,uI=Math.LN2;function dI(e){return e>>>=0,e===0?32:31-(cI(e)/uI|0)|0}var Su=64,bu=4194304;function Hl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ud(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,l=e.pingedLanes,f=n&268435455;if(f!==0){var g=f&~o;g!==0?i=Hl(g):(l&=f,l!==0&&(i=Hl(l)))}else f=n&~o,f!==0?i=Hl(f):l!==0&&(i=Hl(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&o)&&(o=i&-i,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-ei(t),o=1<<n,i|=e[n],t&=~o;return i}function fI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hI(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var f=31-ei(l),g=1<<f,x=o[f];x===-1?(!(g&n)||g&i)&&(o[f]=fI(g,t)):x<=t&&(e.expiredLanes|=g),l&=~g}}function c1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function PC(){var e=Su;return Su<<=1,!(Su&4194240)&&(Su=64),e}function uh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ei(t),e[t]=n}function gI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ei(n),l=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~l}}function P0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ei(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var wt=0;function LC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var BC,L0,FC,jC,UC,u1=!1,Tu=[],Ls=null,Bs=null,Fs=null,fc=new Map,hc=new Map,Es=[],pI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pp(e,t){switch(e){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":fc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(t.pointerId)}}function _l(e,t,n,i,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[o]},t!==null&&(t=$c(t),t!==null&&L0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function mI(e,t,n,i,o){switch(t){case"focusin":return Ls=_l(Ls,e,t,n,i,o),!0;case"dragenter":return Bs=_l(Bs,e,t,n,i,o),!0;case"mouseover":return Fs=_l(Fs,e,t,n,i,o),!0;case"pointerover":var l=o.pointerId;return fc.set(l,_l(fc.get(l)||null,e,t,n,i,o)),!0;case"gotpointercapture":return l=o.pointerId,hc.set(l,_l(hc.get(l)||null,e,t,n,i,o)),!0}return!1}function zC(e){var t=wo(e.target);if(t!==null){var n=Zo(t);if(n!==null){if(t=n.tag,t===13){if(t=_C(n),t!==null){e.blockedOn=t,UC(e.priority,function(){FC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=d1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);s1=i,n.target.dispatchEvent(i),s1=null}else return t=$c(n),t!==null&&L0(t),e.blockedOn=n,!1;t.shift()}return!0}function Lp(e,t,n){Wu(e)&&n.delete(t)}function xI(){u1=!1,Ls!==null&&Wu(Ls)&&(Ls=null),Bs!==null&&Wu(Bs)&&(Bs=null),Fs!==null&&Wu(Fs)&&(Fs=null),fc.forEach(Lp),hc.forEach(Lp)}function Ol(e,t){e.blockedOn===t&&(e.blockedOn=null,u1||(u1=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,xI)))}function gc(e){function t(o){return Ol(o,e)}if(0<Tu.length){Ol(Tu[0],e);for(var n=1;n<Tu.length;n++){var i=Tu[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Ls!==null&&Ol(Ls,e),Bs!==null&&Ol(Bs,e),Fs!==null&&Ol(Fs,e),fc.forEach(t),hc.forEach(t),n=0;n<Es.length;n++)i=Es[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)zC(n),n.blockedOn===null&&Es.shift()}var Ia=rs.ReactCurrentBatchConfig,dd=!0;function yI(e,t,n,i){var o=wt,l=Ia.transition;Ia.transition=null;try{wt=1,B0(e,t,n,i)}finally{wt=o,Ia.transition=l}}function wI(e,t,n,i){var o=wt,l=Ia.transition;Ia.transition=null;try{wt=4,B0(e,t,n,i)}finally{wt=o,Ia.transition=l}}function B0(e,t,n,i){if(dd){var o=d1(e,t,n,i);if(o===null)vh(e,t,i,fd,n),Pp(e,i);else if(mI(o,e,t,n,i))i.stopPropagation();else if(Pp(e,i),t&4&&-1<pI.indexOf(e)){for(;o!==null;){var l=$c(o);if(l!==null&&BC(l),l=d1(e,t,n,i),l===null&&vh(e,t,i,fd,n),l===o)break;o=l}o!==null&&i.stopPropagation()}else vh(e,t,i,null,n)}}var fd=null;function d1(e,t,n,i){if(fd=null,e=D0(i),e=wo(e),e!==null)if(t=Zo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_C(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fd=e,null}function VC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oI()){case k0:return 1;case DC:return 4;case cd:case aI:return 16;case kC:return 536870912;default:return 16}default:return 16}}var ks=null,F0=null,Gu=null;function HC(){if(Gu)return Gu;var e,t=F0,n=t.length,i,o="value"in ks?ks.value:ks.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var f=n-e;for(i=1;i<=f&&t[n-i]===o[l-i];i++);return Gu=o.slice(e,1<i?1-i:void 0)}function Yu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Iu(){return!0}function Bp(){return!1}function Sr(e){function t(n,i,o,l,f){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=l,this.target=f,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(l):l[g]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Iu:Bp,this.isPropagationStopped=Bp,this}return zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),t}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j0=Sr(ul),Kc=zt({},ul,{view:0,detail:0}),vI=Sr(Kc),dh,fh,Ml,lf=zt({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ml&&(Ml&&e.type==="mousemove"?(dh=e.screenX-Ml.screenX,fh=e.screenY-Ml.screenY):fh=dh=0,Ml=e),dh)},movementY:function(e){return"movementY"in e?e.movementY:fh}}),Fp=Sr(lf),CI=zt({},lf,{dataTransfer:0}),EI=Sr(CI),AI=zt({},Kc,{relatedTarget:0}),hh=Sr(AI),SI=zt({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),bI=Sr(SI),TI=zt({},ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),II=Sr(TI),NI=zt({},ul,{data:0}),jp=Sr(NI),_I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=MI[e])?!!t[e]:!1}function U0(){return RI}var DI=zt({},Kc,{key:function(e){if(e.key){var t=_I[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?OI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U0,charCode:function(e){return e.type==="keypress"?Yu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kI=Sr(DI),PI=zt({},lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Up=Sr(PI),LI=zt({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U0}),BI=Sr(LI),FI=zt({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),jI=Sr(FI),UI=zt({},lf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zI=Sr(UI),VI=[9,13,27,32],z0=qi&&"CompositionEvent"in window,Jl=null;qi&&"documentMode"in document&&(Jl=document.documentMode);var HI=qi&&"TextEvent"in window&&!Jl,WC=qi&&(!z0||Jl&&8<Jl&&11>=Jl),zp=" ",Vp=!1;function GC(e,t){switch(e){case"keyup":return VI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function WI(e,t){switch(e){case"compositionend":return YC(t);case"keypress":return t.which!==32?null:(Vp=!0,zp);case"textInput":return e=t.data,e===zp&&Vp?null:e;default:return null}}function GI(e,t){if(fa)return e==="compositionend"||!z0&&GC(e,t)?(e=HC(),Gu=F0=ks=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return WC&&t.locale!=="ko"?null:t.data;default:return null}}var YI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YI[e.type]:t==="textarea"}function XC(e,t,n,i){SC(i),t=hd(t,"onChange"),0<t.length&&(n=new j0("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ec=null,pc=null;function XI(e){iE(e,0)}function cf(e){var t=pa(e);if(xC(t))return e}function QI(e,t){if(e==="change")return t}var QC=!1;if(qi){var gh;if(qi){var ph="oninput"in document;if(!ph){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),ph=typeof Wp.oninput=="function"}gh=ph}else gh=!1;QC=gh&&(!document.documentMode||9<document.documentMode)}function Gp(){ec&&(ec.detachEvent("onpropertychange",ZC),pc=ec=null)}function ZC(e){if(e.propertyName==="value"&&cf(pc)){var t=[];XC(t,pc,e,D0(e)),NC(XI,t)}}function ZI(e,t,n){e==="focusin"?(Gp(),ec=t,pc=n,ec.attachEvent("onpropertychange",ZC)):e==="focusout"&&Gp()}function qI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cf(pc)}function KI(e,t){if(e==="click")return cf(t)}function $I(e,t){if(e==="input"||e==="change")return cf(t)}function JI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ri=typeof Object.is=="function"?Object.is:JI;function mc(e,t){if(ri(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Xh.call(t,o)||!ri(e[o],t[o]))return!1}return!0}function Yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xp(e,t){var n=Yp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yp(n)}}function qC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function KC(){for(var e=window,t=od();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=od(e.document)}return t}function V0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eN(e){var t=KC(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qC(n.ownerDocument.documentElement,n)){if(i!==null&&V0(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(i.start,o);i=i.end===void 0?l:Math.min(i.end,o),!e.extend&&l>i&&(o=i,i=l,l=o),o=Xp(n,l);var f=Xp(n,i);o&&f&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tN=qi&&"documentMode"in document&&11>=document.documentMode,ha=null,f1=null,tc=null,h1=!1;function Qp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;h1||ha==null||ha!==od(i)||(i=ha,"selectionStart"in i&&V0(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),tc&&mc(tc,i)||(tc=i,i=hd(f1,"onSelect"),0<i.length&&(t=new j0("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ha)))}function Nu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ga={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},mh={},$C={};qi&&($C=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function uf(e){if(mh[e])return mh[e];if(!ga[e])return e;var t=ga[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $C)return mh[e]=t[n];return e}var JC=uf("animationend"),eE=uf("animationiteration"),tE=uf("animationstart"),nE=uf("transitionend"),rE=new Map,Zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(e,t){rE.set(e,t),Qo(t,[e])}for(var xh=0;xh<Zp.length;xh++){var yh=Zp[xh],nN=yh.toLowerCase(),rN=yh[0].toUpperCase()+yh.slice(1);so(nN,"on"+rN)}so(JC,"onAnimationEnd");so(eE,"onAnimationIteration");so(tE,"onAnimationStart");so("dblclick","onDoubleClick");so("focusin","onFocus");so("focusout","onBlur");so(nE,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function qp(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,nI(i,t,void 0,e),e.currentTarget=null}function iE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var f=i.length-1;0<=f;f--){var g=i[f],x=g.instance,p=g.currentTarget;if(g=g.listener,x!==l&&o.isPropagationStopped())break e;qp(o,g,p),l=x}else for(f=0;f<i.length;f++){if(g=i[f],x=g.instance,p=g.currentTarget,g=g.listener,x!==l&&o.isPropagationStopped())break e;qp(o,g,p),l=x}}}if(ld)throw e=l1,ld=!1,l1=null,e}function It(e,t){var n=t[y1];n===void 0&&(n=t[y1]=new Set);var i=e+"__bubble";n.has(i)||(sE(t,e,2,!1),n.add(i))}function wh(e,t,n){var i=0;t&&(i|=4),sE(n,e,i,t)}var _u="_reactListening"+Math.random().toString(36).slice(2);function xc(e){if(!e[_u]){e[_u]=!0,fC.forEach(function(n){n!=="selectionchange"&&(iN.has(n)||wh(n,!1,e),wh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_u]||(t[_u]=!0,wh("selectionchange",!1,t))}}function sE(e,t,n,i){switch(VC(t)){case 1:var o=yI;break;case 4:o=wI;break;default:o=B0}n=o.bind(null,t,n,e),o=void 0,!a1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function vh(e,t,n,i,o){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var g=i.stateNode.containerInfo;if(g===o||g.nodeType===8&&g.parentNode===o)break;if(f===4)for(f=i.return;f!==null;){var x=f.tag;if((x===3||x===4)&&(x=f.stateNode.containerInfo,x===o||x.nodeType===8&&x.parentNode===o))return;f=f.return}for(;g!==null;){if(f=wo(g),f===null)return;if(x=f.tag,x===5||x===6){i=l=f;continue e}g=g.parentNode}}i=i.return}NC(function(){var p=l,w=D0(n),v=[];e:{var b=rE.get(e);if(b!==void 0){var M=j0,P=e;switch(e){case"keypress":if(Yu(n)===0)break e;case"keydown":case"keyup":M=kI;break;case"focusin":P="focus",M=hh;break;case"focusout":P="blur",M=hh;break;case"beforeblur":case"afterblur":M=hh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=EI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=BI;break;case JC:case eE:case tE:M=bI;break;case nE:M=jI;break;case"scroll":M=vI;break;case"wheel":M=zI;break;case"copy":case"cut":case"paste":M=II;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Up}var _=(t&4)!==0,k=!_&&e==="scroll",O=_?b!==null?b+"Capture":null:b;_=[];for(var T=p,N;T!==null;){N=T;var B=N.stateNode;if(N.tag===5&&B!==null&&(N=B,O!==null&&(B=dc(T,O),B!=null&&_.push(yc(T,B,N)))),k)break;T=T.return}0<_.length&&(b=new M(b,P,null,n,w),v.push({event:b,listeners:_}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",b&&n!==s1&&(P=n.relatedTarget||n.fromElement)&&(wo(P)||P[Ki]))break e;if((M||b)&&(b=w.window===w?w:(b=w.ownerDocument)?b.defaultView||b.parentWindow:window,M?(P=n.relatedTarget||n.toElement,M=p,P=P?wo(P):null,P!==null&&(k=Zo(P),P!==k||P.tag!==5&&P.tag!==6)&&(P=null)):(M=null,P=p),M!==P)){if(_=Fp,B="onMouseLeave",O="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(_=Up,B="onPointerLeave",O="onPointerEnter",T="pointer"),k=M==null?b:pa(M),N=P==null?b:pa(P),b=new _(B,T+"leave",M,n,w),b.target=k,b.relatedTarget=N,B=null,wo(w)===p&&(_=new _(O,T+"enter",P,n,w),_.target=N,_.relatedTarget=k,B=_),k=B,M&&P)t:{for(_=M,O=P,T=0,N=_;N;N=sa(N))T++;for(N=0,B=O;B;B=sa(B))N++;for(;0<T-N;)_=sa(_),T--;for(;0<N-T;)O=sa(O),N--;for(;T--;){if(_===O||O!==null&&_===O.alternate)break t;_=sa(_),O=sa(O)}_=null}else _=null;M!==null&&Kp(v,b,M,_,!1),P!==null&&k!==null&&Kp(v,k,P,_,!0)}}e:{if(b=p?pa(p):window,M=b.nodeName&&b.nodeName.toLowerCase(),M==="select"||M==="input"&&b.type==="file")var W=QI;else if(Hp(b))if(QC)W=$I;else{W=qI;var Z=ZI}else(M=b.nodeName)&&M.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(W=KI);if(W&&(W=W(e,p))){XC(v,W,n,w);break e}Z&&Z(e,b,p),e==="focusout"&&(Z=b._wrapperState)&&Z.controlled&&b.type==="number"&&e1(b,"number",b.value)}switch(Z=p?pa(p):window,e){case"focusin":(Hp(Z)||Z.contentEditable==="true")&&(ha=Z,f1=p,tc=null);break;case"focusout":tc=f1=ha=null;break;case"mousedown":h1=!0;break;case"contextmenu":case"mouseup":case"dragend":h1=!1,Qp(v,n,w);break;case"selectionchange":if(tN)break;case"keydown":case"keyup":Qp(v,n,w)}var F;if(z0)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else fa?GC(e,n)&&(J="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(J="onCompositionStart");J&&(WC&&n.locale!=="ko"&&(fa||J!=="onCompositionStart"?J==="onCompositionEnd"&&fa&&(F=HC()):(ks=w,F0="value"in ks?ks.value:ks.textContent,fa=!0)),Z=hd(p,J),0<Z.length&&(J=new jp(J,e,null,n,w),v.push({event:J,listeners:Z}),F?J.data=F:(F=YC(n),F!==null&&(J.data=F)))),(F=HI?WI(e,n):GI(e,n))&&(p=hd(p,"onBeforeInput"),0<p.length&&(w=new jp("onBeforeInput","beforeinput",null,n,w),v.push({event:w,listeners:p}),w.data=F))}iE(v,t)})}function yc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hd(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=dc(e,n),l!=null&&i.unshift(yc(e,l,o)),l=dc(e,t),l!=null&&i.push(yc(e,l,o))),e=e.return}return i}function sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kp(e,t,n,i,o){for(var l=t._reactName,f=[];n!==null&&n!==i;){var g=n,x=g.alternate,p=g.stateNode;if(x!==null&&x===i)break;g.tag===5&&p!==null&&(g=p,o?(x=dc(n,l),x!=null&&f.unshift(yc(n,x,g))):o||(x=dc(n,l),x!=null&&f.push(yc(n,x,g)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var sN=/\r\n?/g,oN=/\u0000|\uFFFD/g;function $p(e){return(typeof e=="string"?e:""+e).replace(sN,`
`).replace(oN,"")}function Ou(e,t,n){if(t=$p(t),$p(e)!==t&&n)throw Error(ce(425))}function gd(){}var g1=null,p1=null;function m1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var x1=typeof setTimeout=="function"?setTimeout:void 0,aN=typeof clearTimeout=="function"?clearTimeout:void 0,Jp=typeof Promise=="function"?Promise:void 0,lN=typeof queueMicrotask=="function"?queueMicrotask:typeof Jp<"u"?function(e){return Jp.resolve(null).then(e).catch(cN)}:x1;function cN(e){setTimeout(function(){throw e})}function Ch(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){e.removeChild(o),gc(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);gc(t)}function js(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function em(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var dl=Math.random().toString(36).slice(2),Si="__reactFiber$"+dl,wc="__reactProps$"+dl,Ki="__reactContainer$"+dl,y1="__reactEvents$"+dl,uN="__reactListeners$"+dl,dN="__reactHandles$"+dl;function wo(e){var t=e[Si];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ki]||n[Si]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=em(e);e!==null;){if(n=e[Si])return n;e=em(e)}return t}e=n,n=e.parentNode}return null}function $c(e){return e=e[Si]||e[Ki],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function df(e){return e[wc]||null}var w1=[],ma=-1;function oo(e){return{current:e}}function _t(e){0>ma||(e.current=w1[ma],w1[ma]=null,ma--)}function St(e,t){ma++,w1[ma]=e.current,e.current=t}var qs={},Ln=oo(qs),or=oo(!1),ko=qs;function qa(e,t){var n=e.type.contextTypes;if(!n)return qs;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ar(e){return e=e.childContextTypes,e!=null}function pd(){_t(or),_t(Ln)}function tm(e,t,n){if(Ln.current!==qs)throw Error(ce(168));St(Ln,t),St(or,n)}function oE(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(ce(108,Z4(e)||"Unknown",o));return zt({},n,i)}function md(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qs,ko=Ln.current,St(Ln,e),St(or,or.current),!0}function nm(e,t,n){var i=e.stateNode;if(!i)throw Error(ce(169));n?(e=oE(e,t,ko),i.__reactInternalMemoizedMergedChildContext=e,_t(or),_t(Ln),St(Ln,e)):_t(or),St(or,n)}var Vi=null,ff=!1,Eh=!1;function aE(e){Vi===null?Vi=[e]:Vi.push(e)}function fN(e){ff=!0,aE(e)}function ao(){if(!Eh&&Vi!==null){Eh=!0;var e=0,t=wt;try{var n=Vi;for(wt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Vi=null,ff=!1}catch(o){throw Vi!==null&&(Vi=Vi.slice(e+1)),RC(k0,ao),o}finally{wt=t,Eh=!1}}return null}var xa=[],ya=0,xd=null,yd=0,Pr=[],Lr=0,Po=null,Gi=1,Yi="";function po(e,t){xa[ya++]=yd,xa[ya++]=xd,xd=e,yd=t}function lE(e,t,n){Pr[Lr++]=Gi,Pr[Lr++]=Yi,Pr[Lr++]=Po,Po=e;var i=Gi;e=Yi;var o=32-ei(i)-1;i&=~(1<<o),n+=1;var l=32-ei(t)+o;if(30<l){var f=o-o%5;l=(i&(1<<f)-1).toString(32),i>>=f,o-=f,Gi=1<<32-ei(t)+o|n<<o|i,Yi=l+e}else Gi=1<<l|n<<o|i,Yi=e}function H0(e){e.return!==null&&(po(e,1),lE(e,1,0))}function W0(e){for(;e===xd;)xd=xa[--ya],xa[ya]=null,yd=xa[--ya],xa[ya]=null;for(;e===Po;)Po=Pr[--Lr],Pr[Lr]=null,Yi=Pr[--Lr],Pr[Lr]=null,Gi=Pr[--Lr],Pr[Lr]=null}var wr=null,yr=null,Dt=!1,Zr=null;function cE(e,t){var n=Br(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wr=e,yr=js(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wr=e,yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Po!==null?{id:Gi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Br(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wr=e,yr=null,!0):!1;default:return!1}}function v1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function C1(e){if(Dt){var t=yr;if(t){var n=t;if(!rm(e,t)){if(v1(e))throw Error(ce(418));t=js(n.nextSibling);var i=wr;t&&rm(e,t)?cE(i,n):(e.flags=e.flags&-4097|2,Dt=!1,wr=e)}}else{if(v1(e))throw Error(ce(418));e.flags=e.flags&-4097|2,Dt=!1,wr=e}}}function im(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wr=e}function Mu(e){if(e!==wr)return!1;if(!Dt)return im(e),Dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!m1(e.type,e.memoizedProps)),t&&(t=yr)){if(v1(e))throw uE(),Error(ce(418));for(;t;)cE(e,t),t=js(t.nextSibling)}if(im(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yr=js(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yr=null}}else yr=wr?js(e.stateNode.nextSibling):null;return!0}function uE(){for(var e=yr;e;)e=js(e.nextSibling)}function Ka(){yr=wr=null,Dt=!1}function G0(e){Zr===null?Zr=[e]:Zr.push(e)}var hN=rs.ReactCurrentBatchConfig;function Rl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var i=n.stateNode}if(!i)throw Error(ce(147,e));var o=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(f){var g=o.refs;f===null?delete g[l]:g[l]=f},t._stringRef=l,t)}if(typeof e!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,e))}return e}function Ru(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sm(e){var t=e._init;return t(e._payload)}function dE(e){function t(O,T){if(e){var N=O.deletions;N===null?(O.deletions=[T],O.flags|=16):N.push(T)}}function n(O,T){if(!e)return null;for(;T!==null;)t(O,T),T=T.sibling;return null}function i(O,T){for(O=new Map;T!==null;)T.key!==null?O.set(T.key,T):O.set(T.index,T),T=T.sibling;return O}function o(O,T){return O=Hs(O,T),O.index=0,O.sibling=null,O}function l(O,T,N){return O.index=N,e?(N=O.alternate,N!==null?(N=N.index,N<T?(O.flags|=2,T):N):(O.flags|=2,T)):(O.flags|=1048576,T)}function f(O){return e&&O.alternate===null&&(O.flags|=2),O}function g(O,T,N,B){return T===null||T.tag!==6?(T=_h(N,O.mode,B),T.return=O,T):(T=o(T,N),T.return=O,T)}function x(O,T,N,B){var W=N.type;return W===da?w(O,T,N.props.children,B,N.key):T!==null&&(T.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===vs&&sm(W)===T.type)?(B=o(T,N.props),B.ref=Rl(O,T,N),B.return=O,B):(B=Ju(N.type,N.key,N.props,null,O.mode,B),B.ref=Rl(O,T,N),B.return=O,B)}function p(O,T,N,B){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=Oh(N,O.mode,B),T.return=O,T):(T=o(T,N.children||[]),T.return=O,T)}function w(O,T,N,B,W){return T===null||T.tag!==7?(T=Mo(N,O.mode,B,W),T.return=O,T):(T=o(T,N),T.return=O,T)}function v(O,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return T=_h(""+T,O.mode,N),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Cu:return N=Ju(T.type,T.key,T.props,null,O.mode,N),N.ref=Rl(O,null,T),N.return=O,N;case ua:return T=Oh(T,O.mode,N),T.return=O,T;case vs:var B=T._init;return v(O,B(T._payload),N)}if(Vl(T)||Il(T))return T=Mo(T,O.mode,N,null),T.return=O,T;Ru(O,T)}return null}function b(O,T,N,B){var W=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return W!==null?null:g(O,T,""+N,B);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Cu:return N.key===W?x(O,T,N,B):null;case ua:return N.key===W?p(O,T,N,B):null;case vs:return W=N._init,b(O,T,W(N._payload),B)}if(Vl(N)||Il(N))return W!==null?null:w(O,T,N,B,null);Ru(O,N)}return null}function M(O,T,N,B,W){if(typeof B=="string"&&B!==""||typeof B=="number")return O=O.get(N)||null,g(T,O,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Cu:return O=O.get(B.key===null?N:B.key)||null,x(T,O,B,W);case ua:return O=O.get(B.key===null?N:B.key)||null,p(T,O,B,W);case vs:var Z=B._init;return M(O,T,N,Z(B._payload),W)}if(Vl(B)||Il(B))return O=O.get(N)||null,w(T,O,B,W,null);Ru(T,B)}return null}function P(O,T,N,B){for(var W=null,Z=null,F=T,J=T=0,G=null;F!==null&&J<N.length;J++){F.index>J?(G=F,F=null):G=F.sibling;var ge=b(O,F,N[J],B);if(ge===null){F===null&&(F=G);break}e&&F&&ge.alternate===null&&t(O,F),T=l(ge,T,J),Z===null?W=ge:Z.sibling=ge,Z=ge,F=G}if(J===N.length)return n(O,F),Dt&&po(O,J),W;if(F===null){for(;J<N.length;J++)F=v(O,N[J],B),F!==null&&(T=l(F,T,J),Z===null?W=F:Z.sibling=F,Z=F);return Dt&&po(O,J),W}for(F=i(O,F);J<N.length;J++)G=M(F,O,J,N[J],B),G!==null&&(e&&G.alternate!==null&&F.delete(G.key===null?J:G.key),T=l(G,T,J),Z===null?W=G:Z.sibling=G,Z=G);return e&&F.forEach(function(Ee){return t(O,Ee)}),Dt&&po(O,J),W}function _(O,T,N,B){var W=Il(N);if(typeof W!="function")throw Error(ce(150));if(N=W.call(N),N==null)throw Error(ce(151));for(var Z=W=null,F=T,J=T=0,G=null,ge=N.next();F!==null&&!ge.done;J++,ge=N.next()){F.index>J?(G=F,F=null):G=F.sibling;var Ee=b(O,F,ge.value,B);if(Ee===null){F===null&&(F=G);break}e&&F&&Ee.alternate===null&&t(O,F),T=l(Ee,T,J),Z===null?W=Ee:Z.sibling=Ee,Z=Ee,F=G}if(ge.done)return n(O,F),Dt&&po(O,J),W;if(F===null){for(;!ge.done;J++,ge=N.next())ge=v(O,ge.value,B),ge!==null&&(T=l(ge,T,J),Z===null?W=ge:Z.sibling=ge,Z=ge);return Dt&&po(O,J),W}for(F=i(O,F);!ge.done;J++,ge=N.next())ge=M(F,O,J,ge.value,B),ge!==null&&(e&&ge.alternate!==null&&F.delete(ge.key===null?J:ge.key),T=l(ge,T,J),Z===null?W=ge:Z.sibling=ge,Z=ge);return e&&F.forEach(function(ee){return t(O,ee)}),Dt&&po(O,J),W}function k(O,T,N,B){if(typeof N=="object"&&N!==null&&N.type===da&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Cu:e:{for(var W=N.key,Z=T;Z!==null;){if(Z.key===W){if(W=N.type,W===da){if(Z.tag===7){n(O,Z.sibling),T=o(Z,N.props.children),T.return=O,O=T;break e}}else if(Z.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===vs&&sm(W)===Z.type){n(O,Z.sibling),T=o(Z,N.props),T.ref=Rl(O,Z,N),T.return=O,O=T;break e}n(O,Z);break}else t(O,Z);Z=Z.sibling}N.type===da?(T=Mo(N.props.children,O.mode,B,N.key),T.return=O,O=T):(B=Ju(N.type,N.key,N.props,null,O.mode,B),B.ref=Rl(O,T,N),B.return=O,O=B)}return f(O);case ua:e:{for(Z=N.key;T!==null;){if(T.key===Z)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){n(O,T.sibling),T=o(T,N.children||[]),T.return=O,O=T;break e}else{n(O,T);break}else t(O,T);T=T.sibling}T=Oh(N,O.mode,B),T.return=O,O=T}return f(O);case vs:return Z=N._init,k(O,T,Z(N._payload),B)}if(Vl(N))return P(O,T,N,B);if(Il(N))return _(O,T,N,B);Ru(O,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,T!==null&&T.tag===6?(n(O,T.sibling),T=o(T,N),T.return=O,O=T):(n(O,T),T=_h(N,O.mode,B),T.return=O,O=T),f(O)):n(O,T)}return k}var $a=dE(!0),fE=dE(!1),wd=oo(null),vd=null,wa=null,Y0=null;function X0(){Y0=wa=vd=null}function Q0(e){var t=wd.current;_t(wd),e._currentValue=t}function E1(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Na(e,t){vd=e,Y0=wa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sr=!0),e.firstContext=null)}function jr(e){var t=e._currentValue;if(Y0!==e)if(e={context:e,memoizedValue:t,next:null},wa===null){if(vd===null)throw Error(ce(308));wa=e,vd.dependencies={lanes:0,firstContext:e}}else wa=wa.next=e;return t}var vo=null;function Z0(e){vo===null?vo=[e]:vo.push(e)}function hE(e,t,n,i){var o=t.interleaved;return o===null?(n.next=n,Z0(t)):(n.next=o.next,o.next=n),t.interleaved=n,$i(e,i)}function $i(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Cs=!1;function q0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,at&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,$i(e,n)}return o=i.interleaved,o===null?(t.next=t,Z0(i)):(t.next=o.next,o.next=t),i.interleaved=t,$i(e,n)}function Xu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,P0(e,n)}}function om(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=f:l=l.next=f,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cd(e,t,n,i){var o=e.updateQueue;Cs=!1;var l=o.firstBaseUpdate,f=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var x=g,p=x.next;x.next=null,f===null?l=p:f.next=p,f=x;var w=e.alternate;w!==null&&(w=w.updateQueue,g=w.lastBaseUpdate,g!==f&&(g===null?w.firstBaseUpdate=p:g.next=p,w.lastBaseUpdate=x))}if(l!==null){var v=o.baseState;f=0,w=p=x=null,g=l;do{var b=g.lane,M=g.eventTime;if((i&b)===b){w!==null&&(w=w.next={eventTime:M,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var P=e,_=g;switch(b=t,M=n,_.tag){case 1:if(P=_.payload,typeof P=="function"){v=P.call(M,v,b);break e}v=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=_.payload,b=typeof P=="function"?P.call(M,v,b):P,b==null)break e;v=zt({},v,b);break e;case 2:Cs=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,b=o.effects,b===null?o.effects=[g]:b.push(g))}else M={eventTime:M,lane:b,tag:g.tag,payload:g.payload,callback:g.callback,next:null},w===null?(p=w=M,x=v):w=w.next=M,f|=b;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;b=g,g=b.next,b.next=null,o.lastBaseUpdate=b,o.shared.pending=null}}while(!0);if(w===null&&(x=v),o.baseState=x,o.firstBaseUpdate=p,o.lastBaseUpdate=w,t=o.shared.interleaved,t!==null){o=t;do f|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);Bo|=f,e.lanes=f,e.memoizedState=v}}function am(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(ce(191,o));o.call(i)}}}var Jc={},Ni=oo(Jc),vc=oo(Jc),Cc=oo(Jc);function Co(e){if(e===Jc)throw Error(ce(174));return e}function K0(e,t){switch(St(Cc,t),St(vc,e),St(Ni,Jc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:n1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=n1(t,e)}_t(Ni),St(Ni,t)}function Ja(){_t(Ni),_t(vc),_t(Cc)}function pE(e){Co(Cc.current);var t=Co(Ni.current),n=n1(t,e.type);t!==n&&(St(vc,e),St(Ni,n))}function $0(e){vc.current===e&&(_t(Ni),_t(vc))}var jt=oo(0);function Ed(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ah=[];function J0(){for(var e=0;e<Ah.length;e++)Ah[e]._workInProgressVersionPrimary=null;Ah.length=0}var Qu=rs.ReactCurrentDispatcher,Sh=rs.ReactCurrentBatchConfig,Lo=0,Ut=null,ln=null,pn=null,Ad=!1,nc=!1,Ec=0,gN=0;function Mn(){throw Error(ce(321))}function eg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ri(e[n],t[n]))return!1;return!0}function tg(e,t,n,i,o,l){if(Lo=l,Ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qu.current=e===null||e.memoizedState===null?yN:wN,e=n(i,o),nc){l=0;do{if(nc=!1,Ec=0,25<=l)throw Error(ce(301));l+=1,pn=ln=null,t.updateQueue=null,Qu.current=vN,e=n(i,o)}while(nc)}if(Qu.current=Sd,t=ln!==null&&ln.next!==null,Lo=0,pn=ln=Ut=null,Ad=!1,t)throw Error(ce(300));return e}function ng(){var e=Ec!==0;return Ec=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Ut.memoizedState=pn=e:pn=pn.next=e,pn}function Ur(){if(ln===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=ln.next;var t=pn===null?Ut.memoizedState:pn.next;if(t!==null)pn=t,ln=e;else{if(e===null)throw Error(ce(310));ln=e,e={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},pn===null?Ut.memoizedState=pn=e:pn=pn.next=e}return pn}function Ac(e,t){return typeof t=="function"?t(e):t}function bh(e){var t=Ur(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var i=ln,o=i.baseQueue,l=n.pending;if(l!==null){if(o!==null){var f=o.next;o.next=l.next,l.next=f}i.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,i=i.baseState;var g=f=null,x=null,p=l;do{var w=p.lane;if((Lo&w)===w)x!==null&&(x=x.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),i=p.hasEagerState?p.eagerState:e(i,p.action);else{var v={lane:w,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};x===null?(g=x=v,f=i):x=x.next=v,Ut.lanes|=w,Bo|=w}p=p.next}while(p!==null&&p!==l);x===null?f=i:x.next=g,ri(i,t.memoizedState)||(sr=!0),t.memoizedState=i,t.baseState=f,t.baseQueue=x,n.lastRenderedState=i}if(e=n.interleaved,e!==null){o=e;do l=o.lane,Ut.lanes|=l,Bo|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Th(e){var t=Ur(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var f=o=o.next;do l=e(l,f.action),f=f.next;while(f!==o);ri(l,t.memoizedState)||(sr=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function mE(){}function xE(e,t){var n=Ut,i=Ur(),o=t(),l=!ri(i.memoizedState,o);if(l&&(i.memoizedState=o,sr=!0),i=i.queue,rg(vE.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||pn!==null&&pn.memoizedState.tag&1){if(n.flags|=2048,Sc(9,wE.bind(null,n,i,o,t),void 0,null),mn===null)throw Error(ce(349));Lo&30||yE(n,t,o)}return o}function yE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wE(e,t,n,i){t.value=n,t.getSnapshot=i,CE(t)&&EE(e)}function vE(e,t,n){return n(function(){CE(t)&&EE(e)})}function CE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ri(e,n)}catch{return!0}}function EE(e){var t=$i(e,1);t!==null&&ti(t,e,1,-1)}function lm(e){var t=yi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:e},t.queue=e,e=e.dispatch=xN.bind(null,Ut,e),[t.memoizedState,e]}function Sc(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function AE(){return Ur().memoizedState}function Zu(e,t,n,i){var o=yi();Ut.flags|=e,o.memoizedState=Sc(1|t,n,void 0,i===void 0?null:i)}function hf(e,t,n,i){var o=Ur();i=i===void 0?null:i;var l=void 0;if(ln!==null){var f=ln.memoizedState;if(l=f.destroy,i!==null&&eg(i,f.deps)){o.memoizedState=Sc(t,n,l,i);return}}Ut.flags|=e,o.memoizedState=Sc(1|t,n,l,i)}function cm(e,t){return Zu(8390656,8,e,t)}function rg(e,t){return hf(2048,8,e,t)}function SE(e,t){return hf(4,2,e,t)}function bE(e,t){return hf(4,4,e,t)}function TE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IE(e,t,n){return n=n!=null?n.concat([e]):null,hf(4,4,TE.bind(null,t,e),n)}function ig(){}function NE(e,t){var n=Ur();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&eg(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function _E(e,t){var n=Ur();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&eg(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function OE(e,t,n){return Lo&21?(ri(n,t)||(n=PC(),Ut.lanes|=n,Bo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sr=!0),e.memoizedState=n)}function pN(e,t){var n=wt;wt=n!==0&&4>n?n:4,e(!0);var i=Sh.transition;Sh.transition={};try{e(!1),t()}finally{wt=n,Sh.transition=i}}function ME(){return Ur().memoizedState}function mN(e,t,n){var i=Vs(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},RE(e))DE(t,n);else if(n=hE(e,t,n,i),n!==null){var o=Gn();ti(n,e,i,o),kE(n,t,i)}}function xN(e,t,n){var i=Vs(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(RE(e))DE(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var f=t.lastRenderedState,g=l(f,n);if(o.hasEagerState=!0,o.eagerState=g,ri(g,f)){var x=t.interleaved;x===null?(o.next=o,Z0(t)):(o.next=x.next,x.next=o),t.interleaved=o;return}}catch{}finally{}n=hE(e,t,o,i),n!==null&&(o=Gn(),ti(n,e,i,o),kE(n,t,i))}}function RE(e){var t=e.alternate;return e===Ut||t!==null&&t===Ut}function DE(e,t){nc=Ad=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kE(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,P0(e,n)}}var Sd={readContext:jr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},yN={readContext:jr,useCallback:function(e,t){return yi().memoizedState=[e,t===void 0?null:t],e},useContext:jr,useEffect:cm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zu(4194308,4,TE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zu(4,2,e,t)},useMemo:function(e,t){var n=yi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=yi();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=mN.bind(null,Ut,e),[i.memoizedState,e]},useRef:function(e){var t=yi();return e={current:e},t.memoizedState=e},useState:lm,useDebugValue:ig,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=lm(!1),t=e[0];return e=pN.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Ut,o=yi();if(Dt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=t(),mn===null)throw Error(ce(349));Lo&30||yE(i,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,cm(vE.bind(null,i,l,e),[e]),i.flags|=2048,Sc(9,wE.bind(null,i,l,n,t),void 0,null),n},useId:function(){var e=yi(),t=mn.identifierPrefix;if(Dt){var n=Yi,i=Gi;n=(i&~(1<<32-ei(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ec++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wN={readContext:jr,useCallback:NE,useContext:jr,useEffect:rg,useImperativeHandle:IE,useInsertionEffect:SE,useLayoutEffect:bE,useMemo:_E,useReducer:bh,useRef:AE,useState:function(){return bh(Ac)},useDebugValue:ig,useDeferredValue:function(e){var t=Ur();return OE(t,ln.memoizedState,e)},useTransition:function(){var e=bh(Ac)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:mE,useSyncExternalStore:xE,useId:ME,unstable_isNewReconciler:!1},vN={readContext:jr,useCallback:NE,useContext:jr,useEffect:rg,useImperativeHandle:IE,useInsertionEffect:SE,useLayoutEffect:bE,useMemo:_E,useReducer:Th,useRef:AE,useState:function(){return Th(Ac)},useDebugValue:ig,useDeferredValue:function(e){var t=Ur();return ln===null?t.memoizedState=e:OE(t,ln.memoizedState,e)},useTransition:function(){var e=Th(Ac)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:mE,useSyncExternalStore:xE,useId:ME,unstable_isNewReconciler:!1};function Gr(e,t){if(e&&e.defaultProps){t=zt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function A1(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:zt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gf={isMounted:function(e){return(e=e._reactInternals)?Zo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Gn(),o=Vs(e),l=Qi(i,o);l.payload=t,n!=null&&(l.callback=n),t=Us(e,l,o),t!==null&&(ti(t,e,o,i),Xu(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Gn(),o=Vs(e),l=Qi(i,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Us(e,l,o),t!==null&&(ti(t,e,o,i),Xu(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gn(),i=Vs(e),o=Qi(n,i);o.tag=2,t!=null&&(o.callback=t),t=Us(e,o,i),t!==null&&(ti(t,e,i,n),Xu(t,e,i))}};function um(e,t,n,i,o,l,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,f):t.prototype&&t.prototype.isPureReactComponent?!mc(n,i)||!mc(o,l):!0}function PE(e,t,n){var i=!1,o=qs,l=t.contextType;return typeof l=="object"&&l!==null?l=jr(l):(o=ar(t)?ko:Ln.current,i=t.contextTypes,l=(i=i!=null)?qa(e,o):qs),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gf,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function dm(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&gf.enqueueReplaceState(t,t.state,null)}function S1(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},q0(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=jr(l):(l=ar(t)?ko:Ln.current,o.context=qa(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(A1(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&gf.enqueueReplaceState(o,o.state,null),Cd(e,n,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function el(e,t){try{var n="",i=t;do n+=Q4(i),i=i.return;while(i);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function Ih(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function b1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var CN=typeof WeakMap=="function"?WeakMap:Map;function LE(e,t,n){n=Qi(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Td||(Td=!0,P1=i),b1(e,t)},n}function BE(e,t,n){n=Qi(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){b1(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){b1(e,t),typeof i!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function fm(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new CN;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=PN.bind(null,e,t,n),t.then(e,e))}function hm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gm(e,t,n,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qi(-1,1),t.tag=2,Us(n,t,1))),n.lanes|=1),e)}var EN=rs.ReactCurrentOwner,sr=!1;function Hn(e,t,n,i){t.child=e===null?fE(t,null,n,i):$a(t,e.child,n,i)}function pm(e,t,n,i,o){n=n.render;var l=t.ref;return Na(t,o),i=tg(e,t,n,i,l,o),n=ng(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ji(e,t,o)):(Dt&&n&&H0(t),t.flags|=1,Hn(e,t,i,o),t.child)}function mm(e,t,n,i,o){if(e===null){var l=n.type;return typeof l=="function"&&!fg(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,FE(e,t,l,i,o)):(e=Ju(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var f=l.memoizedProps;if(n=n.compare,n=n!==null?n:mc,n(f,i)&&e.ref===t.ref)return Ji(e,t,o)}return t.flags|=1,e=Hs(l,i),e.ref=t.ref,e.return=t,t.child=e}function FE(e,t,n,i,o){if(e!==null){var l=e.memoizedProps;if(mc(l,i)&&e.ref===t.ref)if(sr=!1,t.pendingProps=i=l,(e.lanes&o)!==0)e.flags&131072&&(sr=!0);else return t.lanes=e.lanes,Ji(e,t,o)}return T1(e,t,n,i,o)}function jE(e,t,n){var i=t.pendingProps,o=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Ca,hr),hr|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,St(Ca,hr),hr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,St(Ca,hr),hr|=i}else l!==null?(i=l.baseLanes|n,t.memoizedState=null):i=n,St(Ca,hr),hr|=i;return Hn(e,t,o,n),t.child}function UE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function T1(e,t,n,i,o){var l=ar(n)?ko:Ln.current;return l=qa(t,l),Na(t,o),n=tg(e,t,n,i,l,o),i=ng(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ji(e,t,o)):(Dt&&i&&H0(t),t.flags|=1,Hn(e,t,n,o),t.child)}function xm(e,t,n,i,o){if(ar(n)){var l=!0;md(t)}else l=!1;if(Na(t,o),t.stateNode===null)qu(e,t),PE(t,n,i),S1(t,n,i,o),i=!0;else if(e===null){var f=t.stateNode,g=t.memoizedProps;f.props=g;var x=f.context,p=n.contextType;typeof p=="object"&&p!==null?p=jr(p):(p=ar(n)?ko:Ln.current,p=qa(t,p));var w=n.getDerivedStateFromProps,v=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function";v||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==i||x!==p)&&dm(t,f,i,p),Cs=!1;var b=t.memoizedState;f.state=b,Cd(t,i,f,o),x=t.memoizedState,g!==i||b!==x||or.current||Cs?(typeof w=="function"&&(A1(t,n,w,i),x=t.memoizedState),(g=Cs||um(t,n,g,i,b,x,p))?(v||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=x),f.props=i,f.state=x,f.context=p,i=g):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,gE(e,t),g=t.memoizedProps,p=t.type===t.elementType?g:Gr(t.type,g),f.props=p,v=t.pendingProps,b=f.context,x=n.contextType,typeof x=="object"&&x!==null?x=jr(x):(x=ar(n)?ko:Ln.current,x=qa(t,x));var M=n.getDerivedStateFromProps;(w=typeof M=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==v||b!==x)&&dm(t,f,i,x),Cs=!1,b=t.memoizedState,f.state=b,Cd(t,i,f,o);var P=t.memoizedState;g!==v||b!==P||or.current||Cs?(typeof M=="function"&&(A1(t,n,M,i),P=t.memoizedState),(p=Cs||um(t,n,p,i,b,P,x)||!1)?(w||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,P,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,P,x)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=P),f.props=i,f.state=P,f.context=x,i=p):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),i=!1)}return I1(e,t,n,i,l,o)}function I1(e,t,n,i,o,l){UE(e,t);var f=(t.flags&128)!==0;if(!i&&!f)return o&&nm(t,n,!1),Ji(e,t,l);i=t.stateNode,EN.current=t;var g=f&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&f?(t.child=$a(t,e.child,null,l),t.child=$a(t,null,g,l)):Hn(e,t,g,l),t.memoizedState=i.state,o&&nm(t,n,!0),t.child}function zE(e){var t=e.stateNode;t.pendingContext?tm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tm(e,t.context,!1),K0(e,t.containerInfo)}function ym(e,t,n,i,o){return Ka(),G0(o),t.flags|=256,Hn(e,t,n,i),t.child}var N1={dehydrated:null,treeContext:null,retryLane:0};function _1(e){return{baseLanes:e,cachePool:null,transitions:null}}function VE(e,t,n){var i=t.pendingProps,o=jt.current,l=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(o&2)!==0),g?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),St(jt,o&1),e===null)return C1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=i.children,e=i.fallback,l?(i=t.mode,l=t.child,f={mode:"hidden",children:f},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=f):l=xf(f,i,0,null),e=Mo(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=_1(n),t.memoizedState=N1,e):sg(t,f));if(o=e.memoizedState,o!==null&&(g=o.dehydrated,g!==null))return AN(e,t,f,i,g,o,n);if(l){l=i.fallback,f=t.mode,o=e.child,g=o.sibling;var x={mode:"hidden",children:i.children};return!(f&1)&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=x,t.deletions=null):(i=Hs(o,x),i.subtreeFlags=o.subtreeFlags&14680064),g!==null?l=Hs(g,l):(l=Mo(l,f,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,f=e.child.memoizedState,f=f===null?_1(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},l.memoizedState=f,l.childLanes=e.childLanes&~n,t.memoizedState=N1,i}return l=e.child,e=l.sibling,i=Hs(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function sg(e,t){return t=xf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Du(e,t,n,i){return i!==null&&G0(i),$a(t,e.child,null,n),e=sg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AN(e,t,n,i,o,l,f){if(n)return t.flags&256?(t.flags&=-257,i=Ih(Error(ce(422))),Du(e,t,f,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,o=t.mode,i=xf({mode:"visible",children:i.children},o,0,null),l=Mo(l,o,f,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&$a(t,e.child,null,f),t.child.memoizedState=_1(f),t.memoizedState=N1,l);if(!(t.mode&1))return Du(e,t,f,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var g=i.dgst;return i=g,l=Error(ce(419)),i=Ih(l,i,void 0),Du(e,t,f,i)}if(g=(f&e.childLanes)!==0,sr||g){if(i=mn,i!==null){switch(f&-f){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|f)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,$i(e,o),ti(i,e,o,-1))}return dg(),i=Ih(Error(ce(421))),Du(e,t,f,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=LN.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,yr=js(o.nextSibling),wr=t,Dt=!0,Zr=null,e!==null&&(Pr[Lr++]=Gi,Pr[Lr++]=Yi,Pr[Lr++]=Po,Gi=e.id,Yi=e.overflow,Po=t),t=sg(t,i.children),t.flags|=4096,t)}function wm(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),E1(e.return,t,n)}function Nh(e,t,n,i,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=o)}function HE(e,t,n){var i=t.pendingProps,o=i.revealOrder,l=i.tail;if(Hn(e,t,i.children,n),i=jt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wm(e,n,t);else if(e.tag===19)wm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(St(jt,i),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ed(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Nh(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ed(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Nh(t,!0,n,null,l);break;case"together":Nh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ji(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,n=Hs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function SN(e,t,n){switch(t.tag){case 3:zE(t),Ka();break;case 5:pE(t);break;case 1:ar(t.type)&&md(t);break;case 4:K0(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;St(wd,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(St(jt,jt.current&1),t.flags|=128,null):n&t.child.childLanes?VE(e,t,n):(St(jt,jt.current&1),e=Ji(e,t,n),e!==null?e.sibling:null);St(jt,jt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return HE(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),St(jt,jt.current),i)break;return null;case 22:case 23:return t.lanes=0,jE(e,t,n)}return Ji(e,t,n)}var WE,O1,GE,YE;WE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};O1=function(){};GE=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Co(Ni.current);var l=null;switch(n){case"input":o=$h(e,o),i=$h(e,i),l=[];break;case"select":o=zt({},o,{value:void 0}),i=zt({},i,{value:void 0}),l=[];break;case"textarea":o=t1(e,o),i=t1(e,i),l=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=gd)}r1(n,i);var f;n=null;for(p in o)if(!i.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var g=o[p];for(f in g)g.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(cc.hasOwnProperty(p)?l||(l=[]):(l=l||[]).push(p,null));for(p in i){var x=i[p];if(g=o!=null?o[p]:void 0,i.hasOwnProperty(p)&&x!==g&&(x!=null||g!=null))if(p==="style")if(g){for(f in g)!g.hasOwnProperty(f)||x&&x.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in x)x.hasOwnProperty(f)&&g[f]!==x[f]&&(n||(n={}),n[f]=x[f])}else n||(l||(l=[]),l.push(p,n)),n=x;else p==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,g=g?g.__html:void 0,x!=null&&g!==x&&(l=l||[]).push(p,x)):p==="children"?typeof x!="string"&&typeof x!="number"||(l=l||[]).push(p,""+x):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(cc.hasOwnProperty(p)?(x!=null&&p==="onScroll"&&It("scroll",e),l||g===x||(l=[])):(l=l||[]).push(p,x))}n&&(l=l||[]).push("style",n);var p=l;(t.updateQueue=p)&&(t.flags|=4)}};YE=function(e,t,n,i){n!==i&&(t.flags|=4)};function Dl(e,t){if(!Dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Rn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function bN(e,t,n){var i=t.pendingProps;switch(W0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(t),null;case 1:return ar(t.type)&&pd(),Rn(t),null;case 3:return i=t.stateNode,Ja(),_t(or),_t(Ln),J0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Mu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zr!==null&&(F1(Zr),Zr=null))),O1(e,t),Rn(t),null;case 5:$0(t);var o=Co(Cc.current);if(n=t.type,e!==null&&t.stateNode!=null)GE(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(ce(166));return Rn(t),null}if(e=Co(Ni.current),Mu(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[Si]=t,i[wc]=l,e=(t.mode&1)!==0,n){case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":case"embed":It("load",i);break;case"video":case"audio":for(o=0;o<Wl.length;o++)It(Wl[o],i);break;case"source":It("error",i);break;case"img":case"image":case"link":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"input":Np(i,l),It("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},It("invalid",i);break;case"textarea":Op(i,l),It("invalid",i)}r1(n,l),o=null;for(var f in l)if(l.hasOwnProperty(f)){var g=l[f];f==="children"?typeof g=="string"?i.textContent!==g&&(l.suppressHydrationWarning!==!0&&Ou(i.textContent,g,e),o=["children",g]):typeof g=="number"&&i.textContent!==""+g&&(l.suppressHydrationWarning!==!0&&Ou(i.textContent,g,e),o=["children",""+g]):cc.hasOwnProperty(f)&&g!=null&&f==="onScroll"&&It("scroll",i)}switch(n){case"input":Eu(i),_p(i,l,!0);break;case"textarea":Eu(i),Mp(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=gd)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{f=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=f.createElement(n,{is:i.is}):(e=f.createElement(n),n==="select"&&(f=e,i.multiple?f.multiple=!0:i.size&&(f.size=i.size))):e=f.createElementNS(e,n),e[Si]=t,e[wc]=i,WE(e,t,!1,!1),t.stateNode=e;e:{switch(f=i1(n,i),n){case"dialog":It("cancel",e),It("close",e),o=i;break;case"iframe":case"object":case"embed":It("load",e),o=i;break;case"video":case"audio":for(o=0;o<Wl.length;o++)It(Wl[o],e);o=i;break;case"source":It("error",e),o=i;break;case"img":case"image":case"link":It("error",e),It("load",e),o=i;break;case"details":It("toggle",e),o=i;break;case"input":Np(e,i),o=$h(e,i),It("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=zt({},i,{value:void 0}),It("invalid",e);break;case"textarea":Op(e,i),o=t1(e,i),It("invalid",e);break;default:o=i}r1(n,o),g=o;for(l in g)if(g.hasOwnProperty(l)){var x=g[l];l==="style"?AC(e,x):l==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&CC(e,x)):l==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&uc(e,x):typeof x=="number"&&uc(e,""+x):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(cc.hasOwnProperty(l)?x!=null&&l==="onScroll"&&It("scroll",e):x!=null&&_0(e,l,x,f))}switch(n){case"input":Eu(e),_p(e,i,!1);break;case"textarea":Eu(e),Mp(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Zs(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?Sa(e,!!i.multiple,l,!1):i.defaultValue!=null&&Sa(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=gd)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rn(t),null;case 6:if(e&&t.stateNode!=null)YE(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(ce(166));if(n=Co(Cc.current),Co(Ni.current),Mu(t)){if(i=t.stateNode,n=t.memoizedProps,i[Si]=t,(l=i.nodeValue!==n)&&(e=wr,e!==null))switch(e.tag){case 3:Ou(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ou(i.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Si]=t,t.stateNode=i}return Rn(t),null;case 13:if(_t(jt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Dt&&yr!==null&&t.mode&1&&!(t.flags&128))uE(),Ka(),t.flags|=98560,l=!1;else if(l=Mu(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(ce(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ce(317));l[Si]=t}else Ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rn(t),l=!1}else Zr!==null&&(F1(Zr),Zr=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||jt.current&1?dn===0&&(dn=3):dg())),t.updateQueue!==null&&(t.flags|=4),Rn(t),null);case 4:return Ja(),O1(e,t),e===null&&xc(t.stateNode.containerInfo),Rn(t),null;case 10:return Q0(t.type._context),Rn(t),null;case 17:return ar(t.type)&&pd(),Rn(t),null;case 19:if(_t(jt),l=t.memoizedState,l===null)return Rn(t),null;if(i=(t.flags&128)!==0,f=l.rendering,f===null)if(i)Dl(l,!1);else{if(dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(f=Ed(e),f!==null){for(t.flags|=128,Dl(l,!1),i=f.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)l=n,e=i,l.flags&=14680066,f=l.alternate,f===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=f.childLanes,l.lanes=f.lanes,l.child=f.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=f.memoizedProps,l.memoizedState=f.memoizedState,l.updateQueue=f.updateQueue,l.type=f.type,e=f.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return St(jt,jt.current&1|2),t.child}e=e.sibling}l.tail!==null&&tn()>tl&&(t.flags|=128,i=!0,Dl(l,!1),t.lanes=4194304)}else{if(!i)if(e=Ed(f),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Dt)return Rn(t),null}else 2*tn()-l.renderingStartTime>tl&&n!==1073741824&&(t.flags|=128,i=!0,Dl(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(n=l.last,n!==null?n.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,n=jt.current,St(jt,i?n&1|2:n&1),t):(Rn(t),null);case 22:case 23:return ug(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?hr&1073741824&&(Rn(t),t.subtreeFlags&6&&(t.flags|=8192)):Rn(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function TN(e,t){switch(W0(t),t.tag){case 1:return ar(t.type)&&pd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ja(),_t(or),_t(Ln),J0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $0(t),null;case 13:if(_t(jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));Ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(jt),null;case 4:return Ja(),null;case 10:return Q0(t.type._context),null;case 22:case 23:return ug(),null;case 24:return null;default:return null}}var ku=!1,kn=!1,IN=typeof WeakSet=="function"?WeakSet:Set,_e=null;function va(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Qt(e,t,i)}else n.current=null}function M1(e,t,n){try{n()}catch(i){Qt(e,t,i)}}var vm=!1;function NN(e,t){if(g1=dd,e=KC(),V0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var f=0,g=-1,x=-1,p=0,w=0,v=e,b=null;t:for(;;){for(var M;v!==n||o!==0&&v.nodeType!==3||(g=f+o),v!==l||i!==0&&v.nodeType!==3||(x=f+i),v.nodeType===3&&(f+=v.nodeValue.length),(M=v.firstChild)!==null;)b=v,v=M;for(;;){if(v===e)break t;if(b===n&&++p===o&&(g=f),b===l&&++w===i&&(x=f),(M=v.nextSibling)!==null)break;v=b,b=v.parentNode}v=M}n=g===-1||x===-1?null:{start:g,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(p1={focusedElem:e,selectionRange:n},dd=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var _=P.memoizedProps,k=P.memoizedState,O=t.stateNode,T=O.getSnapshotBeforeUpdate(t.elementType===t.type?_:Gr(t.type,_),k);O.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(B){Qt(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return P=vm,vm=!1,P}function rc(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&M1(t,n,l)}o=o.next}while(o!==i)}}function pf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function R1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function XE(e){var t=e.alternate;t!==null&&(e.alternate=null,XE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Si],delete t[wc],delete t[y1],delete t[uN],delete t[dN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function QE(e){return e.tag===5||e.tag===3||e.tag===4}function Cm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||QE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function D1(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gd));else if(i!==4&&(e=e.child,e!==null))for(D1(e,t,n),e=e.sibling;e!==null;)D1(e,t,n),e=e.sibling}function k1(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(k1(e,t,n),e=e.sibling;e!==null;)k1(e,t,n),e=e.sibling}var En=null,Xr=!1;function ds(e,t,n){for(n=n.child;n!==null;)ZE(e,t,n),n=n.sibling}function ZE(e,t,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(af,n)}catch{}switch(n.tag){case 5:kn||va(n,t);case 6:var i=En,o=Xr;En=null,ds(e,t,n),En=i,Xr=o,En!==null&&(Xr?(e=En,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):En.removeChild(n.stateNode));break;case 18:En!==null&&(Xr?(e=En,n=n.stateNode,e.nodeType===8?Ch(e.parentNode,n):e.nodeType===1&&Ch(e,n),gc(e)):Ch(En,n.stateNode));break;case 4:i=En,o=Xr,En=n.stateNode.containerInfo,Xr=!0,ds(e,t,n),En=i,Xr=o;break;case 0:case 11:case 14:case 15:if(!kn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var l=o,f=l.destroy;l=l.tag,f!==void 0&&(l&2||l&4)&&M1(n,t,f),o=o.next}while(o!==i)}ds(e,t,n);break;case 1:if(!kn&&(va(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(g){Qt(n,t,g)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:n.mode&1?(kn=(i=kn)||n.memoizedState!==null,ds(e,t,n),kn=i):ds(e,t,n);break;default:ds(e,t,n)}}function Em(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new IN),t.forEach(function(i){var o=BN.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}}function Wr(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var l=e,f=t,g=f;e:for(;g!==null;){switch(g.tag){case 5:En=g.stateNode,Xr=!1;break e;case 3:En=g.stateNode.containerInfo,Xr=!0;break e;case 4:En=g.stateNode.containerInfo,Xr=!0;break e}g=g.return}if(En===null)throw Error(ce(160));ZE(l,f,o),En=null,Xr=!1;var x=o.alternate;x!==null&&(x.return=null),o.return=null}catch(p){Qt(o,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qE(t,e),t=t.sibling}function qE(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wr(t,e),xi(e),i&4){try{rc(3,e,e.return),pf(3,e)}catch(_){Qt(e,e.return,_)}try{rc(5,e,e.return)}catch(_){Qt(e,e.return,_)}}break;case 1:Wr(t,e),xi(e),i&512&&n!==null&&va(n,n.return);break;case 5:if(Wr(t,e),xi(e),i&512&&n!==null&&va(n,n.return),e.flags&32){var o=e.stateNode;try{uc(o,"")}catch(_){Qt(e,e.return,_)}}if(i&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,f=n!==null?n.memoizedProps:l,g=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{g==="input"&&l.type==="radio"&&l.name!=null&&yC(o,l),i1(g,f);var p=i1(g,l);for(f=0;f<x.length;f+=2){var w=x[f],v=x[f+1];w==="style"?AC(o,v):w==="dangerouslySetInnerHTML"?CC(o,v):w==="children"?uc(o,v):_0(o,w,v,p)}switch(g){case"input":Jh(o,l);break;case"textarea":wC(o,l);break;case"select":var b=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var M=l.value;M!=null?Sa(o,!!l.multiple,M,!1):b!==!!l.multiple&&(l.defaultValue!=null?Sa(o,!!l.multiple,l.defaultValue,!0):Sa(o,!!l.multiple,l.multiple?[]:"",!1))}o[wc]=l}catch(_){Qt(e,e.return,_)}}break;case 6:if(Wr(t,e),xi(e),i&4){if(e.stateNode===null)throw Error(ce(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(_){Qt(e,e.return,_)}}break;case 3:if(Wr(t,e),xi(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{gc(t.containerInfo)}catch(_){Qt(e,e.return,_)}break;case 4:Wr(t,e),xi(e);break;case 13:Wr(t,e),xi(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(lg=tn())),i&4&&Em(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(kn=(p=kn)||w,Wr(t,e),kn=p):Wr(t,e),xi(e),i&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!w&&e.mode&1)for(_e=e,w=e.child;w!==null;){for(v=_e=w;_e!==null;){switch(b=_e,M=b.child,b.tag){case 0:case 11:case 14:case 15:rc(4,b,b.return);break;case 1:va(b,b.return);var P=b.stateNode;if(typeof P.componentWillUnmount=="function"){i=b,n=b.return;try{t=i,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(_){Qt(i,n,_)}}break;case 5:va(b,b.return);break;case 22:if(b.memoizedState!==null){Sm(v);continue}}M!==null?(M.return=b,_e=M):Sm(v)}w=w.sibling}e:for(w=null,v=e;;){if(v.tag===5){if(w===null){w=v;try{o=v.stateNode,p?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(g=v.stateNode,x=v.memoizedProps.style,f=x!=null&&x.hasOwnProperty("display")?x.display:null,g.style.display=EC("display",f))}catch(_){Qt(e,e.return,_)}}}else if(v.tag===6){if(w===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(_){Qt(e,e.return,_)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;w===v&&(w=null),v=v.return}w===v&&(w=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Wr(t,e),xi(e),i&4&&Em(e);break;case 21:break;default:Wr(t,e),xi(e)}}function xi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(QE(n)){var i=n;break e}n=n.return}throw Error(ce(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(uc(o,""),i.flags&=-33);var l=Cm(e);k1(e,l,o);break;case 3:case 4:var f=i.stateNode.containerInfo,g=Cm(e);D1(e,g,f);break;default:throw Error(ce(161))}}catch(x){Qt(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _N(e,t,n){_e=e,KE(e)}function KE(e,t,n){for(var i=(e.mode&1)!==0;_e!==null;){var o=_e,l=o.child;if(o.tag===22&&i){var f=o.memoizedState!==null||ku;if(!f){var g=o.alternate,x=g!==null&&g.memoizedState!==null||kn;g=ku;var p=kn;if(ku=f,(kn=x)&&!p)for(_e=o;_e!==null;)f=_e,x=f.child,f.tag===22&&f.memoizedState!==null?bm(o):x!==null?(x.return=f,_e=x):bm(o);for(;l!==null;)_e=l,KE(l),l=l.sibling;_e=o,ku=g,kn=p}Am(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,_e=l):Am(e)}}function Am(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kn||pf(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!kn)if(n===null)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Gr(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&am(t,l,i);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}am(t,f,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var w=p.memoizedState;if(w!==null){var v=w.dehydrated;v!==null&&gc(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}kn||t.flags&512&&R1(t)}catch(b){Qt(t,t.return,b)}}if(t===e){_e=null;break}if(n=t.sibling,n!==null){n.return=t.return,_e=n;break}_e=t.return}}function Sm(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_e=n;break}_e=t.return}}function bm(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pf(4,t)}catch(x){Qt(t,n,x)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(x){Qt(t,o,x)}}var l=t.return;try{R1(t)}catch(x){Qt(t,l,x)}break;case 5:var f=t.return;try{R1(t)}catch(x){Qt(t,f,x)}}}catch(x){Qt(t,t.return,x)}if(t===e){_e=null;break}var g=t.sibling;if(g!==null){g.return=t.return,_e=g;break}_e=t.return}}var ON=Math.ceil,bd=rs.ReactCurrentDispatcher,og=rs.ReactCurrentOwner,Fr=rs.ReactCurrentBatchConfig,at=0,mn=null,rn=null,Tn=0,hr=0,Ca=oo(0),dn=0,bc=null,Bo=0,mf=0,ag=0,ic=null,ir=null,lg=0,tl=1/0,zi=null,Td=!1,P1=null,zs=null,Pu=!1,Ps=null,Id=0,sc=0,L1=null,Ku=-1,$u=0;function Gn(){return at&6?tn():Ku!==-1?Ku:Ku=tn()}function Vs(e){return e.mode&1?at&2&&Tn!==0?Tn&-Tn:hN.transition!==null?($u===0&&($u=PC()),$u):(e=wt,e!==0||(e=window.event,e=e===void 0?16:VC(e.type)),e):1}function ti(e,t,n,i){if(50<sc)throw sc=0,L1=null,Error(ce(185));qc(e,n,i),(!(at&2)||e!==mn)&&(e===mn&&(!(at&2)&&(mf|=n),dn===4&&As(e,Tn)),lr(e,i),n===1&&at===0&&!(t.mode&1)&&(tl=tn()+500,ff&&ao()))}function lr(e,t){var n=e.callbackNode;hI(e,t);var i=ud(e,e===mn?Tn:0);if(i===0)n!==null&&kp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&kp(n),t===1)e.tag===0?fN(Tm.bind(null,e)):aE(Tm.bind(null,e)),lN(function(){!(at&6)&&ao()}),n=null;else{switch(LC(i)){case 1:n=k0;break;case 4:n=DC;break;case 16:n=cd;break;case 536870912:n=kC;break;default:n=cd}n=sA(n,$E.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $E(e,t){if(Ku=-1,$u=0,at&6)throw Error(ce(327));var n=e.callbackNode;if(_a()&&e.callbackNode!==n)return null;var i=ud(e,e===mn?Tn:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Nd(e,i);else{t=i;var o=at;at|=2;var l=eA();(mn!==e||Tn!==t)&&(zi=null,tl=tn()+500,Oo(e,t));do try{DN();break}catch(g){JE(e,g)}while(!0);X0(),bd.current=l,at=o,rn!==null?t=0:(mn=null,Tn=0,t=dn)}if(t!==0){if(t===2&&(o=c1(e),o!==0&&(i=o,t=B1(e,o))),t===1)throw n=bc,Oo(e,0),As(e,i),lr(e,tn()),n;if(t===6)As(e,i);else{if(o=e.current.alternate,!(i&30)&&!MN(o)&&(t=Nd(e,i),t===2&&(l=c1(e),l!==0&&(i=l,t=B1(e,l))),t===1))throw n=bc,Oo(e,0),As(e,i),lr(e,tn()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(ce(345));case 2:mo(e,ir,zi);break;case 3:if(As(e,i),(i&130023424)===i&&(t=lg+500-tn(),10<t)){if(ud(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){Gn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=x1(mo.bind(null,e,ir,zi),t);break}mo(e,ir,zi);break;case 4:if(As(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var f=31-ei(i);l=1<<f,f=t[f],f>o&&(o=f),i&=~l}if(i=o,i=tn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ON(i/1960))-i,10<i){e.timeoutHandle=x1(mo.bind(null,e,ir,zi),i);break}mo(e,ir,zi);break;case 5:mo(e,ir,zi);break;default:throw Error(ce(329))}}}return lr(e,tn()),e.callbackNode===n?$E.bind(null,e):null}function B1(e,t){var n=ic;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),e=Nd(e,t),e!==2&&(t=ir,ir=n,t!==null&&F1(t)),e}function F1(e){ir===null?ir=e:ir.push.apply(ir,e)}function MN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],l=o.getSnapshot;o=o.value;try{if(!ri(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function As(e,t){for(t&=~ag,t&=~mf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ei(t),i=1<<n;e[n]=-1,t&=~i}}function Tm(e){if(at&6)throw Error(ce(327));_a();var t=ud(e,0);if(!(t&1))return lr(e,tn()),null;var n=Nd(e,t);if(e.tag!==0&&n===2){var i=c1(e);i!==0&&(t=i,n=B1(e,i))}if(n===1)throw n=bc,Oo(e,0),As(e,t),lr(e,tn()),n;if(n===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mo(e,ir,zi),lr(e,tn()),null}function cg(e,t){var n=at;at|=1;try{return e(t)}finally{at=n,at===0&&(tl=tn()+500,ff&&ao())}}function Fo(e){Ps!==null&&Ps.tag===0&&!(at&6)&&_a();var t=at;at|=1;var n=Fr.transition,i=wt;try{if(Fr.transition=null,wt=1,e)return e()}finally{wt=i,Fr.transition=n,at=t,!(at&6)&&ao()}}function ug(){hr=Ca.current,_t(Ca)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,aN(n)),rn!==null)for(n=rn.return;n!==null;){var i=n;switch(W0(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&pd();break;case 3:Ja(),_t(or),_t(Ln),J0();break;case 5:$0(i);break;case 4:Ja();break;case 13:_t(jt);break;case 19:_t(jt);break;case 10:Q0(i.type._context);break;case 22:case 23:ug()}n=n.return}if(mn=e,rn=e=Hs(e.current,null),Tn=hr=t,dn=0,bc=null,ag=mf=Bo=0,ir=ic=null,vo!==null){for(t=0;t<vo.length;t++)if(n=vo[t],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,l=n.pending;if(l!==null){var f=l.next;l.next=o,i.next=f}n.pending=i}vo=null}return e}function JE(e,t){do{var n=rn;try{if(X0(),Qu.current=Sd,Ad){for(var i=Ut.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Ad=!1}if(Lo=0,pn=ln=Ut=null,nc=!1,Ec=0,og.current=null,n===null||n.return===null){dn=1,bc=t,rn=null;break}e:{var l=e,f=n.return,g=n,x=t;if(t=Tn,g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var p=x,w=g,v=w.tag;if(!(w.mode&1)&&(v===0||v===11||v===15)){var b=w.alternate;b?(w.updateQueue=b.updateQueue,w.memoizedState=b.memoizedState,w.lanes=b.lanes):(w.updateQueue=null,w.memoizedState=null)}var M=hm(f);if(M!==null){M.flags&=-257,gm(M,f,g,l,t),M.mode&1&&fm(l,p,t),t=M,x=p;var P=t.updateQueue;if(P===null){var _=new Set;_.add(x),t.updateQueue=_}else P.add(x);break e}else{if(!(t&1)){fm(l,p,t),dg();break e}x=Error(ce(426))}}else if(Dt&&g.mode&1){var k=hm(f);if(k!==null){!(k.flags&65536)&&(k.flags|=256),gm(k,f,g,l,t),G0(el(x,g));break e}}l=x=el(x,g),dn!==4&&(dn=2),ic===null?ic=[l]:ic.push(l),l=f;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var O=LE(l,x,t);om(l,O);break e;case 1:g=x;var T=l.type,N=l.stateNode;if(!(l.flags&128)&&(typeof T.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(zs===null||!zs.has(N)))){l.flags|=65536,t&=-t,l.lanes|=t;var B=BE(l,g,t);om(l,B);break e}}l=l.return}while(l!==null)}nA(n)}catch(W){t=W,rn===n&&n!==null&&(rn=n=n.return);continue}break}while(!0)}function eA(){var e=bd.current;return bd.current=Sd,e===null?Sd:e}function dg(){(dn===0||dn===3||dn===2)&&(dn=4),mn===null||!(Bo&268435455)&&!(mf&268435455)||As(mn,Tn)}function Nd(e,t){var n=at;at|=2;var i=eA();(mn!==e||Tn!==t)&&(zi=null,Oo(e,t));do try{RN();break}catch(o){JE(e,o)}while(!0);if(X0(),at=n,bd.current=i,rn!==null)throw Error(ce(261));return mn=null,Tn=0,dn}function RN(){for(;rn!==null;)tA(rn)}function DN(){for(;rn!==null&&!iI();)tA(rn)}function tA(e){var t=iA(e.alternate,e,hr);e.memoizedProps=e.pendingProps,t===null?nA(e):rn=t,og.current=null}function nA(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=TN(n,t),n!==null){n.flags&=32767,rn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dn=6,rn=null;return}}else if(n=bN(n,t,hr),n!==null){rn=n;return}if(t=t.sibling,t!==null){rn=t;return}rn=t=e}while(t!==null);dn===0&&(dn=5)}function mo(e,t,n){var i=wt,o=Fr.transition;try{Fr.transition=null,wt=1,kN(e,t,n,i)}finally{Fr.transition=o,wt=i}return null}function kN(e,t,n,i){do _a();while(Ps!==null);if(at&6)throw Error(ce(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(gI(e,l),e===mn&&(rn=mn=null,Tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pu||(Pu=!0,sA(cd,function(){return _a(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Fr.transition,Fr.transition=null;var f=wt;wt=1;var g=at;at|=4,og.current=null,NN(e,n),qE(n,e),eN(p1),dd=!!g1,p1=g1=null,e.current=n,_N(n),sI(),at=g,wt=f,Fr.transition=l}else e.current=n;if(Pu&&(Pu=!1,Ps=e,Id=o),l=e.pendingLanes,l===0&&(zs=null),lI(n.stateNode),lr(e,tn()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(Td)throw Td=!1,e=P1,P1=null,e;return Id&1&&e.tag!==0&&_a(),l=e.pendingLanes,l&1?e===L1?sc++:(sc=0,L1=e):sc=0,ao(),null}function _a(){if(Ps!==null){var e=LC(Id),t=Fr.transition,n=wt;try{if(Fr.transition=null,wt=16>e?16:e,Ps===null)var i=!1;else{if(e=Ps,Ps=null,Id=0,at&6)throw Error(ce(331));var o=at;for(at|=4,_e=e.current;_e!==null;){var l=_e,f=l.child;if(_e.flags&16){var g=l.deletions;if(g!==null){for(var x=0;x<g.length;x++){var p=g[x];for(_e=p;_e!==null;){var w=_e;switch(w.tag){case 0:case 11:case 15:rc(8,w,l)}var v=w.child;if(v!==null)v.return=w,_e=v;else for(;_e!==null;){w=_e;var b=w.sibling,M=w.return;if(XE(w),w===p){_e=null;break}if(b!==null){b.return=M,_e=b;break}_e=M}}}var P=l.alternate;if(P!==null){var _=P.child;if(_!==null){P.child=null;do{var k=_.sibling;_.sibling=null,_=k}while(_!==null)}}_e=l}}if(l.subtreeFlags&2064&&f!==null)f.return=l,_e=f;else e:for(;_e!==null;){if(l=_e,l.flags&2048)switch(l.tag){case 0:case 11:case 15:rc(9,l,l.return)}var O=l.sibling;if(O!==null){O.return=l.return,_e=O;break e}_e=l.return}}var T=e.current;for(_e=T;_e!==null;){f=_e;var N=f.child;if(f.subtreeFlags&2064&&N!==null)N.return=f,_e=N;else e:for(f=T;_e!==null;){if(g=_e,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:pf(9,g)}}catch(W){Qt(g,g.return,W)}if(g===f){_e=null;break e}var B=g.sibling;if(B!==null){B.return=g.return,_e=B;break e}_e=g.return}}if(at=o,ao(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(af,e)}catch{}i=!0}return i}finally{wt=n,Fr.transition=t}}return!1}function Im(e,t,n){t=el(n,t),t=LE(e,t,1),e=Us(e,t,1),t=Gn(),e!==null&&(qc(e,1,t),lr(e,t))}function Qt(e,t,n){if(e.tag===3)Im(e,e,n);else for(;t!==null;){if(t.tag===3){Im(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zs===null||!zs.has(i))){e=el(n,e),e=BE(t,e,1),t=Us(t,e,1),e=Gn(),t!==null&&(qc(t,1,e),lr(t,e));break}}t=t.return}}function PN(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Gn(),e.pingedLanes|=e.suspendedLanes&n,mn===e&&(Tn&n)===n&&(dn===4||dn===3&&(Tn&130023424)===Tn&&500>tn()-lg?Oo(e,0):ag|=n),lr(e,t)}function rA(e,t){t===0&&(e.mode&1?(t=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):t=1);var n=Gn();e=$i(e,t),e!==null&&(qc(e,t,n),lr(e,n))}function LN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rA(e,n)}function BN(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(ce(314))}i!==null&&i.delete(t),rA(e,n)}var iA;iA=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||or.current)sr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return sr=!1,SN(e,t,n);sr=!!(e.flags&131072)}else sr=!1,Dt&&t.flags&1048576&&lE(t,yd,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;qu(e,t),e=t.pendingProps;var o=qa(t,Ln.current);Na(t,n),o=tg(null,t,i,e,o,n);var l=ng();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ar(i)?(l=!0,md(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,q0(t),o.updater=gf,t.stateNode=o,o._reactInternals=t,S1(t,i,e,n),t=I1(null,t,i,!0,l,n)):(t.tag=0,Dt&&l&&H0(t),Hn(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=jN(i),e=Gr(i,e),o){case 0:t=T1(null,t,i,e,n);break e;case 1:t=xm(null,t,i,e,n);break e;case 11:t=pm(null,t,i,e,n);break e;case 14:t=mm(null,t,i,Gr(i.type,e),n);break e}throw Error(ce(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Gr(i,o),T1(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Gr(i,o),xm(e,t,i,o,n);case 3:e:{if(zE(t),e===null)throw Error(ce(387));i=t.pendingProps,l=t.memoizedState,o=l.element,gE(e,t),Cd(t,i,null,n);var f=t.memoizedState;if(i=f.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=el(Error(ce(423)),t),t=ym(e,t,i,n,o);break e}else if(i!==o){o=el(Error(ce(424)),t),t=ym(e,t,i,n,o);break e}else for(yr=js(t.stateNode.containerInfo.firstChild),wr=t,Dt=!0,Zr=null,n=fE(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ka(),i===o){t=Ji(e,t,n);break e}Hn(e,t,i,n)}t=t.child}return t;case 5:return pE(t),e===null&&C1(t),i=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,f=o.children,m1(i,o)?f=null:l!==null&&m1(i,l)&&(t.flags|=32),UE(e,t),Hn(e,t,f,n),t.child;case 6:return e===null&&C1(t),null;case 13:return VE(e,t,n);case 4:return K0(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=$a(t,null,i,n):Hn(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Gr(i,o),pm(e,t,i,o,n);case 7:return Hn(e,t,t.pendingProps,n),t.child;case 8:return Hn(e,t,t.pendingProps.children,n),t.child;case 12:return Hn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,l=t.memoizedProps,f=o.value,St(wd,i._currentValue),i._currentValue=f,l!==null)if(ri(l.value,f)){if(l.children===o.children&&!or.current){t=Ji(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var g=l.dependencies;if(g!==null){f=l.child;for(var x=g.firstContext;x!==null;){if(x.context===i){if(l.tag===1){x=Qi(-1,n&-n),x.tag=2;var p=l.updateQueue;if(p!==null){p=p.shared;var w=p.pending;w===null?x.next=x:(x.next=w.next,w.next=x),p.pending=x}}l.lanes|=n,x=l.alternate,x!==null&&(x.lanes|=n),E1(l.return,n,t),g.lanes|=n;break}x=x.next}}else if(l.tag===10)f=l.type===t.type?null:l.child;else if(l.tag===18){if(f=l.return,f===null)throw Error(ce(341));f.lanes|=n,g=f.alternate,g!==null&&(g.lanes|=n),E1(f,n,t),f=l.sibling}else f=l.child;if(f!==null)f.return=l;else for(f=l;f!==null;){if(f===t){f=null;break}if(l=f.sibling,l!==null){l.return=f.return,f=l;break}f=f.return}l=f}Hn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Na(t,n),o=jr(o),i=i(o),t.flags|=1,Hn(e,t,i,n),t.child;case 14:return i=t.type,o=Gr(i,t.pendingProps),o=Gr(i.type,o),mm(e,t,i,o,n);case 15:return FE(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Gr(i,o),qu(e,t),t.tag=1,ar(i)?(e=!0,md(t)):e=!1,Na(t,n),PE(t,i,o),S1(t,i,o,n),I1(null,t,i,!0,e,n);case 19:return HE(e,t,n);case 22:return jE(e,t,n)}throw Error(ce(156,t.tag))};function sA(e,t){return RC(e,t)}function FN(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,n,i){return new FN(e,t,n,i)}function fg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jN(e){if(typeof e=="function")return fg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===M0)return 11;if(e===R0)return 14}return 2}function Hs(e,t){var n=e.alternate;return n===null?(n=Br(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ju(e,t,n,i,o,l){var f=2;if(i=e,typeof e=="function")fg(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case da:return Mo(n.children,o,l,t);case O0:f=8,o|=8;break;case Qh:return e=Br(12,n,t,o|2),e.elementType=Qh,e.lanes=l,e;case Zh:return e=Br(13,n,t,o),e.elementType=Zh,e.lanes=l,e;case qh:return e=Br(19,n,t,o),e.elementType=qh,e.lanes=l,e;case pC:return xf(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hC:f=10;break e;case gC:f=9;break e;case M0:f=11;break e;case R0:f=14;break e;case vs:f=16,i=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=Br(f,n,t,o),t.elementType=e,t.type=i,t.lanes=l,t}function Mo(e,t,n,i){return e=Br(7,e,i,t),e.lanes=n,e}function xf(e,t,n,i){return e=Br(22,e,i,t),e.elementType=pC,e.lanes=n,e.stateNode={isHidden:!1},e}function _h(e,t,n){return e=Br(6,e,null,t),e.lanes=n,e}function Oh(e,t,n){return t=Br(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function UN(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uh(0),this.expirationTimes=uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uh(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function hg(e,t,n,i,o,l,f,g,x){return e=new UN(e,t,n,g,x),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Br(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},q0(l),e}function zN(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ua,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function oA(e){if(!e)return qs;e=e._reactInternals;e:{if(Zo(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ar(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var n=e.type;if(ar(n))return oE(e,n,t)}return t}function aA(e,t,n,i,o,l,f,g,x){return e=hg(n,i,!0,e,o,l,f,g,x),e.context=oA(null),n=e.current,i=Gn(),o=Vs(n),l=Qi(i,o),l.callback=t??null,Us(n,l,o),e.current.lanes=o,qc(e,o,i),lr(e,i),e}function yf(e,t,n,i){var o=t.current,l=Gn(),f=Vs(o);return n=oA(n),t.context===null?t.context=n:t.pendingContext=n,t=Qi(l,f),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Us(o,t,f),e!==null&&(ti(e,o,f,l),Xu(e,o,f)),f}function _d(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gg(e,t){Nm(e,t),(e=e.alternate)&&Nm(e,t)}function VN(){return null}var lA=typeof reportError=="function"?reportError:function(e){console.error(e)};function pg(e){this._internalRoot=e}wf.prototype.render=pg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));yf(e,t,null,null)};wf.prototype.unmount=pg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fo(function(){yf(null,e,null,null)}),t[Ki]=null}};function wf(e){this._internalRoot=e}wf.prototype.unstable_scheduleHydration=function(e){if(e){var t=jC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Es.length&&t!==0&&t<Es[n].priority;n++);Es.splice(n,0,e),n===0&&zC(e)}};function mg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _m(){}function HN(e,t,n,i,o){if(o){if(typeof i=="function"){var l=i;i=function(){var p=_d(f);l.call(p)}}var f=aA(t,i,e,0,null,!1,!1,"",_m);return e._reactRootContainer=f,e[Ki]=f.current,xc(e.nodeType===8?e.parentNode:e),Fo(),f}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var g=i;i=function(){var p=_d(x);g.call(p)}}var x=hg(e,0,!1,null,null,!1,!1,"",_m);return e._reactRootContainer=x,e[Ki]=x.current,xc(e.nodeType===8?e.parentNode:e),Fo(function(){yf(t,x,n,i)}),x}function Cf(e,t,n,i,o){var l=n._reactRootContainer;if(l){var f=l;if(typeof o=="function"){var g=o;o=function(){var x=_d(f);g.call(x)}}yf(t,f,e,o)}else f=HN(n,t,e,o,i);return _d(f)}BC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hl(t.pendingLanes);n!==0&&(P0(t,n|1),lr(t,tn()),!(at&6)&&(tl=tn()+500,ao()))}break;case 13:Fo(function(){var i=$i(e,1);if(i!==null){var o=Gn();ti(i,e,1,o)}}),gg(e,1)}};L0=function(e){if(e.tag===13){var t=$i(e,134217728);if(t!==null){var n=Gn();ti(t,e,134217728,n)}gg(e,134217728)}};FC=function(e){if(e.tag===13){var t=Vs(e),n=$i(e,t);if(n!==null){var i=Gn();ti(n,e,t,i)}gg(e,t)}};jC=function(){return wt};UC=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}};o1=function(e,t,n){switch(t){case"input":if(Jh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=df(i);if(!o)throw Error(ce(90));xC(i),Jh(i,o)}}}break;case"textarea":wC(e,n);break;case"select":t=n.value,t!=null&&Sa(e,!!n.multiple,t,!1)}};TC=cg;IC=Fo;var WN={usingClientEntryPoint:!1,Events:[$c,pa,df,SC,bC,cg]},kl={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GN={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=OC(e),e===null?null:e.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||VN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{af=Lu.inject(GN),Ii=Lu}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WN;Ar.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mg(t))throw Error(ce(200));return zN(e,t,null,n)};Ar.createRoot=function(e,t){if(!mg(e))throw Error(ce(299));var n=!1,i="",o=lA;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=hg(e,1,!1,null,null,n,!1,i,o),e[Ki]=t.current,xc(e.nodeType===8?e.parentNode:e),new pg(t)};Ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=OC(t),e=e===null?null:e.stateNode,e};Ar.flushSync=function(e){return Fo(e)};Ar.hydrate=function(e,t,n){if(!vf(t))throw Error(ce(200));return Cf(null,e,t,!0,n)};Ar.hydrateRoot=function(e,t,n){if(!mg(e))throw Error(ce(405));var i=n!=null&&n.hydratedSources||null,o=!1,l="",f=lA;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=aA(t,null,e,1,n??null,o,!1,l,f),e[Ki]=t.current,xc(e),i)for(e=0;e<i.length;e++)n=i[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new wf(t)};Ar.render=function(e,t,n){if(!vf(t))throw Error(ce(200));return Cf(null,e,t,!1,n)};Ar.unmountComponentAtNode=function(e){if(!vf(e))throw Error(ce(40));return e._reactRootContainer?(Fo(function(){Cf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ki]=null})}),!0):!1};Ar.unstable_batchedUpdates=cg;Ar.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!vf(n))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return Cf(e,t,n,!1,i)};Ar.version="18.3.1-next-f1338f8080-20240426";function cA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cA)}catch(e){console.error(e)}}cA(),cC.exports=Ar;var eu=cC.exports;const YN=E0(eu);var uA,Om=eu;uA=Om.createRoot,Om.hydrateRoot;function XN(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,i,o,l,f=[],g="",x=e.split("/");for(x[0]||x.shift();o=x.shift();)n=o[0],n==="*"?(f.push(n),g+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(i=o.indexOf("?",1),l=o.indexOf(".",1),f.push(o.substring(1,~i?i:~l?l:o.length)),g+=~i&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(g+=(~i?"?":"")+"\\"+o.substring(l))):g+="/"+o;return{keys:f,pattern:new RegExp("^"+g+(t?"(?=$|/)":"/?$"),"i")}}var dA={exports:{}},fA={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=L;function QN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZN=typeof Object.is=="function"?Object.is:QN,qN=nl.useState,KN=nl.useEffect,$N=nl.useLayoutEffect,JN=nl.useDebugValue;function e_(e,t){var n=t(),i=qN({inst:{value:n,getSnapshot:t}}),o=i[0].inst,l=i[1];return $N(function(){o.value=n,o.getSnapshot=t,Mh(o)&&l({inst:o})},[e,n,t]),KN(function(){return Mh(o)&&l({inst:o}),e(function(){Mh(o)&&l({inst:o})})},[e]),JN(n),n}function Mh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ZN(e,n)}catch{return!0}}function t_(e,t){return t()}var n_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t_:e_;fA.useSyncExternalStore=nl.useSyncExternalStore!==void 0?nl.useSyncExternalStore:n_;dA.exports=fA;var r_=dA.exports;const i_=P4.useInsertionEffect,s_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o_=s_?L.useLayoutEffect:L.useEffect,a_=i_||o_,hA=e=>{const t=L.useRef([e,(...n)=>t[0](...n)]).current;return a_(()=>{t[0]=e}),t[1]},l_="popstate",xg="pushState",yg="replaceState",c_="hashchange",Mm=[l_,xg,yg,c_],u_=e=>{for(const t of Mm)addEventListener(t,e);return()=>{for(const t of Mm)removeEventListener(t,e)}},gA=(e,t)=>r_.useSyncExternalStore(u_,e,t),d_=()=>location.search,f_=({ssrSearch:e=""}={})=>gA(d_,()=>e),Rm=()=>location.pathname,h_=({ssrPath:e}={})=>gA(Rm,e?()=>e:Rm),g_=(e,{replace:t=!1,state:n=null}={})=>history[t?yg:xg](n,"",e),p_=(e={})=>[h_(e),g_],Dm=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Dm]>"u"){for(const e of[xg,yg]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),n}}Object.defineProperty(window,Dm,{value:!0})}const m_=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",pA=(e="")=>e==="/"?"":e,x_=(e,t)=>e[0]==="~"?e.slice(1):pA(t)+e,y_=(e="",t)=>m_(km(pA(e)),km(t)),km=e=>{try{return decodeURI(e)}catch{return e}},mA={hook:p_,searchHook:f_,parser:XN,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},xA=L.createContext(mA),tu=()=>L.useContext(xA),yA={},wA=L.createContext(yA),w_=()=>L.useContext(wA),Ef=e=>{const[t,n]=e.hook(e);return[y_(e.base,t),hA((i,o)=>n(x_(i,e.base),o))]},Pi=()=>Ef(tu()),vA=(e,t,n,i)=>{const{pattern:o,keys:l}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",i),f=o.exec(n)||[],[g,...x]=f;return g!==void 0?[!0,(()=>{const p=l!==!1?Object.fromEntries(l.map((v,b)=>[v,x[b]])):f.groups;let w={...x};return p&&Object.assign(w,p),w})(),...i?[g]:[]]:[!1,null]},v_=({children:e,...t})=>{var w,v;const n=tu(),i=t.hook?mA:n;let o=i;const[l,f]=((w=t.ssrPath)==null?void 0:w.split("?"))??[];f&&(t.ssrSearch=f,t.ssrPath=l),t.hrefs=t.hrefs??((v=t.hook)==null?void 0:v.hrefs);let g=L.useRef({}),x=g.current,p=x;for(let b in i){const M=b==="base"?i[b]+(t[b]||""):t[b]||i[b];x===p&&M!==p[b]&&(g.current=p={...p}),p[b]=M,M!==i[b]&&(o=p)}return L.createElement(xA.Provider,{value:o,children:e})},Pm=({children:e,component:t},n)=>t?L.createElement(t,{params:n}):typeof e=="function"?e(n):e,C_=e=>{let t=L.useRef(yA),n=t.current;for(const i in e)e[i]!==n[i]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},fs=({path:e,nest:t,match:n,...i})=>{const o=tu(),[l]=Ef(o),[f,g,x]=n??vA(o.parser,e,l,t),p=C_({...w_(),...g});if(!f)return null;const w=x?L.createElement(v_,{base:x},Pm(i,p)):Pm(i,p);return L.createElement(wA.Provider,{value:p,children:w})},Rh=L.forwardRef((e,t)=>{const n=tu(),[i,o]=Ef(n),{to:l="",href:f=l,onClick:g,asChild:x,children:p,className:w,replace:v,state:b,...M}=e,P=hA(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(g==null||g(k),k.defaultPrevented||(k.preventDefault(),o(f,e)))}),_=n.hrefs(f[0]==="~"?f.slice(1):n.base+f,n);return x&&L.isValidElement(p)?L.cloneElement(p,{onClick:P,href:_}):L.createElement("a",{...M,onClick:P,href:_,className:w!=null&&w.call?w(i===f):w,children:p,ref:t})}),CA=e=>Array.isArray(e)?e.flatMap(t=>CA(t&&t.type===L.Fragment?t.props.children:t)):[e],E_=({children:e,location:t})=>{const n=tu(),[i]=Ef(n);for(const o of CA(e)){let l=0;if(L.isValidElement(o)&&(l=vA(n.parser,o.props.path,t||i,o.props.nest))[0])return L.cloneElement(o,{match:l})}return null};var fl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jo=typeof window>"u"||"Deno"in globalThis;function Dr(){}function A_(e,t){return typeof e=="function"?e(t):e}function j1(e){return typeof e=="number"&&e>=0&&e!==1/0}function EA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Oa(e,t){return typeof e=="function"?e(t):e}function qr(e,t){return typeof e=="function"?e(t):e}function Lm(e,t){const{type:n="all",exact:i,fetchStatus:o,predicate:l,queryKey:f,stale:g}=e;if(f){if(i){if(t.queryHash!==wg(f,t.options))return!1}else if(!Tc(t.queryKey,f))return!1}if(n!=="all"){const x=t.isActive();if(n==="active"&&!x||n==="inactive"&&x)return!1}return!(typeof g=="boolean"&&t.isStale()!==g||o&&o!==t.state.fetchStatus||l&&!l(t))}function Bm(e,t){const{exact:n,status:i,predicate:o,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(Uo(t.options.mutationKey)!==Uo(l))return!1}else if(!Tc(t.options.mutationKey,l))return!1}return!(i&&t.state.status!==i||o&&!o(t))}function wg(e,t){return((t==null?void 0:t.queryKeyHashFn)||Uo)(e)}function Uo(e){return JSON.stringify(e,(t,n)=>U1(n)?Object.keys(n).sort().reduce((i,o)=>(i[o]=n[o],i),{}):n)}function Tc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Tc(e[n],t[n])):!1}function AA(e,t){if(e===t)return e;const n=Fm(e)&&Fm(t);if(n||U1(e)&&U1(t)){const i=n?e:Object.keys(e),o=i.length,l=n?t:Object.keys(t),f=l.length,g=n?[]:{};let x=0;for(let p=0;p<f;p++){const w=n?p:l[p];(!n&&i.includes(w)||n)&&e[w]===void 0&&t[w]===void 0?(g[w]=void 0,x++):(g[w]=AA(e[w],t[w]),g[w]===e[w]&&e[w]!==void 0&&x++)}return o===f&&x===o?e:g}return t}function Od(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Fm(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function U1(e){if(!jm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!jm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jm(e){return Object.prototype.toString.call(e)==="[object Object]"}function S_(e){return new Promise(t=>{setTimeout(t,e)})}function z1(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?AA(e,t):t}function b_(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function T_(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var vg=Symbol();function SA(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===vg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ao,bs,La,sy,I_=(sy=class extends fl{constructor(){super();Le(this,Ao);Le(this,bs);Le(this,La);Se(this,La,t=>{if(!jo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,bs)||this.setEventListener(z(this,La))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,bs))==null||t.call(this),Se(this,bs,void 0))}setEventListener(t){var n;Se(this,La,t),(n=z(this,bs))==null||n.call(this),Se(this,bs,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){z(this,Ao)!==t&&(Se(this,Ao,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof z(this,Ao)=="boolean"?z(this,Ao):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ao=new WeakMap,bs=new WeakMap,La=new WeakMap,sy),Cg=new I_,Ba,Ts,Fa,oy,N_=(oy=class extends fl{constructor(){super();Le(this,Ba,!0);Le(this,Ts);Le(this,Fa);Se(this,Fa,t=>{if(!jo&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){z(this,Ts)||this.setEventListener(z(this,Fa))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Ts))==null||t.call(this),Se(this,Ts,void 0))}setEventListener(t){var n;Se(this,Fa,t),(n=z(this,Ts))==null||n.call(this),Se(this,Ts,t(this.setOnline.bind(this)))}setOnline(t){z(this,Ba)!==t&&(Se(this,Ba,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return z(this,Ba)}},Ba=new WeakMap,Ts=new WeakMap,Fa=new WeakMap,oy),Md=new N_;function V1(){let e,t;const n=new Promise((o,l)=>{e=o,t=l});n.status="pending",n.catch(()=>{});function i(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},n.reject=o=>{i({status:"rejected",reason:o}),t(o)},n}function __(e){return Math.min(1e3*2**e,3e4)}function bA(e){return(e??"online")==="online"?Md.isOnline():!0}var TA=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Dh(e){return e instanceof TA}function IA(e){let t=!1,n=0,i=!1,o;const l=V1(),f=_=>{var k;i||(b(new TA(_)),(k=e.abort)==null||k.call(e))},g=()=>{t=!0},x=()=>{t=!1},p=()=>Cg.isFocused()&&(e.networkMode==="always"||Md.isOnline())&&e.canRun(),w=()=>bA(e.networkMode)&&e.canRun(),v=_=>{var k;i||(i=!0,(k=e.onSuccess)==null||k.call(e,_),o==null||o(),l.resolve(_))},b=_=>{var k;i||(i=!0,(k=e.onError)==null||k.call(e,_),o==null||o(),l.reject(_))},M=()=>new Promise(_=>{var k;o=O=>{(i||p())&&_(O)},(k=e.onPause)==null||k.call(e)}).then(()=>{var _;o=void 0,i||(_=e.onContinue)==null||_.call(e)}),P=()=>{if(i)return;let _;const k=n===0?e.initialPromise:void 0;try{_=k??e.fn()}catch(O){_=Promise.reject(O)}Promise.resolve(_).then(v).catch(O=>{var Z;if(i)return;const T=e.retry??(jo?0:3),N=e.retryDelay??__,B=typeof N=="function"?N(n,O):N,W=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,O);if(t||!W){b(O);return}n++,(Z=e.onFail)==null||Z.call(e,n,O),S_(B).then(()=>p()?void 0:M()).then(()=>{t?b(O):P()})})};return{promise:l,cancel:f,continue:()=>(o==null||o(),l),cancelRetry:g,continueRetry:x,canStart:w,start:()=>(w()?P():M().then(P),l)}}function O_(){let e=[],t=0,n=g=>{g()},i=g=>{g()},o=g=>setTimeout(g,0);const l=g=>{t?e.push(g):o(()=>{n(g)})},f=()=>{const g=e;e=[],g.length&&o(()=>{i(()=>{g.forEach(x=>{n(x)})})})};return{batch:g=>{let x;t++;try{x=g()}finally{t--,t||f()}return x},batchCalls:g=>(...x)=>{l(()=>{g(...x)})},schedule:l,setNotifyFunction:g=>{n=g},setBatchNotifyFunction:g=>{i=g},setScheduler:g=>{o=g}}}var cn=O_(),So,ay,NA=(ay=class{constructor(){Le(this,So)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),j1(this.gcTime)&&Se(this,So,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(jo?1/0:5*60*1e3))}clearGcTimeout(){z(this,So)&&(clearTimeout(z(this,So)),Se(this,So,void 0))}},So=new WeakMap,ay),ja,Ua,Rr,Dn,Gc,bo,Yr,ji,ly,M_=(ly=class extends NA{constructor(t){super();Le(this,Yr);Le(this,ja);Le(this,Ua);Le(this,Rr);Le(this,Dn);Le(this,Gc);Le(this,bo);Se(this,bo,!1),Se(this,Gc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Se(this,Rr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Se(this,ja,R_(this.options)),this.state=t.state??z(this,ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,Dn))==null?void 0:t.promise}setOptions(t){this.options={...z(this,Gc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Rr).remove(this)}setData(t,n){const i=z1(this.state.data,t,this.options);return qe(this,Yr,ji).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){qe(this,Yr,ji).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,o;const n=(i=z(this,Dn))==null?void 0:i.promise;return(o=z(this,Dn))==null||o.cancel(t),n?n.then(Dr).catch(Dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,ja))}isActive(){return this.observers.some(t=>qr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!EA(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Dn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Dn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,Rr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(z(this,Dn)&&(z(this,bo)?z(this,Dn).cancel({revert:!0}):z(this,Dn).cancelRetry()),this.scheduleGc()),z(this,Rr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,Yr,ji).call(this,{type:"invalidate"})}fetch(t,n){var x,p,w;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,Dn))return z(this,Dn).continueRetry(),z(this,Dn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(b=>b.options.queryFn);v&&this.setOptions(v.options)}const i=new AbortController,o=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(Se(this,bo,!0),i.signal)})},l=()=>{const v=SA(this.options,n),b={queryKey:this.queryKey,meta:this.meta};return o(b),Se(this,bo,!1),this.options.persister?this.options.persister(v,b,this):v(b)},f={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};o(f),(x=this.options.behavior)==null||x.onFetch(f,this),Se(this,Ua,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=f.fetchOptions)==null?void 0:p.meta))&&qe(this,Yr,ji).call(this,{type:"fetch",meta:(w=f.fetchOptions)==null?void 0:w.meta});const g=v=>{var b,M,P,_;Dh(v)&&v.silent||qe(this,Yr,ji).call(this,{type:"error",error:v}),Dh(v)||((M=(b=z(this,Rr).config).onError)==null||M.call(b,v,this),(_=(P=z(this,Rr).config).onSettled)==null||_.call(P,this.state.data,v,this)),this.scheduleGc()};return Se(this,Dn,IA({initialPromise:n==null?void 0:n.initialPromise,fn:f.fetchFn,abort:i.abort.bind(i),onSuccess:v=>{var b,M,P,_;if(v===void 0){g(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(k){g(k);return}(M=(b=z(this,Rr).config).onSuccess)==null||M.call(b,v,this),(_=(P=z(this,Rr).config).onSettled)==null||_.call(P,v,this.state.error,this),this.scheduleGc()},onError:g,onFail:(v,b)=>{qe(this,Yr,ji).call(this,{type:"failed",failureCount:v,error:b})},onPause:()=>{qe(this,Yr,ji).call(this,{type:"pause"})},onContinue:()=>{qe(this,Yr,ji).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),z(this,Dn).start()}},ja=new WeakMap,Ua=new WeakMap,Rr=new WeakMap,Dn=new WeakMap,Gc=new WeakMap,bo=new WeakMap,Yr=new WeakSet,ji=function(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,..._A(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Dh(o)&&o.revert&&z(this,Ua)?{...z(this,Ua),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),cn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,Rr).notify({query:this,type:"updated",action:t})})},ly);function _A(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function R_(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var vi,cy,D_=(cy=class extends fl{constructor(t={}){super();Le(this,vi);this.config=t,Se(this,vi,new Map)}build(t,n,i){const o=n.queryKey,l=n.queryHash??wg(o,n);let f=this.get(l);return f||(f=new M_({cache:this,queryKey:o,queryHash:l,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(o)}),this.add(f)),f}add(t){z(this,vi).has(t.queryHash)||(z(this,vi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=z(this,vi).get(t.queryHash);n&&(t.destroy(),n===t&&z(this,vi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,vi).get(t)}getAll(){return[...z(this,vi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>Lm(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>Lm(t,i)):n}notify(t){cn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},vi=new WeakMap,cy),Ci,Un,To,Ei,xs,uy,k_=(uy=class extends NA{constructor(t){super();Le(this,Ei);Le(this,Ci);Le(this,Un);Le(this,To);this.mutationId=t.mutationId,Se(this,Un,t.mutationCache),Se(this,Ci,[]),this.state=t.state||OA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Ci).includes(t)||(z(this,Ci).push(t),this.clearGcTimeout(),z(this,Un).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Se(this,Ci,z(this,Ci).filter(n=>n!==t)),this.scheduleGc(),z(this,Un).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Ci).length||(this.state.status==="pending"?this.scheduleGc():z(this,Un).remove(this))}continue(){var t;return((t=z(this,To))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,f,g,x,p,w,v,b,M,P,_,k,O,T,N,B,W,Z,F;Se(this,To,IA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(J,G)=>{qe(this,Ei,xs).call(this,{type:"failed",failureCount:J,error:G})},onPause:()=>{qe(this,Ei,xs).call(this,{type:"pause"})},onContinue:()=>{qe(this,Ei,xs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Un).canRun(this)}));const n=this.state.status==="pending",i=!z(this,To).canStart();try{if(!n){qe(this,Ei,xs).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=z(this,Un).config).onMutate)==null?void 0:l.call(o,t,this));const G=await((g=(f=this.options).onMutate)==null?void 0:g.call(f,t));G!==this.state.context&&qe(this,Ei,xs).call(this,{type:"pending",context:G,variables:t,isPaused:i})}const J=await z(this,To).start();return await((p=(x=z(this,Un).config).onSuccess)==null?void 0:p.call(x,J,t,this.state.context,this)),await((v=(w=this.options).onSuccess)==null?void 0:v.call(w,J,t,this.state.context)),await((M=(b=z(this,Un).config).onSettled)==null?void 0:M.call(b,J,null,this.state.variables,this.state.context,this)),await((_=(P=this.options).onSettled)==null?void 0:_.call(P,J,null,t,this.state.context)),qe(this,Ei,xs).call(this,{type:"success",data:J}),J}catch(J){try{throw await((O=(k=z(this,Un).config).onError)==null?void 0:O.call(k,J,t,this.state.context,this)),await((N=(T=this.options).onError)==null?void 0:N.call(T,J,t,this.state.context)),await((W=(B=z(this,Un).config).onSettled)==null?void 0:W.call(B,void 0,J,this.state.variables,this.state.context,this)),await((F=(Z=this.options).onSettled)==null?void 0:F.call(Z,void 0,J,t,this.state.context)),J}finally{qe(this,Ei,xs).call(this,{type:"error",error:J})}}finally{z(this,Un).runNext(this)}}},Ci=new WeakMap,Un=new WeakMap,To=new WeakMap,Ei=new WeakSet,xs=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cn.batch(()=>{z(this,Ci).forEach(i=>{i.onMutationUpdate(t)}),z(this,Un).notify({mutation:this,type:"updated",action:t})})},uy);function OA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fr,Yc,dy,P_=(dy=class extends fl{constructor(t={}){super();Le(this,fr);Le(this,Yc);this.config=t,Se(this,fr,new Map),Se(this,Yc,Date.now())}build(t,n,i){const o=new k_({mutationCache:this,mutationId:++wu(this,Yc)._,options:t.defaultMutationOptions(n),state:i});return this.add(o),o}add(t){const n=Bu(t),i=z(this,fr).get(n)??[];i.push(t),z(this,fr).set(n,i),this.notify({type:"added",mutation:t})}remove(t){var i;const n=Bu(t);if(z(this,fr).has(n)){const o=(i=z(this,fr).get(n))==null?void 0:i.filter(l=>l!==t);o&&(o.length===0?z(this,fr).delete(n):z(this,fr).set(n,o))}this.notify({type:"removed",mutation:t})}canRun(t){var i;const n=(i=z(this,fr).get(Bu(t)))==null?void 0:i.find(o=>o.state.status==="pending");return!n||n===t}runNext(t){var i;const n=(i=z(this,fr).get(Bu(t)))==null?void 0:i.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...z(this,fr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(i=>Bm(n,i))}findAll(t={}){return this.getAll().filter(n=>Bm(t,n))}notify(t){cn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return cn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Dr))))}},fr=new WeakMap,Yc=new WeakMap,dy);function Bu(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Um(e){return{onFetch:(t,n)=>{var w,v,b,M,P;const i=t.options,o=(b=(v=(w=t.fetchOptions)==null?void 0:w.meta)==null?void 0:v.fetchMore)==null?void 0:b.direction,l=((M=t.state.data)==null?void 0:M.pages)||[],f=((P=t.state.data)==null?void 0:P.pageParams)||[];let g={pages:[],pageParams:[]},x=0;const p=async()=>{let _=!1;const k=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},O=SA(t.options,t.fetchOptions),T=async(N,B,W)=>{if(_)return Promise.reject();if(B==null&&N.pages.length)return Promise.resolve(N);const Z={queryKey:t.queryKey,pageParam:B,direction:W?"backward":"forward",meta:t.options.meta};k(Z);const F=await O(Z),{maxPages:J}=t.options,G=W?T_:b_;return{pages:G(N.pages,F,J),pageParams:G(N.pageParams,B,J)}};if(o&&l.length){const N=o==="backward",B=N?L_:zm,W={pages:l,pageParams:f},Z=B(i,W);g=await T(W,Z,N)}else{const N=e??l.length;do{const B=x===0?f[0]??i.initialPageParam:zm(i,g);if(x>0&&B==null)break;g=await T(g,B),x++}while(x<N)}return g};t.options.persister?t.fetchFn=()=>{var _,k;return(k=(_=t.options).persister)==null?void 0:k.call(_,p,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function zm(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function L_(e,{pages:t,pageParams:n}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n):void 0}var Yt,Is,Ns,za,Va,_s,Ha,Wa,fy,B_=(fy=class{constructor(e={}){Le(this,Yt);Le(this,Is);Le(this,Ns);Le(this,za);Le(this,Va);Le(this,_s);Le(this,Ha);Le(this,Wa);Se(this,Yt,e.queryCache||new D_),Se(this,Is,e.mutationCache||new P_),Se(this,Ns,e.defaultOptions||{}),Se(this,za,new Map),Se(this,Va,new Map),Se(this,_s,0)}mount(){wu(this,_s)._++,z(this,_s)===1&&(Se(this,Ha,Cg.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,Yt).onFocus())})),Se(this,Wa,Md.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,Yt).onOnline())})))}unmount(){var e,t;wu(this,_s)._--,z(this,_s)===0&&((e=z(this,Ha))==null||e.call(this),Se(this,Ha,void 0),(t=z(this,Wa))==null||t.call(this),Se(this,Wa,void 0))}isFetching(e){return z(this,Yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,Is).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,Yt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),i=z(this,Yt).build(this,n);return e.revalidateIfStale&&i.isStaleByTime(Oa(n.staleTime,i))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return z(this,Yt).findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),o=z(this,Yt).get(i.queryHash),l=o==null?void 0:o.state.data,f=A_(t,l);if(f!==void 0)return z(this,Yt).build(this,i).setData(f,{...n,manual:!0})}setQueriesData(e,t,n){return cn.batch(()=>z(this,Yt).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,Yt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=z(this,Yt);cn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=z(this,Yt),i={type:"active",...e};return cn.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(i,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},i=cn.batch(()=>z(this,Yt).findAll(e).map(o=>o.cancel(n)));return Promise.all(i).then(Dr).catch(Dr)}invalidateQueries(e={},t={}){return cn.batch(()=>{if(z(this,Yt).findAll(e).forEach(i=>{i.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},i=cn.batch(()=>z(this,Yt).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let l=o.fetch(void 0,n);return n.throwOnError||(l=l.catch(Dr)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(Dr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=z(this,Yt).build(this,t);return n.isStaleByTime(Oa(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dr).catch(Dr)}fetchInfiniteQuery(e){return e.behavior=Um(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dr).catch(Dr)}ensureInfiniteQueryData(e){return e.behavior=Um(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Md.isOnline()?z(this,Is).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Yt)}getMutationCache(){return z(this,Is)}getDefaultOptions(){return z(this,Ns)}setDefaultOptions(e){Se(this,Ns,e)}setQueryDefaults(e,t){z(this,za).set(Uo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,za).values()];let n={};return t.forEach(i=>{Tc(e,i.queryKey)&&(n={...n,...i.defaultOptions})}),n}setMutationDefaults(e,t){z(this,Va).set(Uo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,Va).values()];let n={};return t.forEach(i=>{Tc(e,i.mutationKey)&&(n={...n,...i.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,Ns).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===vg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,Ns).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,Yt).clear(),z(this,Is).clear()}},Yt=new WeakMap,Is=new WeakMap,Ns=new WeakMap,za=new WeakMap,Va=new WeakMap,_s=new WeakMap,Ha=new WeakMap,Wa=new WeakMap,fy),nr,rt,Xc,zn,Io,Ga,Os,Ai,Qc,Ya,Xa,No,_o,Ms,Qa,pt,Gl,H1,W1,G1,Y1,X1,Q1,Z1,MA,hy,F_=(hy=class extends fl{constructor(t,n){super();Le(this,pt);Le(this,nr);Le(this,rt);Le(this,Xc);Le(this,zn);Le(this,Io);Le(this,Ga);Le(this,Os);Le(this,Ai);Le(this,Qc);Le(this,Ya);Le(this,Xa);Le(this,No);Le(this,_o);Le(this,Ms);Le(this,Qa,new Set);this.options=n,Se(this,nr,t),Se(this,Ai,null),Se(this,Os,V1()),this.options.experimental_prefetchInRender||z(this,Os).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,rt).addObserver(this),Vm(z(this,rt),this.options)?qe(this,pt,Gl).call(this):this.updateResult(),qe(this,pt,Y1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return q1(z(this,rt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return q1(z(this,rt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qe(this,pt,X1).call(this),qe(this,pt,Q1).call(this),z(this,rt).removeObserver(this)}setOptions(t,n){const i=this.options,o=z(this,rt);if(this.options=z(this,nr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qr(this.options.enabled,z(this,rt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qe(this,pt,Z1).call(this),z(this,rt).setOptions(this.options),i._defaulted&&!Od(this.options,i)&&z(this,nr).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,rt),observer:this});const l=this.hasListeners();l&&Hm(z(this,rt),o,this.options,i)&&qe(this,pt,Gl).call(this),this.updateResult(n),l&&(z(this,rt)!==o||qr(this.options.enabled,z(this,rt))!==qr(i.enabled,z(this,rt))||Oa(this.options.staleTime,z(this,rt))!==Oa(i.staleTime,z(this,rt)))&&qe(this,pt,H1).call(this);const f=qe(this,pt,W1).call(this);l&&(z(this,rt)!==o||qr(this.options.enabled,z(this,rt))!==qr(i.enabled,z(this,rt))||f!==z(this,Ms))&&qe(this,pt,G1).call(this,f)}getOptimisticResult(t){const n=z(this,nr).getQueryCache().build(z(this,nr),t),i=this.createResult(n,t);return U_(this,i)&&(Se(this,zn,i),Se(this,Ga,this.options),Se(this,Io,z(this,rt).state)),i}getCurrentResult(){return z(this,zn)}trackResult(t,n){const i={};return Object.keys(t).forEach(o=>{Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),n==null||n(o),t[o])})}),i}trackProp(t){z(this,Qa).add(t)}getCurrentQuery(){return z(this,rt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=z(this,nr).defaultQueryOptions(t),i=z(this,nr).getQueryCache().build(z(this,nr),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(t){return qe(this,pt,Gl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,zn)))}createResult(t,n){var J;const i=z(this,rt),o=this.options,l=z(this,zn),f=z(this,Io),g=z(this,Ga),p=t!==i?t.state:z(this,Xc),{state:w}=t;let v={...w},b=!1,M;if(n._optimisticResults){const G=this.hasListeners(),ge=!G&&Vm(t,n),Ee=G&&Hm(t,i,n,o);(ge||Ee)&&(v={...v,..._A(w.data,t.options)}),n._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:P,errorUpdatedAt:_,status:k}=v;if(n.select&&v.data!==void 0)if(l&&v.data===(f==null?void 0:f.data)&&n.select===z(this,Qc))M=z(this,Ya);else try{Se(this,Qc,n.select),M=n.select(v.data),M=z1(l==null?void 0:l.data,M,n),Se(this,Ya,M),Se(this,Ai,null)}catch(G){Se(this,Ai,G)}else M=v.data;if(n.placeholderData!==void 0&&M===void 0&&k==="pending"){let G;if(l!=null&&l.isPlaceholderData&&n.placeholderData===(g==null?void 0:g.placeholderData))G=l.data;else if(G=typeof n.placeholderData=="function"?n.placeholderData((J=z(this,Xa))==null?void 0:J.state.data,z(this,Xa)):n.placeholderData,n.select&&G!==void 0)try{G=n.select(G),Se(this,Ai,null)}catch(ge){Se(this,Ai,ge)}G!==void 0&&(k="success",M=z1(l==null?void 0:l.data,G,n),b=!0)}z(this,Ai)&&(P=z(this,Ai),M=z(this,Ya),_=Date.now(),k="error");const O=v.fetchStatus==="fetching",T=k==="pending",N=k==="error",B=T&&O,W=M!==void 0,F={status:k,fetchStatus:v.fetchStatus,isPending:T,isSuccess:k==="success",isError:N,isInitialLoading:B,isLoading:B,data:M,dataUpdatedAt:v.dataUpdatedAt,error:P,errorUpdatedAt:_,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>p.dataUpdateCount||v.errorUpdateCount>p.errorUpdateCount,isFetching:O,isRefetching:O&&!T,isLoadingError:N&&!W,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:N&&W,isStale:Eg(t,n),refetch:this.refetch,promise:z(this,Os)};if(this.options.experimental_prefetchInRender){const G=ee=>{F.status==="error"?ee.reject(F.error):F.data!==void 0&&ee.resolve(F.data)},ge=()=>{const ee=Se(this,Os,F.promise=V1());G(ee)},Ee=z(this,Os);switch(Ee.status){case"pending":t.queryHash===i.queryHash&&G(Ee);break;case"fulfilled":(F.status==="error"||F.data!==Ee.value)&&ge();break;case"rejected":(F.status!=="error"||F.error!==Ee.reason)&&ge();break}}return F}updateResult(t){const n=z(this,zn),i=this.createResult(z(this,rt),this.options);if(Se(this,Io,z(this,rt).state),Se(this,Ga,this.options),z(this,Io).data!==void 0&&Se(this,Xa,z(this,rt)),Od(i,n))return;Se(this,zn,i);const o={},l=()=>{if(!n)return!0;const{notifyOnChangeProps:f}=this.options,g=typeof f=="function"?f():f;if(g==="all"||!g&&!z(this,Qa).size)return!0;const x=new Set(g??z(this,Qa));return this.options.throwOnError&&x.add("error"),Object.keys(z(this,zn)).some(p=>{const w=p;return z(this,zn)[w]!==n[w]&&x.has(w)})};(t==null?void 0:t.listeners)!==!1&&l()&&(o.listeners=!0),qe(this,pt,MA).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qe(this,pt,Y1).call(this)}},nr=new WeakMap,rt=new WeakMap,Xc=new WeakMap,zn=new WeakMap,Io=new WeakMap,Ga=new WeakMap,Os=new WeakMap,Ai=new WeakMap,Qc=new WeakMap,Ya=new WeakMap,Xa=new WeakMap,No=new WeakMap,_o=new WeakMap,Ms=new WeakMap,Qa=new WeakMap,pt=new WeakSet,Gl=function(t){qe(this,pt,Z1).call(this);let n=z(this,rt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Dr)),n},H1=function(){qe(this,pt,X1).call(this);const t=Oa(this.options.staleTime,z(this,rt));if(jo||z(this,zn).isStale||!j1(t))return;const i=EA(z(this,zn).dataUpdatedAt,t)+1;Se(this,No,setTimeout(()=>{z(this,zn).isStale||this.updateResult()},i))},W1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,rt)):this.options.refetchInterval)??!1},G1=function(t){qe(this,pt,Q1).call(this),Se(this,Ms,t),!(jo||qr(this.options.enabled,z(this,rt))===!1||!j1(z(this,Ms))||z(this,Ms)===0)&&Se(this,_o,setInterval(()=>{(this.options.refetchIntervalInBackground||Cg.isFocused())&&qe(this,pt,Gl).call(this)},z(this,Ms)))},Y1=function(){qe(this,pt,H1).call(this),qe(this,pt,G1).call(this,qe(this,pt,W1).call(this))},X1=function(){z(this,No)&&(clearTimeout(z(this,No)),Se(this,No,void 0))},Q1=function(){z(this,_o)&&(clearInterval(z(this,_o)),Se(this,_o,void 0))},Z1=function(){const t=z(this,nr).getQueryCache().build(z(this,nr),this.options);if(t===z(this,rt))return;const n=z(this,rt);Se(this,rt,t),Se(this,Xc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},MA=function(t){cn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(z(this,zn))}),z(this,nr).getQueryCache().notify({query:z(this,rt),type:"observerResultsUpdated"})})},hy);function j_(e,t){return qr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Vm(e,t){return j_(e,t)||e.state.data!==void 0&&q1(e,t,t.refetchOnMount)}function q1(e,t,n){if(qr(t.enabled,e)!==!1){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&Eg(e,t)}return!1}function Hm(e,t,n,i){return(e!==t||qr(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Eg(e,n)}function Eg(e,t){return qr(t.enabled,e)!==!1&&e.isStaleByTime(Oa(t.staleTime,e))}function U_(e,t){return!Od(e.getCurrentResult(),t)}var Rs,Ds,rr,Wi,Zi,ed,K1,gy,z_=(gy=class extends fl{constructor(n,i){super();Le(this,Zi);Le(this,Rs);Le(this,Ds);Le(this,rr);Le(this,Wi);Se(this,Rs,n),this.setOptions(i),this.bindMethods(),qe(this,Zi,ed).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const i=this.options;this.options=z(this,Rs).defaultMutationOptions(n),Od(this.options,i)||z(this,Rs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,rr),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&Uo(i.mutationKey)!==Uo(this.options.mutationKey)?this.reset():((o=z(this,rr))==null?void 0:o.state.status)==="pending"&&z(this,rr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=z(this,rr))==null||n.removeObserver(this)}onMutationUpdate(n){qe(this,Zi,ed).call(this),qe(this,Zi,K1).call(this,n)}getCurrentResult(){return z(this,Ds)}reset(){var n;(n=z(this,rr))==null||n.removeObserver(this),Se(this,rr,void 0),qe(this,Zi,ed).call(this),qe(this,Zi,K1).call(this)}mutate(n,i){var o;return Se(this,Wi,i),(o=z(this,rr))==null||o.removeObserver(this),Se(this,rr,z(this,Rs).getMutationCache().build(z(this,Rs),this.options)),z(this,rr).addObserver(this),z(this,rr).execute(n)}},Rs=new WeakMap,Ds=new WeakMap,rr=new WeakMap,Wi=new WeakMap,Zi=new WeakSet,ed=function(){var i;const n=((i=z(this,rr))==null?void 0:i.state)??OA();Se(this,Ds,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},K1=function(n){cn.batch(()=>{var i,o,l,f,g,x,p,w;if(z(this,Wi)&&this.hasListeners()){const v=z(this,Ds).variables,b=z(this,Ds).context;(n==null?void 0:n.type)==="success"?((o=(i=z(this,Wi)).onSuccess)==null||o.call(i,n.data,v,b),(f=(l=z(this,Wi)).onSettled)==null||f.call(l,n.data,null,v,b)):(n==null?void 0:n.type)==="error"&&((x=(g=z(this,Wi)).onError)==null||x.call(g,n.error,v,b),(w=(p=z(this,Wi)).onSettled)==null||w.call(p,void 0,n.error,v,b))}this.listeners.forEach(v=>{v(z(this,Ds))})})},gy),RA=L.createContext(void 0),DA=e=>{const t=L.useContext(RA);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},V_=({client:e,children:t})=>(L.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),E.jsx(RA.Provider,{value:e,children:t})),kA=L.createContext(!1),H_=()=>L.useContext(kA);kA.Provider;function W_(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var G_=L.createContext(W_()),Y_=()=>L.useContext(G_);function PA(e,t){return typeof e=="function"?e(...t):!!e}function $1(){}var X_=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Q_=e=>{L.useEffect(()=>{e.clearReset()},[e])},Z_=({result:e,errorResetBoundary:t,throwOnError:n,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&PA(n,[e.error,i]),q_=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},K_=(e,t)=>e.isLoading&&e.isFetching&&!t,$_=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Wm=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function J_(e,t,n){var w,v,b,M,P;const i=DA(),o=H_(),l=Y_(),f=i.defaultQueryOptions(e);(v=(w=i.getDefaultOptions().queries)==null?void 0:w._experimental_beforeQuery)==null||v.call(w,f),f._optimisticResults=o?"isRestoring":"optimistic",q_(f),X_(f,l),Q_(l);const g=!i.getQueryCache().get(f.queryHash),[x]=L.useState(()=>new t(i,f)),p=x.getOptimisticResult(f);if(L.useSyncExternalStore(L.useCallback(_=>{const k=o?$1:x.subscribe(cn.batchCalls(_));return x.updateResult(),k},[x,o]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),L.useEffect(()=>{x.setOptions(f,{listeners:!1})},[f,x]),$_(f,p))throw Wm(f,x,l);if(Z_({result:p,errorResetBoundary:l,throwOnError:f.throwOnError,query:i.getQueryCache().get(f.queryHash)}))throw p.error;if((M=(b=i.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||M.call(b,f,p),f.experimental_prefetchInRender&&!jo&&K_(p,o)){const _=g?Wm(f,x,l):(P=i.getQueryCache().get(f.queryHash))==null?void 0:P.promise;_==null||_.catch($1).finally(()=>{x.updateResult()})}return f.notifyOnChangeProps?p:x.trackResult(p)}function LA(e,t){return J_(e,F_)}function nu(e,t){const n=DA(),[i]=L.useState(()=>new z_(n,e));L.useEffect(()=>{i.setOptions(e)},[i,e]);const o=L.useSyncExternalStore(L.useCallback(f=>i.subscribe(cn.batchCalls(f)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=L.useCallback((f,g)=>{i.mutate(f,g).catch($1)},[i]);if(o.error&&PA(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}async function BA(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ru(e,t,n){const i=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await BA(i),i.json()}const e8=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await BA(n),await n.json())},Af=new B_({defaultOptions:{queries:{queryFn:e8({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),t8=1,n8=1e6;let kh=0;function r8(){return kh=(kh+1)%Number.MAX_SAFE_INTEGER,kh.toString()}const Ph=new Map,Gm=e=>{if(Ph.has(e))return;const t=setTimeout(()=>{Ph.delete(e),oc({type:"REMOVE_TOAST",toastId:e})},n8);Ph.set(e,t)},i8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,t8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Gm(n):e.toasts.forEach(i=>{Gm(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},td=[];let nd={toasts:[]};function oc(e){nd=i8(nd,e),td.forEach(t=>{t(nd)})}function s8({...e}){const t=r8(),n=o=>oc({type:"UPDATE_TOAST",toast:{...o,id:t}}),i=()=>oc({type:"DISMISS_TOAST",toastId:t});return oc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||i()}}}),{id:t,dismiss:i,update:n}}function iu(){const[e,t]=L.useState(nd);return L.useEffect(()=>(td.push(t),()=>{const n=td.indexOf(t);n>-1&&td.splice(n,1)}),[e]),{...e,toast:s8,dismiss:n=>oc({type:"DISMISS_TOAST",toastId:n})}}function un(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Ym(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function FA(...e){return t=>{let n=!1;const i=e.map(o=>{const l=Ym(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():Ym(e[o],null)}}}}function ii(...e){return L.useCallback(FA(...e),e)}function su(e,t=[]){let n=[];function i(l,f){const g=L.createContext(f),x=n.length;n=[...n,f];const p=v=>{var O;const{scope:b,children:M,...P}=v,_=((O=b==null?void 0:b[e])==null?void 0:O[x])||g,k=L.useMemo(()=>P,Object.values(P));return E.jsx(_.Provider,{value:k,children:M})};p.displayName=l+"Provider";function w(v,b){var _;const M=((_=b==null?void 0:b[e])==null?void 0:_[x])||g,P=L.useContext(M);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[p,w]}const o=()=>{const l=n.map(f=>L.createContext(f));return function(g){const x=(g==null?void 0:g[e])||l;return L.useMemo(()=>({[`__scope${e}`]:{...g,[e]:x}}),[g,x])}};return o.scopeName=e,[i,o8(o,...t)]}function o8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const f=i.reduce((g,{useScope:x,scopeName:p})=>{const v=x(l)[`__scope${p}`];return{...g,...v}},{});return L.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return n.scopeName=t.scopeName,n}function Rd(e){const t=a8(e),n=L.forwardRef((i,o)=>{const{children:l,...f}=i,g=L.Children.toArray(l),x=g.find(c8);if(x){const p=x.props.children,w=g.map(v=>v===x?L.Children.count(p)>1?L.Children.only(null):L.isValidElement(p)?p.props.children:null:v);return E.jsx(t,{...f,ref:o,children:L.isValidElement(p)?L.cloneElement(p,void 0,w):null})}return E.jsx(t,{...f,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}var jA=Rd("Slot");function a8(e){const t=L.forwardRef((n,i)=>{const{children:o,...l}=n;if(L.isValidElement(o)){const f=d8(o),g=u8(l,o.props);return o.type!==L.Fragment&&(g.ref=i?FA(i,f):f),L.cloneElement(o,g)}return L.Children.count(o)>1?L.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UA=Symbol("radix.slottable");function l8(e){const t=({children:n})=>E.jsx(E.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=UA,t}function c8(e){return L.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UA}function u8(e,t){const n={...t};for(const i in t){const o=e[i],l=t[i];/^on[A-Z]/.test(i)?o&&l?n[i]=(...g)=>{l(...g),o(...g)}:o&&(n[i]=o):i==="style"?n[i]={...o,...l}:i==="className"&&(n[i]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function d8(e){var i,o;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function f8(e){const t=e+"CollectionProvider",[n,i]=su(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),f=_=>{const{scope:k,children:O}=_,T=We.useRef(null),N=We.useRef(new Map).current;return E.jsx(o,{scope:k,itemMap:N,collectionRef:T,children:O})};f.displayName=t;const g=e+"CollectionSlot",x=Rd(g),p=We.forwardRef((_,k)=>{const{scope:O,children:T}=_,N=l(g,O),B=ii(k,N.collectionRef);return E.jsx(x,{ref:B,children:T})});p.displayName=g;const w=e+"CollectionItemSlot",v="data-radix-collection-item",b=Rd(w),M=We.forwardRef((_,k)=>{const{scope:O,children:T,...N}=_,B=We.useRef(null),W=ii(k,B),Z=l(w,O);return We.useEffect(()=>(Z.itemMap.set(B,{ref:B,...N}),()=>void Z.itemMap.delete(B))),E.jsx(b,{[v]:"",ref:W,children:T})});M.displayName=w;function P(_){const k=l(e+"CollectionConsumer",_);return We.useCallback(()=>{const T=k.collectionRef.current;if(!T)return[];const N=Array.from(T.querySelectorAll(`[${v}]`));return Array.from(k.itemMap.values()).sort((Z,F)=>N.indexOf(Z.ref.current)-N.indexOf(F.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:f,Slot:p,ItemSlot:M},P,i]}var h8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Nn=h8.reduce((e,t)=>{const n=Rd(`Primitive.${t}`),i=L.forwardRef((o,l)=>{const{asChild:f,...g}=o,x=f?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(x,{...g,ref:l})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function zA(e,t){e&&eu.flushSync(()=>e.dispatchEvent(t))}function Mi(e){const t=L.useRef(e);return L.useEffect(()=>{t.current=e}),L.useMemo(()=>(...n)=>{var i;return(i=t.current)==null?void 0:i.call(t,...n)},[])}function g8(e,t=globalThis==null?void 0:globalThis.document){const n=Mi(e);L.useEffect(()=>{const i=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var p8="DismissableLayer",J1="dismissableLayer.update",m8="dismissableLayer.pointerDownOutside",x8="dismissableLayer.focusOutside",Xm,VA=L.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ag=L.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:f,onDismiss:g,...x}=e,p=L.useContext(VA),[w,v]=L.useState(null),b=(w==null?void 0:w.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,M]=L.useState({}),P=ii(t,F=>v(F)),_=Array.from(p.layers),[k]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),O=_.indexOf(k),T=w?_.indexOf(w):-1,N=p.layersWithOutsidePointerEventsDisabled.size>0,B=T>=O,W=w8(F=>{const J=F.target,G=[...p.branches].some(ge=>ge.contains(J));!B||G||(o==null||o(F),f==null||f(F),F.defaultPrevented||g==null||g())},b),Z=v8(F=>{const J=F.target;[...p.branches].some(ge=>ge.contains(J))||(l==null||l(F),f==null||f(F),F.defaultPrevented||g==null||g())},b);return g8(F=>{T===p.layers.size-1&&(i==null||i(F),!F.defaultPrevented&&g&&(F.preventDefault(),g()))},b),L.useEffect(()=>{if(w)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Xm=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(w)),p.layers.add(w),Qm(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Xm)}},[w,b,n,p]),L.useEffect(()=>()=>{w&&(p.layers.delete(w),p.layersWithOutsidePointerEventsDisabled.delete(w),Qm())},[w,p]),L.useEffect(()=>{const F=()=>M({});return document.addEventListener(J1,F),()=>document.removeEventListener(J1,F)},[]),E.jsx(Nn.div,{...x,ref:P,style:{pointerEvents:N?B?"auto":"none":void 0,...e.style},onFocusCapture:un(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:un(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:un(e.onPointerDownCapture,W.onPointerDownCapture)})});Ag.displayName=p8;var y8="DismissableLayerBranch",HA=L.forwardRef((e,t)=>{const n=L.useContext(VA),i=L.useRef(null),o=ii(t,i);return L.useEffect(()=>{const l=i.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),E.jsx(Nn.div,{...e,ref:o})});HA.displayName=y8;function w8(e,t=globalThis==null?void 0:globalThis.document){const n=Mi(e),i=L.useRef(!1),o=L.useRef(()=>{});return L.useEffect(()=>{const l=g=>{if(g.target&&!i.current){let x=function(){WA(m8,n,p,{discrete:!0})};const p={originalEvent:g};g.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=x,t.addEventListener("click",o.current,{once:!0})):x()}else t.removeEventListener("click",o.current);i.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function v8(e,t=globalThis==null?void 0:globalThis.document){const n=Mi(e),i=L.useRef(!1);return L.useEffect(()=>{const o=l=>{l.target&&!i.current&&WA(x8,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Qm(){const e=new CustomEvent(J1);document.dispatchEvent(e)}function WA(e,t,n,{discrete:i}){const o=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?zA(o,l):o.dispatchEvent(l)}var C8=Ag,E8=HA,zo=globalThis!=null&&globalThis.document?L.useLayoutEffect:()=>{},A8="Portal",GA=L.forwardRef((e,t)=>{var g;const{container:n,...i}=e,[o,l]=L.useState(!1);zo(()=>l(!0),[]);const f=n||o&&((g=globalThis==null?void 0:globalThis.document)==null?void 0:g.body);return f?YN.createPortal(E.jsx(Nn.div,{...i,ref:t}),f):null});GA.displayName=A8;function S8(e,t){return L.useReducer((n,i)=>t[n][i]??n,e)}var Sg=e=>{const{present:t,children:n}=e,i=b8(t),o=typeof n=="function"?n({present:i.isPresent}):L.Children.only(n),l=ii(i.ref,T8(o));return typeof n=="function"||i.isPresent?L.cloneElement(o,{ref:l}):null};Sg.displayName="Presence";function b8(e){const[t,n]=L.useState(),i=L.useRef({}),o=L.useRef(e),l=L.useRef("none"),f=e?"mounted":"unmounted",[g,x]=S8(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.useEffect(()=>{const p=Fu(i.current);l.current=g==="mounted"?p:"none"},[g]),zo(()=>{const p=i.current,w=o.current;if(w!==e){const b=l.current,M=Fu(p);e?x("MOUNT"):M==="none"||(p==null?void 0:p.display)==="none"?x("UNMOUNT"):x(w&&b!==M?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,x]),zo(()=>{if(t){let p;const w=t.ownerDocument.defaultView??window,v=M=>{const _=Fu(i.current).includes(M.animationName);if(M.target===t&&_&&(x("ANIMATION_END"),!o.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",p=w.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},b=M=>{M.target===t&&(l.current=Fu(i.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{w.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else x("ANIMATION_END")},[t,x]),{isPresent:["mounted","unmountSuspended"].includes(g),ref:L.useCallback(p=>{p&&(i.current=getComputedStyle(p)),n(p)},[])}}function Fu(e){return(e==null?void 0:e.animationName)||"none"}function T8(e){var i,o;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function I8({prop:e,defaultProp:t,onChange:n=()=>{}}){const[i,o]=N8({defaultProp:t,onChange:n}),l=e!==void 0,f=l?e:i,g=Mi(n),x=L.useCallback(p=>{if(l){const v=typeof p=="function"?p(e):p;v!==e&&g(v)}else o(p)},[l,e,o,g]);return[f,x]}function N8({defaultProp:e,onChange:t}){const n=L.useState(e),[i]=n,o=L.useRef(i),l=Mi(t);return L.useEffect(()=>{o.current!==i&&(l(i),o.current=i)},[i,o,l]),n}var _8="VisuallyHidden",Sf=L.forwardRef((e,t)=>E.jsx(Nn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Sf.displayName=_8;var O8=Sf,bg="ToastProvider",[Tg,M8,R8]=f8("Toast"),[YA,h7]=su("Toast",[R8]),[D8,bf]=YA(bg),XA=e=>{const{__scopeToast:t,label:n="Notification",duration:i=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:f}=e,[g,x]=L.useState(null),[p,w]=L.useState(0),v=L.useRef(!1),b=L.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${bg}\`. Expected non-empty \`string\`.`),E.jsx(Tg.Provider,{scope:t,children:E.jsx(D8,{scope:t,label:n,duration:i,swipeDirection:o,swipeThreshold:l,toastCount:p,viewport:g,onViewportChange:x,onToastAdd:L.useCallback(()=>w(M=>M+1),[]),onToastRemove:L.useCallback(()=>w(M=>M-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:b,children:f})})};XA.displayName=bg;var QA="ToastViewport",k8=["F8"],e0="toast.viewportPause",t0="toast.viewportResume",ZA=L.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:i=k8,label:o="Notifications ({hotkey})",...l}=e,f=bf(QA,n),g=M8(n),x=L.useRef(null),p=L.useRef(null),w=L.useRef(null),v=L.useRef(null),b=ii(t,v,f.onViewportChange),M=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=f.toastCount>0;L.useEffect(()=>{const k=O=>{var N;i.length!==0&&i.every(B=>O[B]||O.code===B)&&((N=v.current)==null||N.focus())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[i]),L.useEffect(()=>{const k=x.current,O=v.current;if(P&&k&&O){const T=()=>{if(!f.isClosePausedRef.current){const Z=new CustomEvent(e0);O.dispatchEvent(Z),f.isClosePausedRef.current=!0}},N=()=>{if(f.isClosePausedRef.current){const Z=new CustomEvent(t0);O.dispatchEvent(Z),f.isClosePausedRef.current=!1}},B=Z=>{!k.contains(Z.relatedTarget)&&N()},W=()=>{k.contains(document.activeElement)||N()};return k.addEventListener("focusin",T),k.addEventListener("focusout",B),k.addEventListener("pointermove",T),k.addEventListener("pointerleave",W),window.addEventListener("blur",T),window.addEventListener("focus",N),()=>{k.removeEventListener("focusin",T),k.removeEventListener("focusout",B),k.removeEventListener("pointermove",T),k.removeEventListener("pointerleave",W),window.removeEventListener("blur",T),window.removeEventListener("focus",N)}}},[P,f.isClosePausedRef]);const _=L.useCallback(({tabbingDirection:k})=>{const T=g().map(N=>{const B=N.ref.current,W=[B,...X8(B)];return k==="forwards"?W:W.reverse()});return(k==="forwards"?T.reverse():T).flat()},[g]);return L.useEffect(()=>{const k=v.current;if(k){const O=T=>{var W,Z,F;const N=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!N){const J=document.activeElement,G=T.shiftKey;if(T.target===k&&G){(W=p.current)==null||W.focus();return}const ee=_({tabbingDirection:G?"backwards":"forwards"}),ae=ee.findIndex(re=>re===J);Lh(ee.slice(ae+1))?T.preventDefault():G?(Z=p.current)==null||Z.focus():(F=w.current)==null||F.focus()}};return k.addEventListener("keydown",O),()=>k.removeEventListener("keydown",O)}},[g,_]),E.jsxs(E8,{ref:x,role:"region","aria-label":o.replace("{hotkey}",M),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&E.jsx(n0,{ref:p,onFocusFromOutsideViewport:()=>{const k=_({tabbingDirection:"forwards"});Lh(k)}}),E.jsx(Tg.Slot,{scope:n,children:E.jsx(Nn.ol,{tabIndex:-1,...l,ref:b})}),P&&E.jsx(n0,{ref:w,onFocusFromOutsideViewport:()=>{const k=_({tabbingDirection:"backwards"});Lh(k)}})]})});ZA.displayName=QA;var qA="ToastFocusProxy",n0=L.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...o}=e,l=bf(qA,n);return E.jsx(Sf,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:f=>{var p;const g=f.relatedTarget;!((p=l.viewport)!=null&&p.contains(g))&&i()}})});n0.displayName=qA;var Tf="Toast",P8="toast.swipeStart",L8="toast.swipeMove",B8="toast.swipeCancel",F8="toast.swipeEnd",KA=L.forwardRef((e,t)=>{const{forceMount:n,open:i,defaultOpen:o,onOpenChange:l,...f}=e,[g=!0,x]=I8({prop:i,defaultProp:o,onChange:l});return E.jsx(Sg,{present:n||g,children:E.jsx(z8,{open:g,...f,ref:t,onClose:()=>x(!1),onPause:Mi(e.onPause),onResume:Mi(e.onResume),onSwipeStart:un(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:un(e.onSwipeMove,p=>{const{x:w,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${w}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:un(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:un(e.onSwipeEnd,p=>{const{x:w,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${w}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),x(!1)})})})});KA.displayName=Tf;var[j8,U8]=YA(Tf,{onClose(){}}),z8=L.forwardRef((e,t)=>{const{__scopeToast:n,type:i="foreground",duration:o,open:l,onClose:f,onEscapeKeyDown:g,onPause:x,onResume:p,onSwipeStart:w,onSwipeMove:v,onSwipeCancel:b,onSwipeEnd:M,...P}=e,_=bf(Tf,n),[k,O]=L.useState(null),T=ii(t,re=>O(re)),N=L.useRef(null),B=L.useRef(null),W=o||_.duration,Z=L.useRef(0),F=L.useRef(W),J=L.useRef(0),{onToastAdd:G,onToastRemove:ge}=_,Ee=Mi(()=>{var Y;(k==null?void 0:k.contains(document.activeElement))&&((Y=_.viewport)==null||Y.focus()),f()}),ee=L.useCallback(re=>{!re||re===1/0||(window.clearTimeout(J.current),Z.current=new Date().getTime(),J.current=window.setTimeout(Ee,re))},[Ee]);L.useEffect(()=>{const re=_.viewport;if(re){const Y=()=>{ee(F.current),p==null||p()},Ae=()=>{const xe=new Date().getTime()-Z.current;F.current=F.current-xe,window.clearTimeout(J.current),x==null||x()};return re.addEventListener(e0,Ae),re.addEventListener(t0,Y),()=>{re.removeEventListener(e0,Ae),re.removeEventListener(t0,Y)}}},[_.viewport,W,x,p,ee]),L.useEffect(()=>{l&&!_.isClosePausedRef.current&&ee(W)},[l,W,_.isClosePausedRef,ee]),L.useEffect(()=>(G(),()=>ge()),[G,ge]);const ae=L.useMemo(()=>k?i3(k):null,[k]);return _.viewport?E.jsxs(E.Fragment,{children:[ae&&E.jsx(V8,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:ae}),E.jsx(j8,{scope:n,onClose:Ee,children:eu.createPortal(E.jsx(Tg.ItemSlot,{scope:n,children:E.jsx(C8,{asChild:!0,onEscapeKeyDown:un(g,()=>{_.isFocusedToastEscapeKeyDownRef.current||Ee(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(Nn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":_.swipeDirection,...P,ref:T,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:un(e.onKeyDown,re=>{re.key==="Escape"&&(g==null||g(re.nativeEvent),re.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,Ee()))}),onPointerDown:un(e.onPointerDown,re=>{re.button===0&&(N.current={x:re.clientX,y:re.clientY})}),onPointerMove:un(e.onPointerMove,re=>{if(!N.current)return;const Y=re.clientX-N.current.x,Ae=re.clientY-N.current.y,xe=!!B.current,ne=["left","right"].includes(_.swipeDirection),pe=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,Te=ne?pe(0,Y):0,ze=ne?0:pe(0,Ae),Ve=re.pointerType==="touch"?10:2,Vt={x:Te,y:ze},ut={originalEvent:re,delta:Vt};xe?(B.current=Vt,ju(L8,v,ut,{discrete:!1})):Zm(Vt,_.swipeDirection,Ve)?(B.current=Vt,ju(P8,w,ut,{discrete:!1}),re.target.setPointerCapture(re.pointerId)):(Math.abs(Y)>Ve||Math.abs(Ae)>Ve)&&(N.current=null)}),onPointerUp:un(e.onPointerUp,re=>{const Y=B.current,Ae=re.target;if(Ae.hasPointerCapture(re.pointerId)&&Ae.releasePointerCapture(re.pointerId),B.current=null,N.current=null,Y){const xe=re.currentTarget,ne={originalEvent:re,delta:Y};Zm(Y,_.swipeDirection,_.swipeThreshold)?ju(F8,M,ne,{discrete:!0}):ju(B8,b,ne,{discrete:!0}),xe.addEventListener("click",pe=>pe.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),V8=e=>{const{__scopeToast:t,children:n,...i}=e,o=bf(Tf,t),[l,f]=L.useState(!1),[g,x]=L.useState(!1);return G8(()=>f(!0)),L.useEffect(()=>{const p=window.setTimeout(()=>x(!0),1e3);return()=>window.clearTimeout(p)},[]),g?null:E.jsx(GA,{asChild:!0,children:E.jsx(Sf,{...i,children:l&&E.jsxs(E.Fragment,{children:[o.label," ",n]})})})},H8="ToastTitle",$A=L.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return E.jsx(Nn.div,{...i,ref:t})});$A.displayName=H8;var W8="ToastDescription",JA=L.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return E.jsx(Nn.div,{...i,ref:t})});JA.displayName=W8;var e3="ToastAction",t3=L.forwardRef((e,t)=>{const{altText:n,...i}=e;return n.trim()?E.jsx(r3,{altText:n,asChild:!0,children:E.jsx(Ig,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${e3}\`. Expected non-empty \`string\`.`),null)});t3.displayName=e3;var n3="ToastClose",Ig=L.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e,o=U8(n3,n);return E.jsx(r3,{asChild:!0,children:E.jsx(Nn.button,{type:"button",...i,ref:t,onClick:un(e.onClick,o.onClose)})})});Ig.displayName=n3;var r3=L.forwardRef((e,t)=>{const{__scopeToast:n,altText:i,...o}=e;return E.jsx(Nn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...o,ref:t})});function i3(e){const t=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),Y8(i)){const o=i.ariaHidden||i.hidden||i.style.display==="none",l=i.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const f=i.dataset.radixToastAnnounceAlt;f&&t.push(f)}else t.push(...i3(i))}}),t}function ju(e,t,n,{discrete:i}){const o=n.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?zA(o,l):o.dispatchEvent(l)}var Zm=(e,t,n=0)=>{const i=Math.abs(e.x),o=Math.abs(e.y),l=i>o;return t==="left"||t==="right"?l&&i>n:!l&&o>n};function G8(e=()=>{}){const t=Mi(e);zo(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[t])}function Y8(e){return e.nodeType===e.ELEMENT_NODE}function X8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Lh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Q8=XA,s3=ZA,o3=KA,a3=$A,l3=JA,c3=t3,u3=Ig;function d3(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=d3(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function f3(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=d3(e))&&(i&&(i+=" "),i+=t);return i}const qm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Km=f3,If=(e,t)=>n=>{var i;if((t==null?void 0:t.variants)==null)return Km(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:l}=t,f=Object.keys(o).map(p=>{const w=n==null?void 0:n[p],v=l==null?void 0:l[p];if(w===null)return null;const b=qm(w)||qm(v);return o[p][b]}),g=n&&Object.entries(n).reduce((p,w)=>{let[v,b]=w;return b===void 0||(p[v]=b),p},{}),x=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((p,w)=>{let{class:v,className:b,...M}=w;return Object.entries(M).every(P=>{let[_,k]=P;return Array.isArray(k)?k.includes({...l,...g}[_]):{...l,...g}[_]===k})?[...p,v,b]:p},[]);return Km(e,f,x,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h3=(...e)=>e.filter((t,n,i)=>!!t&&i.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=L.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:f,...g},x)=>L.createElement("svg",{ref:x,...q8,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:h3("lucide",o),...g},[...f.map(([p,w])=>L.createElement(p,w)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=(e,t)=>{const n=L.forwardRef(({className:i,...o},l)=>L.createElement(K8,{ref:l,iconNode:t,className:h3(`lucide-${Z8(e)}`,i),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Fn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Fn("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Fn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=Fn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=Fn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Fn("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Fn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Fn("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=Fn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=Fn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Fn("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Fn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=Fn("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Fn("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=Fn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Fn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Og="-",r6=e=>{const t=s6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:f=>{const g=f.split(Og);return g[0]===""&&g.length!==1&&g.shift(),m3(g,t)||i6(f)},getConflictingClassGroupIds:(f,g)=>{const x=n[f]||[];return g&&i[f]?[...x,...i[f]]:x}}},m3=(e,t)=>{var f;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),o=i?m3(e.slice(1),i):void 0;if(o)return o;if(t.validators.length===0)return;const l=e.join(Og);return(f=t.validators.find(({validator:g})=>g(l)))==null?void 0:f.classGroupId},ex=/^\[(.+)\]$/,i6=e=>{if(ex.test(e)){const t=ex.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},s6=e=>{const{theme:t,prefix:n}=e,i={nextPart:new Map,validators:[]};return a6(Object.entries(e.classGroups),n).forEach(([l,f])=>{s0(f,i,l,t)}),i},s0=(e,t,n,i)=>{e.forEach(o=>{if(typeof o=="string"){const l=o===""?t:tx(t,o);l.classGroupId=n;return}if(typeof o=="function"){if(o6(o)){s0(o(i),t,n,i);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,f])=>{s0(f,tx(t,l),n,i)})})},tx=(e,t)=>{let n=e;return t.split(Og).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},o6=e=>e.isThemeGetter,a6=(e,t)=>t?e.map(([n,i])=>{const o=i.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([f,g])=>[t+f,g])):l);return[n,o]}):e,l6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const o=(l,f)=>{n.set(l,f),t++,t>e&&(t=0,i=n,n=new Map)};return{get(l){let f=n.get(l);if(f!==void 0)return f;if((f=i.get(l))!==void 0)return o(l,f),f},set(l,f){n.has(l)?n.set(l,f):o(l,f)}}},x3="!",c6=e=>{const{separator:t,experimentalParseClassName:n}=e,i=t.length===1,o=t[0],l=t.length,f=g=>{const x=[];let p=0,w=0,v;for(let k=0;k<g.length;k++){let O=g[k];if(p===0){if(O===o&&(i||g.slice(k,k+l)===t)){x.push(g.slice(w,k)),w=k+l;continue}if(O==="/"){v=k;continue}}O==="["?p++:O==="]"&&p--}const b=x.length===0?g:g.substring(w),M=b.startsWith(x3),P=M?b.substring(1):b,_=v&&v>w?v-w:void 0;return{modifiers:x,hasImportantModifier:M,baseClassName:P,maybePostfixModifierPosition:_}};return n?g=>n({className:g,parseClassName:f}):f},u6=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(i=>{i[0]==="["?(t.push(...n.sort(),i),n=[]):n.push(i)}),t.push(...n.sort()),t},d6=e=>({cache:l6(e.cacheSize),parseClassName:c6(e),...r6(e)}),f6=/\s+/,h6=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o}=t,l=[],f=e.trim().split(f6);let g="";for(let x=f.length-1;x>=0;x-=1){const p=f[x],{modifiers:w,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:M}=n(p);let P=!!M,_=i(P?b.substring(0,M):b);if(!_){if(!P){g=p+(g.length>0?" "+g:g);continue}if(_=i(b),!_){g=p+(g.length>0?" "+g:g);continue}P=!1}const k=u6(w).join(":"),O=v?k+x3:k,T=O+_;if(l.includes(T))continue;l.push(T);const N=o(_,P);for(let B=0;B<N.length;++B){const W=N[B];l.push(O+W)}g=p+(g.length>0?" "+g:g)}return g};function g6(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=y3(t))&&(i&&(i+=" "),i+=n);return i}const y3=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=y3(e[i]))&&(n&&(n+=" "),n+=t);return n};function p6(e,...t){let n,i,o,l=f;function f(x){const p=t.reduce((w,v)=>v(w),e());return n=d6(p),i=n.cache.get,o=n.cache.set,l=g,g(x)}function g(x){const p=i(x);if(p)return p;const w=h6(x,n);return o(x,w),w}return function(){return l(g6.apply(null,arguments))}}const Tt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},w3=/^\[(?:([a-z-]+):)?(.+)\]$/i,m6=/^\d+\/\d+$/,x6=new Set(["px","full","screen"]),y6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,C6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bi=e=>Ma(e)||x6.has(e)||m6.test(e),hs=e=>hl(e,"length",O6),Ma=e=>!!e&&!Number.isNaN(Number(e)),Bh=e=>hl(e,"number",Ma),Pl=e=>!!e&&Number.isInteger(Number(e)),A6=e=>e.endsWith("%")&&Ma(e.slice(0,-1)),Xe=e=>w3.test(e),gs=e=>y6.test(e),S6=new Set(["length","size","percentage"]),b6=e=>hl(e,S6,v3),T6=e=>hl(e,"position",v3),I6=new Set(["image","url"]),N6=e=>hl(e,I6,R6),_6=e=>hl(e,"",M6),Ll=()=>!0,hl=(e,t,n)=>{const i=w3.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):n(i[2]):!1},O6=e=>w6.test(e)&&!v6.test(e),v3=()=>!1,M6=e=>C6.test(e),R6=e=>E6.test(e),D6=()=>{const e=Tt("colors"),t=Tt("spacing"),n=Tt("blur"),i=Tt("brightness"),o=Tt("borderColor"),l=Tt("borderRadius"),f=Tt("borderSpacing"),g=Tt("borderWidth"),x=Tt("contrast"),p=Tt("grayscale"),w=Tt("hueRotate"),v=Tt("invert"),b=Tt("gap"),M=Tt("gradientColorStops"),P=Tt("gradientColorStopPositions"),_=Tt("inset"),k=Tt("margin"),O=Tt("opacity"),T=Tt("padding"),N=Tt("saturate"),B=Tt("scale"),W=Tt("sepia"),Z=Tt("skew"),F=Tt("space"),J=Tt("translate"),G=()=>["auto","contain","none"],ge=()=>["auto","hidden","clip","visible","scroll"],Ee=()=>["auto",Xe,t],ee=()=>[Xe,t],ae=()=>["",Bi,hs],re=()=>["auto",Ma,Xe],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ae=()=>["solid","dashed","dotted","double","none"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],pe=()=>["","0",Xe],Te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ze=()=>[Ma,Xe];return{cacheSize:500,separator:":",theme:{colors:[Ll],spacing:[Bi,hs],blur:["none","",gs,Xe],brightness:ze(),borderColor:[e],borderRadius:["none","","full",gs,Xe],borderSpacing:ee(),borderWidth:ae(),contrast:ze(),grayscale:pe(),hueRotate:ze(),invert:pe(),gap:ee(),gradientColorStops:[e],gradientColorStopPositions:[A6,hs],inset:Ee(),margin:Ee(),opacity:ze(),padding:ee(),saturate:ze(),scale:ze(),sepia:pe(),skew:ze(),space:ee(),translate:ee()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[gs]}],"break-after":[{"break-after":Te()}],"break-before":[{"break-before":Te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Xe]}],overflow:[{overflow:ge()}],"overflow-x":[{"overflow-x":ge()}],"overflow-y":[{"overflow-y":ge()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pl,Xe]}],basis:[{basis:Ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:pe()}],shrink:[{shrink:pe()}],order:[{order:["first","last","none",Pl,Xe]}],"grid-cols":[{"grid-cols":[Ll]}],"col-start-end":[{col:["auto",{span:["full",Pl,Xe]},Xe]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[Ll]}],"row-start-end":[{row:["auto",{span:[Pl,Xe]},Xe]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,t]}],"min-w":[{"min-w":[Xe,t,"min","max","fit"]}],"max-w":[{"max-w":[Xe,t,"none","full","min","max","fit","prose",{screen:[gs]},gs]}],h:[{h:[Xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",gs,hs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bh]}],"font-family":[{font:[Ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",Ma,Bh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bi,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bi,hs]}],"underline-offset":[{"underline-offset":["auto",Bi,Xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ee()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),T6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",b6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},N6]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[M]}],"gradient-via":[{via:[M]}],"gradient-to":[{to:[M]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...Ae(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:Ae()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Ae()]}],"outline-offset":[{"outline-offset":[Bi,Xe]}],"outline-w":[{outline:[Bi,hs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[Bi,hs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",gs,_6]}],"shadow-color":[{shadow:[Ll]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":[...xe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",gs,Xe]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[v]}],saturate:[{saturate:[N]}],sepia:[{sepia:[W]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[W]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:ze()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:ze()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[B]}],"scale-x":[{"scale-x":[B]}],"scale-y":[{"scale-y":[B]}],rotate:[{rotate:[Pl,Xe]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ee()}],"scroll-mx":[{"scroll-mx":ee()}],"scroll-my":[{"scroll-my":ee()}],"scroll-ms":[{"scroll-ms":ee()}],"scroll-me":[{"scroll-me":ee()}],"scroll-mt":[{"scroll-mt":ee()}],"scroll-mr":[{"scroll-mr":ee()}],"scroll-mb":[{"scroll-mb":ee()}],"scroll-ml":[{"scroll-ml":ee()}],"scroll-p":[{"scroll-p":ee()}],"scroll-px":[{"scroll-px":ee()}],"scroll-py":[{"scroll-py":ee()}],"scroll-ps":[{"scroll-ps":ee()}],"scroll-pe":[{"scroll-pe":ee()}],"scroll-pt":[{"scroll-pt":ee()}],"scroll-pr":[{"scroll-pr":ee()}],"scroll-pb":[{"scroll-pb":ee()}],"scroll-pl":[{"scroll-pl":ee()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Bi,hs,Bh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},k6=p6(D6);function mt(...e){return k6(f3(e))}const P6=Q8,C3=L.forwardRef(({className:e,...t},n)=>E.jsx(s3,{ref:n,className:mt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));C3.displayName=s3.displayName;const L6=If("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),E3=L.forwardRef(({className:e,variant:t,...n},i)=>E.jsx(o3,{ref:i,className:mt(L6({variant:t}),e),...n}));E3.displayName=o3.displayName;const B6=L.forwardRef(({className:e,...t},n)=>E.jsx(c3,{ref:n,className:mt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));B6.displayName=c3.displayName;const A3=L.forwardRef(({className:e,...t},n)=>E.jsx(u3,{ref:n,className:mt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:E.jsx(n6,{className:"h-4 w-4"})}));A3.displayName=u3.displayName;const S3=L.forwardRef(({className:e,...t},n)=>E.jsx(a3,{ref:n,className:mt("text-sm font-semibold",e),...t}));S3.displayName=a3.displayName;const b3=L.forwardRef(({className:e,...t},n)=>E.jsx(l3,{ref:n,className:mt("text-sm opacity-90",e),...t}));b3.displayName=l3.displayName;function F6(){const{toasts:e}=iu();return E.jsxs(P6,{children:[e.map(function({id:t,title:n,description:i,action:o,...l}){return E.jsxs(E3,{...l,children:[E.jsxs("div",{className:"grid gap-1",children:[n&&E.jsx(S3,{children:n}),i&&E.jsx(b3,{children:i})]}),o,E.jsx(A3,{})]},t)}),E.jsx(C3,{})]})}const j6=["top","right","bottom","left"],Ks=Math.min,pr=Math.max,Pd=Math.round,Uu=Math.floor,_i=e=>({x:e,y:e}),U6={left:"right",right:"left",bottom:"top",top:"bottom"},z6={start:"end",end:"start"};function o0(e,t,n){return pr(e,Ks(t,n))}function es(e,t){return typeof e=="function"?e(t):e}function ts(e){return e.split("-")[0]}function gl(e){return e.split("-")[1]}function Mg(e){return e==="x"?"y":"x"}function Rg(e){return e==="y"?"height":"width"}function $s(e){return["top","bottom"].includes(ts(e))?"y":"x"}function Dg(e){return Mg($s(e))}function V6(e,t,n){n===void 0&&(n=!1);const i=gl(e),o=Dg(e),l=Rg(o);let f=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(f=Ld(f)),[f,Ld(f)]}function H6(e){const t=Ld(e);return[a0(e),t,a0(t)]}function a0(e){return e.replace(/start|end/g,t=>z6[t])}function W6(e,t,n){const i=["left","right"],o=["right","left"],l=["top","bottom"],f=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:i:t?i:o;case"left":case"right":return t?l:f;default:return[]}}function G6(e,t,n,i){const o=gl(e);let l=W6(ts(e),n==="start",i);return o&&(l=l.map(f=>f+"-"+o),t&&(l=l.concat(l.map(a0)))),l}function Ld(e){return e.replace(/left|right|bottom|top/g,t=>U6[t])}function Y6(e){return{top:0,right:0,bottom:0,left:0,...e}}function T3(e){return typeof e!="number"?Y6(e):{top:e,right:e,bottom:e,left:e}}function Bd(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}function nx(e,t,n){let{reference:i,floating:o}=e;const l=$s(t),f=Dg(t),g=Rg(f),x=ts(t),p=l==="y",w=i.x+i.width/2-o.width/2,v=i.y+i.height/2-o.height/2,b=i[g]/2-o[g]/2;let M;switch(x){case"top":M={x:w,y:i.y-o.height};break;case"bottom":M={x:w,y:i.y+i.height};break;case"right":M={x:i.x+i.width,y:v};break;case"left":M={x:i.x-o.width,y:v};break;default:M={x:i.x,y:i.y}}switch(gl(t)){case"start":M[f]-=b*(n&&p?-1:1);break;case"end":M[f]+=b*(n&&p?-1:1);break}return M}const X6=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:f}=n,g=l.filter(Boolean),x=await(f.isRTL==null?void 0:f.isRTL(t));let p=await f.getElementRects({reference:e,floating:t,strategy:o}),{x:w,y:v}=nx(p,i,x),b=i,M={},P=0;for(let _=0;_<g.length;_++){const{name:k,fn:O}=g[_],{x:T,y:N,data:B,reset:W}=await O({x:w,y:v,initialPlacement:i,placement:b,strategy:o,middlewareData:M,rects:p,platform:f,elements:{reference:e,floating:t}});w=T??w,v=N??v,M={...M,[k]:{...M[k],...B}},W&&P<=50&&(P++,typeof W=="object"&&(W.placement&&(b=W.placement),W.rects&&(p=W.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:o}):W.rects),{x:w,y:v}=nx(p,b,x)),_=-1)}return{x:w,y:v,placement:b,strategy:o,middlewareData:M}};async function Ic(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:l,rects:f,elements:g,strategy:x}=e,{boundary:p="clippingAncestors",rootBoundary:w="viewport",elementContext:v="floating",altBoundary:b=!1,padding:M=0}=es(t,e),P=T3(M),k=g[b?v==="floating"?"reference":"floating":v],O=Bd(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(k)))==null||n?k:k.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(g.floating)),boundary:p,rootBoundary:w,strategy:x})),T=v==="floating"?{x:i,y:o,width:f.floating.width,height:f.floating.height}:f.reference,N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(g.floating)),B=await(l.isElement==null?void 0:l.isElement(N))?await(l.getScale==null?void 0:l.getScale(N))||{x:1,y:1}:{x:1,y:1},W=Bd(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:g,rect:T,offsetParent:N,strategy:x}):T);return{top:(O.top-W.top+P.top)/B.y,bottom:(W.bottom-O.bottom+P.bottom)/B.y,left:(O.left-W.left+P.left)/B.x,right:(W.right-O.right+P.right)/B.x}}const Q6=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:l,platform:f,elements:g,middlewareData:x}=t,{element:p,padding:w=0}=es(e,t)||{};if(p==null)return{};const v=T3(w),b={x:n,y:i},M=Dg(o),P=Rg(M),_=await f.getDimensions(p),k=M==="y",O=k?"top":"left",T=k?"bottom":"right",N=k?"clientHeight":"clientWidth",B=l.reference[P]+l.reference[M]-b[M]-l.floating[P],W=b[M]-l.reference[M],Z=await(f.getOffsetParent==null?void 0:f.getOffsetParent(p));let F=Z?Z[N]:0;(!F||!await(f.isElement==null?void 0:f.isElement(Z)))&&(F=g.floating[N]||l.floating[P]);const J=B/2-W/2,G=F/2-_[P]/2-1,ge=Ks(v[O],G),Ee=Ks(v[T],G),ee=ge,ae=F-_[P]-Ee,re=F/2-_[P]/2+J,Y=o0(ee,re,ae),Ae=!x.arrow&&gl(o)!=null&&re!==Y&&l.reference[P]/2-(re<ee?ge:Ee)-_[P]/2<0,xe=Ae?re<ee?re-ee:re-ae:0;return{[M]:b[M]+xe,data:{[M]:Y,centerOffset:re-Y-xe,...Ae&&{alignmentOffset:xe}},reset:Ae}}}),Z6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:l,rects:f,initialPlacement:g,platform:x,elements:p}=t,{mainAxis:w=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:M="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:_=!0,...k}=es(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const O=ts(o),T=$s(g),N=ts(g)===g,B=await(x.isRTL==null?void 0:x.isRTL(p.floating)),W=b||(N||!_?[Ld(g)]:H6(g)),Z=P!=="none";!b&&Z&&W.push(...G6(g,_,P,B));const F=[g,...W],J=await Ic(t,k),G=[];let ge=((i=l.flip)==null?void 0:i.overflows)||[];if(w&&G.push(J[O]),v){const re=V6(o,f,B);G.push(J[re[0]],J[re[1]])}if(ge=[...ge,{placement:o,overflows:G}],!G.every(re=>re<=0)){var Ee,ee;const re=(((Ee=l.flip)==null?void 0:Ee.index)||0)+1,Y=F[re];if(Y)return{data:{index:re,overflows:ge},reset:{placement:Y}};let Ae=(ee=ge.filter(xe=>xe.overflows[0]<=0).sort((xe,ne)=>xe.overflows[1]-ne.overflows[1])[0])==null?void 0:ee.placement;if(!Ae)switch(M){case"bestFit":{var ae;const xe=(ae=ge.filter(ne=>{if(Z){const pe=$s(ne.placement);return pe===T||pe==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(pe=>pe>0).reduce((pe,Te)=>pe+Te,0)]).sort((ne,pe)=>ne[1]-pe[1])[0])==null?void 0:ae[0];xe&&(Ae=xe);break}case"initialPlacement":Ae=g;break}if(o!==Ae)return{reset:{placement:Ae}}}return{}}}};function rx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ix(e){return j6.some(t=>e[t]>=0)}const q6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...o}=es(e,t);switch(i){case"referenceHidden":{const l=await Ic(t,{...o,elementContext:"reference"}),f=rx(l,n.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:ix(f)}}}case"escaped":{const l=await Ic(t,{...o,altBoundary:!0}),f=rx(l,n.floating);return{data:{escapedOffsets:f,escaped:ix(f)}}}default:return{}}}}};async function K6(e,t){const{placement:n,platform:i,elements:o}=e,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),f=ts(n),g=gl(n),x=$s(n)==="y",p=["left","top"].includes(f)?-1:1,w=l&&x?-1:1,v=es(t,e);let{mainAxis:b,crossAxis:M,alignmentAxis:P}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return g&&typeof P=="number"&&(M=g==="end"?P*-1:P),x?{x:M*w,y:b*p}:{x:b*p,y:M*w}}const $6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:l,placement:f,middlewareData:g}=t,x=await K6(t,e);return f===((n=g.offset)==null?void 0:n.placement)&&(i=g.arrow)!=null&&i.alignmentOffset?{}:{x:o+x.x,y:l+x.y,data:{...x,placement:f}}}}},J6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:l=!0,crossAxis:f=!1,limiter:g={fn:k=>{let{x:O,y:T}=k;return{x:O,y:T}}},...x}=es(e,t),p={x:n,y:i},w=await Ic(t,x),v=$s(ts(o)),b=Mg(v);let M=p[b],P=p[v];if(l){const k=b==="y"?"top":"left",O=b==="y"?"bottom":"right",T=M+w[k],N=M-w[O];M=o0(T,M,N)}if(f){const k=v==="y"?"top":"left",O=v==="y"?"bottom":"right",T=P+w[k],N=P-w[O];P=o0(T,P,N)}const _=g.fn({...t,[b]:M,[v]:P});return{..._,data:{x:_.x-n,y:_.y-i,enabled:{[b]:l,[v]:f}}}}}},eO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:o,rects:l,middlewareData:f}=t,{offset:g=0,mainAxis:x=!0,crossAxis:p=!0}=es(e,t),w={x:n,y:i},v=$s(o),b=Mg(v);let M=w[b],P=w[v];const _=es(g,t),k=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(x){const N=b==="y"?"height":"width",B=l.reference[b]-l.floating[N]+k.mainAxis,W=l.reference[b]+l.reference[N]-k.mainAxis;M<B?M=B:M>W&&(M=W)}if(p){var O,T;const N=b==="y"?"width":"height",B=["top","left"].includes(ts(o)),W=l.reference[v]-l.floating[N]+(B&&((O=f.offset)==null?void 0:O[v])||0)+(B?0:k.crossAxis),Z=l.reference[v]+l.reference[N]+(B?0:((T=f.offset)==null?void 0:T[v])||0)-(B?k.crossAxis:0);P<W?P=W:P>Z&&(P=Z)}return{[b]:M,[v]:P}}}},tO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:o,rects:l,platform:f,elements:g}=t,{apply:x=()=>{},...p}=es(e,t),w=await Ic(t,p),v=ts(o),b=gl(o),M=$s(o)==="y",{width:P,height:_}=l.floating;let k,O;v==="top"||v==="bottom"?(k=v,O=b===(await(f.isRTL==null?void 0:f.isRTL(g.floating))?"start":"end")?"left":"right"):(O=v,k=b==="end"?"top":"bottom");const T=_-w.top-w.bottom,N=P-w.left-w.right,B=Ks(_-w[k],T),W=Ks(P-w[O],N),Z=!t.middlewareData.shift;let F=B,J=W;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(J=N),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(F=T),Z&&!b){const ge=pr(w.left,0),Ee=pr(w.right,0),ee=pr(w.top,0),ae=pr(w.bottom,0);M?J=P-2*(ge!==0||Ee!==0?ge+Ee:pr(w.left,w.right)):F=_-2*(ee!==0||ae!==0?ee+ae:pr(w.top,w.bottom))}await x({...t,availableWidth:J,availableHeight:F});const G=await f.getDimensions(g.floating);return P!==G.width||_!==G.height?{reset:{rects:!0}}:{}}}};function Nf(){return typeof window<"u"}function pl(e){return I3(e)?(e.nodeName||"").toLowerCase():"#document"}function vr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Li(e){var t;return(t=(I3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function I3(e){return Nf()?e instanceof Node||e instanceof vr(e).Node:!1}function si(e){return Nf()?e instanceof Element||e instanceof vr(e).Element:!1}function Ri(e){return Nf()?e instanceof HTMLElement||e instanceof vr(e).HTMLElement:!1}function sx(e){return!Nf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof vr(e).ShadowRoot}function ou(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=oi(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function nO(e){return["table","td","th"].includes(pl(e))}function _f(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function kg(e){const t=Pg(),n=si(e)?oi(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function rO(e){let t=Js(e);for(;Ri(t)&&!rl(t);){if(kg(t))return t;if(_f(t))return null;t=Js(t)}return null}function Pg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rl(e){return["html","body","#document"].includes(pl(e))}function oi(e){return vr(e).getComputedStyle(e)}function Of(e){return si(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Js(e){if(pl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sx(e)&&e.host||Li(e);return sx(t)?t.host:t}function N3(e){const t=Js(e);return rl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ri(t)&&ou(t)?t:N3(t)}function Nc(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=N3(e),l=o===((i=e.ownerDocument)==null?void 0:i.body),f=vr(o);if(l){const g=l0(f);return t.concat(f,f.visualViewport||[],ou(o)?o:[],g&&n?Nc(g):[])}return t.concat(o,Nc(o,[],n))}function l0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _3(e){const t=oi(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Ri(e),l=o?e.offsetWidth:n,f=o?e.offsetHeight:i,g=Pd(n)!==l||Pd(i)!==f;return g&&(n=l,i=f),{width:n,height:i,$:g}}function Lg(e){return si(e)?e:e.contextElement}function Ra(e){const t=Lg(e);if(!Ri(t))return _i(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:l}=_3(t);let f=(l?Pd(n.width):n.width)/i,g=(l?Pd(n.height):n.height)/o;return(!f||!Number.isFinite(f))&&(f=1),(!g||!Number.isFinite(g))&&(g=1),{x:f,y:g}}const iO=_i(0);function O3(e){const t=vr(e);return!Pg()||!t.visualViewport?iO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==vr(e)?!1:t}function Vo(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=Lg(e);let f=_i(1);t&&(i?si(i)&&(f=Ra(i)):f=Ra(e));const g=sO(l,n,i)?O3(l):_i(0);let x=(o.left+g.x)/f.x,p=(o.top+g.y)/f.y,w=o.width/f.x,v=o.height/f.y;if(l){const b=vr(l),M=i&&si(i)?vr(i):i;let P=b,_=l0(P);for(;_&&i&&M!==P;){const k=Ra(_),O=_.getBoundingClientRect(),T=oi(_),N=O.left+(_.clientLeft+parseFloat(T.paddingLeft))*k.x,B=O.top+(_.clientTop+parseFloat(T.paddingTop))*k.y;x*=k.x,p*=k.y,w*=k.x,v*=k.y,x+=N,p+=B,P=vr(_),_=l0(P)}}return Bd({width:w,height:v,x,y:p})}function Bg(e,t){const n=Of(e).scrollLeft;return t?t.left+n:Vo(Li(e)).left+n}function M3(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=i.left+t.scrollLeft-(n?0:Bg(e,i)),l=i.top+t.scrollTop;return{x:o,y:l}}function oO(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const l=o==="fixed",f=Li(i),g=t?_f(t.floating):!1;if(i===f||g&&l)return n;let x={scrollLeft:0,scrollTop:0},p=_i(1);const w=_i(0),v=Ri(i);if((v||!v&&!l)&&((pl(i)!=="body"||ou(f))&&(x=Of(i)),Ri(i))){const M=Vo(i);p=Ra(i),w.x=M.x+i.clientLeft,w.y=M.y+i.clientTop}const b=f&&!v&&!l?M3(f,x,!0):_i(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-x.scrollLeft*p.x+w.x+b.x,y:n.y*p.y-x.scrollTop*p.y+w.y+b.y}}function aO(e){return Array.from(e.getClientRects())}function lO(e){const t=Li(e),n=Of(e),i=e.ownerDocument.body,o=pr(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=pr(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let f=-n.scrollLeft+Bg(e);const g=-n.scrollTop;return oi(i).direction==="rtl"&&(f+=pr(t.clientWidth,i.clientWidth)-o),{width:o,height:l,x:f,y:g}}function cO(e,t){const n=vr(e),i=Li(e),o=n.visualViewport;let l=i.clientWidth,f=i.clientHeight,g=0,x=0;if(o){l=o.width,f=o.height;const p=Pg();(!p||p&&t==="fixed")&&(g=o.offsetLeft,x=o.offsetTop)}return{width:l,height:f,x:g,y:x}}function uO(e,t){const n=Vo(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,l=Ri(e)?Ra(e):_i(1),f=e.clientWidth*l.x,g=e.clientHeight*l.y,x=o*l.x,p=i*l.y;return{width:f,height:g,x,y:p}}function ox(e,t,n){let i;if(t==="viewport")i=cO(e,n);else if(t==="document")i=lO(Li(e));else if(si(t))i=uO(t,n);else{const o=O3(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Bd(i)}function R3(e,t){const n=Js(e);return n===t||!si(n)||rl(n)?!1:oi(n).position==="fixed"||R3(n,t)}function dO(e,t){const n=t.get(e);if(n)return n;let i=Nc(e,[],!1).filter(g=>si(g)&&pl(g)!=="body"),o=null;const l=oi(e).position==="fixed";let f=l?Js(e):e;for(;si(f)&&!rl(f);){const g=oi(f),x=kg(f);!x&&g.position==="fixed"&&(o=null),(l?!x&&!o:!x&&g.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ou(f)&&!x&&R3(e,f))?i=i.filter(w=>w!==f):o=g,f=Js(f)}return t.set(e,i),i}function fO(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const f=[...n==="clippingAncestors"?_f(t)?[]:dO(t,this._c):[].concat(n),i],g=f[0],x=f.reduce((p,w)=>{const v=ox(t,w,o);return p.top=pr(v.top,p.top),p.right=Ks(v.right,p.right),p.bottom=Ks(v.bottom,p.bottom),p.left=pr(v.left,p.left),p},ox(t,g,o));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function hO(e){const{width:t,height:n}=_3(e);return{width:t,height:n}}function gO(e,t,n){const i=Ri(t),o=Li(t),l=n==="fixed",f=Vo(e,!0,l,t);let g={scrollLeft:0,scrollTop:0};const x=_i(0);if(i||!i&&!l)if((pl(t)!=="body"||ou(o))&&(g=Of(t)),i){const b=Vo(t,!0,l,t);x.x=b.x+t.clientLeft,x.y=b.y+t.clientTop}else o&&(x.x=Bg(o));const p=o&&!i&&!l?M3(o,g):_i(0),w=f.left+g.scrollLeft-x.x-p.x,v=f.top+g.scrollTop-x.y-p.y;return{x:w,y:v,width:f.width,height:f.height}}function Fh(e){return oi(e).position==="static"}function ax(e,t){if(!Ri(e)||oi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Li(e)===n&&(n=n.ownerDocument.body),n}function D3(e,t){const n=vr(e);if(_f(e))return n;if(!Ri(e)){let o=Js(e);for(;o&&!rl(o);){if(si(o)&&!Fh(o))return o;o=Js(o)}return n}let i=ax(e,t);for(;i&&nO(i)&&Fh(i);)i=ax(i,t);return i&&rl(i)&&Fh(i)&&!kg(i)?n:i||rO(e)||n}const pO=async function(e){const t=this.getOffsetParent||D3,n=this.getDimensions,i=await n(e.floating);return{reference:gO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function mO(e){return oi(e).direction==="rtl"}const xO={convertOffsetParentRelativeRectToViewportRelativeRect:oO,getDocumentElement:Li,getClippingRect:fO,getOffsetParent:D3,getElementRects:pO,getClientRects:aO,getDimensions:hO,getScale:Ra,isElement:si,isRTL:mO};function k3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yO(e,t){let n=null,i;const o=Li(e);function l(){var g;clearTimeout(i),(g=n)==null||g.disconnect(),n=null}function f(g,x){g===void 0&&(g=!1),x===void 0&&(x=1),l();const p=e.getBoundingClientRect(),{left:w,top:v,width:b,height:M}=p;if(g||t(),!b||!M)return;const P=Uu(v),_=Uu(o.clientWidth-(w+b)),k=Uu(o.clientHeight-(v+M)),O=Uu(w),N={rootMargin:-P+"px "+-_+"px "+-k+"px "+-O+"px",threshold:pr(0,Ks(1,x))||1};let B=!0;function W(Z){const F=Z[0].intersectionRatio;if(F!==x){if(!B)return f();F?f(!1,F):i=setTimeout(()=>{f(!1,1e-7)},1e3)}F===1&&!k3(p,e.getBoundingClientRect())&&f(),B=!1}try{n=new IntersectionObserver(W,{...N,root:o.ownerDocument})}catch{n=new IntersectionObserver(W,N)}n.observe(e)}return f(!0),l}function wO(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:g=typeof IntersectionObserver=="function",animationFrame:x=!1}=i,p=Lg(e),w=o||l?[...p?Nc(p):[],...Nc(t)]:[];w.forEach(O=>{o&&O.addEventListener("scroll",n,{passive:!0}),l&&O.addEventListener("resize",n)});const v=p&&g?yO(p,n):null;let b=-1,M=null;f&&(M=new ResizeObserver(O=>{let[T]=O;T&&T.target===p&&M&&(M.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var N;(N=M)==null||N.observe(t)})),n()}),p&&!x&&M.observe(p),M.observe(t));let P,_=x?Vo(e):null;x&&k();function k(){const O=Vo(e);_&&!k3(_,O)&&n(),_=O,P=requestAnimationFrame(k)}return n(),()=>{var O;w.forEach(T=>{o&&T.removeEventListener("scroll",n),l&&T.removeEventListener("resize",n)}),v==null||v(),(O=M)==null||O.disconnect(),M=null,x&&cancelAnimationFrame(P)}}const vO=$6,CO=J6,EO=Z6,AO=tO,SO=q6,lx=Q6,bO=eO,TO=(e,t,n)=>{const i=new Map,o={platform:xO,...n},l={...o.platform,_c:i};return X6(e,t,{...o,platform:l})};var rd=typeof document<"u"?L.useLayoutEffect:L.useEffect;function Fd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Fd(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){const l=o[i];if(!(l==="_owner"&&e.$$typeof)&&!Fd(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function P3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cx(e,t){const n=P3(e);return Math.round(t*n)/n}function jh(e){const t=L.useRef(e);return rd(()=>{t.current=e}),t}function IO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:l,floating:f}={},transform:g=!0,whileElementsMounted:x,open:p}=e,[w,v]=L.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,M]=L.useState(i);Fd(b,i)||M(i);const[P,_]=L.useState(null),[k,O]=L.useState(null),T=L.useCallback(ne=>{ne!==Z.current&&(Z.current=ne,_(ne))},[]),N=L.useCallback(ne=>{ne!==F.current&&(F.current=ne,O(ne))},[]),B=l||P,W=f||k,Z=L.useRef(null),F=L.useRef(null),J=L.useRef(w),G=x!=null,ge=jh(x),Ee=jh(o),ee=jh(p),ae=L.useCallback(()=>{if(!Z.current||!F.current)return;const ne={placement:t,strategy:n,middleware:b};Ee.current&&(ne.platform=Ee.current),TO(Z.current,F.current,ne).then(pe=>{const Te={...pe,isPositioned:ee.current!==!1};re.current&&!Fd(J.current,Te)&&(J.current=Te,eu.flushSync(()=>{v(Te)}))})},[b,t,n,Ee,ee]);rd(()=>{p===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,v(ne=>({...ne,isPositioned:!1})))},[p]);const re=L.useRef(!1);rd(()=>(re.current=!0,()=>{re.current=!1}),[]),rd(()=>{if(B&&(Z.current=B),W&&(F.current=W),B&&W){if(ge.current)return ge.current(B,W,ae);ae()}},[B,W,ae,ge,G]);const Y=L.useMemo(()=>({reference:Z,floating:F,setReference:T,setFloating:N}),[T,N]),Ae=L.useMemo(()=>({reference:B,floating:W}),[B,W]),xe=L.useMemo(()=>{const ne={position:n,left:0,top:0};if(!Ae.floating)return ne;const pe=cx(Ae.floating,w.x),Te=cx(Ae.floating,w.y);return g?{...ne,transform:"translate("+pe+"px, "+Te+"px)",...P3(Ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:pe,top:Te}},[n,g,Ae.floating,w.x,w.y]);return L.useMemo(()=>({...w,update:ae,refs:Y,elements:Ae,floatingStyles:xe}),[w,ae,Y,Ae,xe])}const NO=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:o}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?lx({element:i.current,padding:o}).fn(n):{}:i?lx({element:i,padding:o}).fn(n):{}}}},_O=(e,t)=>({...vO(e),options:[e,t]}),OO=(e,t)=>({...CO(e),options:[e,t]}),MO=(e,t)=>({...bO(e),options:[e,t]}),RO=(e,t)=>({...EO(e),options:[e,t]}),DO=(e,t)=>({...AO(e),options:[e,t]}),kO=(e,t)=>({...SO(e),options:[e,t]}),PO=(e,t)=>({...NO(e),options:[e,t]});var LO="Arrow",L3=L.forwardRef((e,t)=>{const{children:n,width:i=10,height:o=5,...l}=e;return E.jsx(Nn.svg,{...l,ref:t,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});L3.displayName=LO;var BO=L3;function FO(e){const[t,n]=L.useState(void 0);return zo(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let f,g;if("borderBoxSize"in l){const x=l.borderBoxSize,p=Array.isArray(x)?x[0]:x;f=p.inlineSize,g=p.blockSize}else f=e.offsetWidth,g=e.offsetHeight;n({width:f,height:g})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var B3="Popper",[F3,j3]=su(B3),[g7,U3]=F3(B3),z3="PopperAnchor",V3=L.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...o}=e,l=U3(z3,n),f=L.useRef(null),g=ii(t,f);return L.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||f.current)}),i?null:E.jsx(Nn.div,{...o,ref:g})});V3.displayName=z3;var Fg="PopperContent",[jO,UO]=F3(Fg),H3=L.forwardRef((e,t)=>{var Zn,kt,Tr,zr,Zt,ci;const{__scopePopper:n,side:i="bottom",sideOffset:o=0,align:l="center",alignOffset:f=0,arrowPadding:g=0,avoidCollisions:x=!0,collisionBoundary:p=[],collisionPadding:w=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:M="optimized",onPlaced:P,..._}=e,k=U3(Fg,n),[O,T]=L.useState(null),N=ii(t,$e=>T($e)),[B,W]=L.useState(null),Z=FO(B),F=(Z==null?void 0:Z.width)??0,J=(Z==null?void 0:Z.height)??0,G=i+(l!=="center"?"-"+l:""),ge=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},Ee=Array.isArray(p)?p:[p],ee=Ee.length>0,ae={padding:ge,boundary:Ee.filter(VO),altBoundary:ee},{refs:re,floatingStyles:Y,placement:Ae,isPositioned:xe,middlewareData:ne}=IO({strategy:"fixed",placement:G,whileElementsMounted:(...$e)=>wO(...$e,{animationFrame:M==="always"}),elements:{reference:k.anchor},middleware:[_O({mainAxis:o+J,alignmentAxis:f}),x&&OO({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?MO():void 0,...ae}),x&&RO({...ae}),DO({...ae,apply:({elements:$e,rects:Ir,availableWidth:qn,availableHeight:ui})=>{const{width:Ht,height:dt}=Ir.reference,Qe=$e.floating.style;Qe.setProperty("--radix-popper-available-width",`${qn}px`),Qe.setProperty("--radix-popper-available-height",`${ui}px`),Qe.setProperty("--radix-popper-anchor-width",`${Ht}px`),Qe.setProperty("--radix-popper-anchor-height",`${dt}px`)}}),B&&PO({element:B,padding:g}),HO({arrowWidth:F,arrowHeight:J}),b&&kO({strategy:"referenceHidden",...ae})]}),[pe,Te]=Y3(Ae),ze=Mi(P);zo(()=>{xe&&(ze==null||ze())},[xe,ze]);const Ve=(Zn=ne.arrow)==null?void 0:Zn.x,Vt=(kt=ne.arrow)==null?void 0:kt.y,ut=((Tr=ne.arrow)==null?void 0:Tr.centerOffset)!==0,[br,Me]=L.useState();return zo(()=>{O&&Me(window.getComputedStyle(O).zIndex)},[O]),E.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:xe?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:br,"--radix-popper-transform-origin":[(zr=ne.transformOrigin)==null?void 0:zr.x,(Zt=ne.transformOrigin)==null?void 0:Zt.y].join(" "),...((ci=ne.hide)==null?void 0:ci.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:E.jsx(jO,{scope:n,placedSide:pe,onArrowChange:W,arrowX:Ve,arrowY:Vt,shouldHideArrow:ut,children:E.jsx(Nn.div,{"data-side":pe,"data-align":Te,..._,ref:N,style:{..._.style,animation:xe?void 0:"none"}})})})});H3.displayName=Fg;var W3="PopperArrow",zO={top:"bottom",right:"left",bottom:"top",left:"right"},G3=L.forwardRef(function(t,n){const{__scopePopper:i,...o}=t,l=UO(W3,i),f=zO[l.placedSide];return E.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:E.jsx(BO,{...o,ref:n,style:{...o.style,display:"block"}})})});G3.displayName=W3;function VO(e){return e!==null}var HO=e=>({name:"transformOrigin",options:e,fn(t){var k,O,T;const{placement:n,rects:i,middlewareData:o}=t,f=((k=o.arrow)==null?void 0:k.centerOffset)!==0,g=f?0:e.arrowWidth,x=f?0:e.arrowHeight,[p,w]=Y3(n),v={start:"0%",center:"50%",end:"100%"}[w],b=(((O=o.arrow)==null?void 0:O.x)??0)+g/2,M=(((T=o.arrow)==null?void 0:T.y)??0)+x/2;let P="",_="";return p==="bottom"?(P=f?v:`${b}px`,_=`${-x}px`):p==="top"?(P=f?v:`${b}px`,_=`${i.floating.height+x}px`):p==="right"?(P=`${-x}px`,_=f?v:`${M}px`):p==="left"&&(P=`${i.floating.width+x}px`,_=f?v:`${M}px`),{data:{x:P,y:_}}}});function Y3(e){const[t,n="center"]=e.split("-");return[t,n]}var WO=V3,GO=H3,YO=G3,[Mf,p7]=su("Tooltip",[j3]),jg=j3(),X3="TooltipProvider",XO=700,ux="tooltip.open",[QO,Q3]=Mf(X3),Z3=e=>{const{__scopeTooltip:t,delayDuration:n=XO,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:l}=e,f=L.useRef(!0),g=L.useRef(!1),x=L.useRef(0);return L.useEffect(()=>{const p=x.current;return()=>window.clearTimeout(p)},[]),E.jsx(QO,{scope:t,isOpenDelayedRef:f,delayDuration:n,onOpen:L.useCallback(()=>{window.clearTimeout(x.current),f.current=!1},[]),onClose:L.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>f.current=!0,i)},[i]),isPointerInTransitRef:g,onPointerInTransitChange:L.useCallback(p=>{g.current=p},[]),disableHoverableContent:o,children:l})};Z3.displayName=X3;var q3="Tooltip",[m7,Rf]=Mf(q3),c0="TooltipTrigger",ZO=L.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,o=Rf(c0,n),l=Q3(c0,n),f=jg(n),g=L.useRef(null),x=ii(t,g,o.onTriggerChange),p=L.useRef(!1),w=L.useRef(!1),v=L.useCallback(()=>p.current=!1,[]);return L.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),E.jsx(WO,{asChild:!0,...f,children:E.jsx(Nn.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:x,onPointerMove:un(e.onPointerMove,b=>{b.pointerType!=="touch"&&!w.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),w.current=!0)}),onPointerLeave:un(e.onPointerLeave,()=>{o.onTriggerLeave(),w.current=!1}),onPointerDown:un(e.onPointerDown,()=>{o.open&&o.onClose(),p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:un(e.onFocus,()=>{p.current||o.onOpen()}),onBlur:un(e.onBlur,o.onClose),onClick:un(e.onClick,o.onClose)})})});ZO.displayName=c0;var qO="TooltipPortal",[x7,KO]=Mf(qO,{forceMount:void 0}),il="TooltipContent",K3=L.forwardRef((e,t)=>{const n=KO(il,e.__scopeTooltip),{forceMount:i=n.forceMount,side:o="top",...l}=e,f=Rf(il,e.__scopeTooltip);return E.jsx(Sg,{present:i||f.open,children:f.disableHoverableContent?E.jsx($3,{side:o,...l,ref:t}):E.jsx($O,{side:o,...l,ref:t})})}),$O=L.forwardRef((e,t)=>{const n=Rf(il,e.__scopeTooltip),i=Q3(il,e.__scopeTooltip),o=L.useRef(null),l=ii(t,o),[f,g]=L.useState(null),{trigger:x,onClose:p}=n,w=o.current,{onPointerInTransitChange:v}=i,b=L.useCallback(()=>{g(null),v(!1)},[v]),M=L.useCallback((P,_)=>{const k=P.currentTarget,O={x:P.clientX,y:P.clientY},T=rM(O,k.getBoundingClientRect()),N=iM(O,T),B=sM(_.getBoundingClientRect()),W=aM([...N,...B]);g(W),v(!0)},[v]);return L.useEffect(()=>()=>b(),[b]),L.useEffect(()=>{if(x&&w){const P=k=>M(k,w),_=k=>M(k,x);return x.addEventListener("pointerleave",P),w.addEventListener("pointerleave",_),()=>{x.removeEventListener("pointerleave",P),w.removeEventListener("pointerleave",_)}}},[x,w,M,b]),L.useEffect(()=>{if(f){const P=_=>{const k=_.target,O={x:_.clientX,y:_.clientY},T=(x==null?void 0:x.contains(k))||(w==null?void 0:w.contains(k)),N=!oM(O,f);T?b():N&&(b(),p())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[x,w,f,p,b]),E.jsx($3,{...e,ref:l})}),[JO,eM]=Mf(q3,{isInside:!1}),tM=l8("TooltipContent"),$3=L.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:f,...g}=e,x=Rf(il,n),p=jg(n),{onClose:w}=x;return L.useEffect(()=>(document.addEventListener(ux,w),()=>document.removeEventListener(ux,w)),[w]),L.useEffect(()=>{if(x.trigger){const v=b=>{const M=b.target;M!=null&&M.contains(x.trigger)&&w()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[x.trigger,w]),E.jsx(Ag,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:v=>v.preventDefault(),onDismiss:w,children:E.jsxs(GO,{"data-state":x.stateAttribute,...p,...g,ref:t,style:{...g.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(tM,{children:i}),E.jsx(JO,{scope:n,isInside:!0,children:E.jsx(O8,{id:x.contentId,role:"tooltip",children:o||i})})]})})});K3.displayName=il;var J3="TooltipArrow",nM=L.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,o=jg(n);return eM(J3,n).isInside?null:E.jsx(YO,{...o,...i,ref:t})});nM.displayName=J3;function rM(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,i,o,l)){case l:return"left";case o:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function iM(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function sM(e){const{top:t,right:n,bottom:i,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:i},{x:o,y:i}]}function oM(e,t){const{x:n,y:i}=e;let o=!1;for(let l=0,f=t.length-1;l<t.length;f=l++){const g=t[l].x,x=t[l].y,p=t[f].x,w=t[f].y;x>i!=w>i&&n<(p-g)*(i-x)/(w-x)+g&&(o=!o)}return o}function aM(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),lM(t)}function lM(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const o=e[i];for(;t.length>=2;){const l=t[t.length-1],f=t[t.length-2];if((l.x-f.x)*(o.y-f.y)>=(l.y-f.y)*(o.x-f.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const o=e[i];for(;n.length>=2;){const l=n[n.length-1],f=n[n.length-2];if((l.x-f.x)*(o.y-f.y)>=(l.y-f.y)*(o.x-f.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var cM=Z3,eS=K3;const uM=cM,dM=L.forwardRef(({className:e,sideOffset:t=4,...n},i)=>E.jsx(eS,{ref:i,sideOffset:t,className:mt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));dM.displayName=eS.displayName;const fM=If("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Pn=L.forwardRef(({className:e,variant:t,size:n,asChild:i=!1,...o},l)=>{const f=i?jA:"button";return E.jsx(f,{className:mt(fM({variant:t,size:n,className:e})),ref:l,...o})});Pn.displayName="Button";const bn=L.forwardRef(({className:e,...t},n)=>E.jsx("div",{ref:n,className:mt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));bn.displayName="Card";const Yl=L.forwardRef(({className:e,...t},n)=>E.jsx("div",{ref:n,className:mt("flex flex-col space-y-1.5 p-6",e),...t}));Yl.displayName="CardHeader";const Xl=L.forwardRef(({className:e,...t},n)=>E.jsx("div",{ref:n,className:mt("text-2xl font-semibold leading-none tracking-tight",e),...t}));Xl.displayName="CardTitle";const Ql=L.forwardRef(({className:e,...t},n)=>E.jsx("div",{ref:n,className:mt("text-sm text-muted-foreground",e),...t}));Ql.displayName="CardDescription";const id=L.forwardRef(({className:e,...t},n)=>E.jsx("div",{ref:n,className:mt("p-6 pt-0",e),...t}));id.displayName="CardContent";const hM=L.forwardRef(({className:e,...t},n)=>E.jsx("div",{ref:n,className:mt("flex items-center p-6 pt-0",e),...t}));hM.displayName="CardFooter";function gM(){const[,e]=Pi();return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-accent/10 flex items-center justify-center p-4",children:E.jsxs(bn,{className:"max-w-md w-full p-8 text-center space-y-6",children:[E.jsx("div",{className:"flex items-center justify-center",children:E.jsx("div",{className:"bg-destructive/10 p-4 rounded-full",children:E.jsx($8,{className:"size-16 text-destructive"})})}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("h1",{className:"text-6xl font-bold tracking-tight",children:"404"}),E.jsx("h2",{className:"text-2xl font-semibold",children:"Page Not Found"}),E.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"The page you're looking for doesn't exist or has been moved."})]}),E.jsx(Pn,{size:"lg",className:"w-full h-12 font-semibold",onClick:()=>e("/"),"data-testid":"button-go-home",children:"Go Home"})]})})}function pM(){const[,e]=Pi();return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-accent/10 flex items-center justify-center p-4",children:E.jsx("div",{className:"max-w-2xl w-full mx-auto",children:E.jsxs(bn,{className:"p-6 md:p-8 text-center space-y-6",children:[E.jsx("div",{className:"flex items-center justify-center mb-4",children:E.jsx("div",{className:"bg-primary/10 p-4 rounded-full",children:E.jsx(_g,{className:"size-12 text-primary"})})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight mb-2",children:"Smart Parking System"}),E.jsx("p",{className:"text-base text-muted-foreground leading-relaxed",children:"Efficient parking management with QR code technology"})]}),E.jsx("div",{className:"text-lg font-semibold text-foreground pt-4",children:"Choose your role to continue"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsx("button",{onClick:()=>e("/login"),className:"group","data-testid":"button-admin",children:E.jsx(bn,{className:"h-48 hover:shadow-lg transition-all cursor-pointer hover-elevate active-elevate-2 border-2 border-transparent hover:border-primary/30",children:E.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4 p-6",children:[E.jsx("div",{className:"bg-primary/10 p-4 rounded-full",children:E.jsx(t6,{className:"size-10 text-primary"})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold",children:"Admin"}),E.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Manage parking operations and view reports"})]})]})})}),E.jsx("button",{onClick:()=>e("/scan"),className:"group","data-testid":"button-customer",children:E.jsx(bn,{className:"h-48 hover:shadow-lg transition-all cursor-pointer hover-elevate active-elevate-2 border-2 border-transparent hover:border-primary/30",children:E.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4 p-6",children:[E.jsx("div",{className:"bg-primary/10 p-4 rounded-full",children:E.jsx(Dd,{className:"size-10 text-primary"})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold",children:"Customer"}),E.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Quick access to parking scanner"})]})]})})})]}),E.jsx("div",{className:"text-center pt-4",children:E.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have a customer account?"," ",E.jsx("button",{onClick:()=>e("/signup"),className:"text-primary hover:underline font-medium","data-testid":"link-signup",children:"Create one now"})]})})]})})})}var au=e=>e.type==="checkbox",Eo=e=>e instanceof Date,Wn=e=>e==null;const tS=e=>typeof e=="object";var nn=e=>!Wn(e)&&!Array.isArray(e)&&tS(e)&&!Eo(e),nS=e=>nn(e)&&e.target?au(e.target)?e.target.checked:e.target.value:e,mM=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,rS=(e,t)=>e.has(mM(t)),xM=e=>{const t=e.constructor&&e.constructor.prototype;return nn(t)&&t.hasOwnProperty("isPrototypeOf")},Ug=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Cn(e){let t;const n=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ug&&(e instanceof Blob||i))&&(n||nn(e)))if(t=n?[]:{},!n&&!xM(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=Cn(e[o]));else return e;return t}var Df=e=>Array.isArray(e)?e.filter(Boolean):[],en=e=>e===void 0,ye=(e,t,n)=>{if(!t||!nn(e))return n;const i=Df(t.split(/[,[\].]+?/)).reduce((o,l)=>Wn(o)?o:o[l],e);return en(i)||i===e?en(e[t])?n:e[t]:i},gr=e=>typeof e=="boolean",zg=e=>/^\w*$/.test(e),iS=e=>Df(e.replace(/["|']|\]/g,"").split(/\.|\[/)),gt=(e,t,n)=>{let i=-1;const o=zg(t)?[t]:iS(t),l=o.length,f=l-1;for(;++i<l;){const g=o[i];let x=n;if(i!==f){const p=e[g];x=nn(p)||Array.isArray(p)?p:isNaN(+o[i+1])?{}:[]}if(g==="__proto__"||g==="constructor"||g==="prototype")return;e[g]=x,e=e[g]}};const jd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Kr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sS=We.createContext(null),kf=()=>We.useContext(sS),yM=e=>{const{children:t,...n}=e;return We.createElement(sS.Provider,{value:n},t)};var oS=(e,t,n,i=!0)=>{const o={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const f=l;return t._proxyFormState[f]!==Kr.all&&(t._proxyFormState[f]=!i||Kr.all),n&&(n[f]=!0),e[f]}});return o};function wM(e){const t=kf(),{control:n=t.control,disabled:i,name:o,exact:l}=e||{},[f,g]=We.useState(n._formState),x=We.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=We.useRef(o);return p.current=o,We.useEffect(()=>n._subscribe({name:p.current,formState:x.current,exact:l,callback:w=>{!i&&g({...n._formState,...w})}}),[n,i,l]),We.useEffect(()=>{x.current.isValid&&n._setValid(!0)},[n]),We.useMemo(()=>oS(f,n,x.current,!1),[f,n])}var bi=e=>typeof e=="string",aS=(e,t,n,i,o)=>bi(e)?(i&&t.watch.add(e),ye(n,e,o)):Array.isArray(e)?e.map(l=>(i&&t.watch.add(l),ye(n,l))):(i&&(t.watchAll=!0),n);function vM(e){const t=kf(),{control:n=t.control,name:i,defaultValue:o,disabled:l,exact:f}=e||{},g=We.useRef(i),x=We.useRef(o);g.current=i,We.useEffect(()=>n._subscribe({name:g.current,formState:{values:!0},exact:f,callback:v=>!l&&w(aS(g.current,n._names,v.values||n._formValues,!1,x.current))}),[n,l,f]);const[p,w]=We.useState(n._getWatch(i,o));return We.useEffect(()=>n._removeUnmounted()),p}function CM(e){const t=kf(),{name:n,disabled:i,control:o=t.control,shouldUnregister:l}=e,f=rS(o._names.array,n),g=vM({control:o,name:n,defaultValue:ye(o._formValues,n,ye(o._defaultValues,n,e.defaultValue)),exact:!0}),x=wM({control:o,name:n,exact:!0}),p=We.useRef(e),w=We.useRef(o.register(n,{...e.rules,value:g,...gr(e.disabled)?{disabled:e.disabled}:{}})),v=We.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ye(x.errors,n)},isDirty:{enumerable:!0,get:()=>!!ye(x.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ye(x.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ye(x.validatingFields,n)},error:{enumerable:!0,get:()=>ye(x.errors,n)}}),[x,n]),b=We.useCallback(k=>w.current.onChange({target:{value:nS(k),name:n},type:jd.CHANGE}),[n]),M=We.useCallback(()=>w.current.onBlur({target:{value:ye(o._formValues,n),name:n},type:jd.BLUR}),[n,o._formValues]),P=We.useCallback(k=>{const O=ye(o._fields,n);O&&k&&(O._f.ref={focus:()=>k.focus(),select:()=>k.select(),setCustomValidity:T=>k.setCustomValidity(T),reportValidity:()=>k.reportValidity()})},[o._fields,n]),_=We.useMemo(()=>({name:n,value:g,...gr(i)||x.disabled?{disabled:x.disabled||i}:{},onChange:b,onBlur:M,ref:P}),[n,i,x.disabled,b,M,P,g]);return We.useEffect(()=>{const k=o._options.shouldUnregister||l;o.register(n,{...p.current.rules,...gr(p.current.disabled)?{disabled:p.current.disabled}:{}});const O=(T,N)=>{const B=ye(o._fields,T);B&&B._f&&(B._f.mount=N)};if(O(n,!0),k){const T=Cn(ye(o._options.defaultValues,n));gt(o._defaultValues,n,T),en(ye(o._formValues,n))&&gt(o._formValues,n,T)}return!f&&o.register(n),()=>{(f?k&&!o._state.action:k)?o.unregister(n):O(n,!1)}},[n,o,f,l]),We.useEffect(()=>{o._setDisabledField({disabled:i,name:n})},[i,n,o]),We.useMemo(()=>({field:_,formState:x,fieldState:v}),[_,x,v])}const EM=e=>e.render(CM(e));var lS=(e,t,n,i,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[i]:o||!0}}:{},ac=e=>Array.isArray(e)?e:[e],dx=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}},u0=e=>Wn(e)||!tS(e);function Ss(e,t){if(u0(e)||u0(t))return e===t;if(Eo(e)&&Eo(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const o of n){const l=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const f=t[o];if(Eo(l)&&Eo(f)||nn(l)&&nn(f)||Array.isArray(l)&&Array.isArray(f)?!Ss(l,f):l!==f)return!1}}return!0}var Vn=e=>nn(e)&&!Object.keys(e).length,Vg=e=>e.type==="file",$r=e=>typeof e=="function",Ud=e=>{if(!Ug)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},cS=e=>e.type==="select-multiple",Hg=e=>e.type==="radio",AM=e=>Hg(e)||au(e),Uh=e=>Ud(e)&&e.isConnected;function SM(e,t){const n=t.slice(0,-1).length;let i=0;for(;i<n;)e=en(e)?i++:e[t[i++]];return e}function bM(e){for(const t in e)if(e.hasOwnProperty(t)&&!en(e[t]))return!1;return!0}function an(e,t){const n=Array.isArray(t)?t:zg(t)?[t]:iS(t),i=n.length===1?e:SM(e,n),o=n.length-1,l=n[o];return i&&delete i[l],o!==0&&(nn(i)&&Vn(i)||Array.isArray(i)&&bM(i))&&an(e,n.slice(0,-1)),e}var uS=e=>{for(const t in e)if($r(e[t]))return!0;return!1};function zd(e,t={}){const n=Array.isArray(e);if(nn(e)||n)for(const i in e)Array.isArray(e[i])||nn(e[i])&&!uS(e[i])?(t[i]=Array.isArray(e[i])?[]:{},zd(e[i],t[i])):Wn(e[i])||(t[i]=!0);return t}function dS(e,t,n){const i=Array.isArray(e);if(nn(e)||i)for(const o in e)Array.isArray(e[o])||nn(e[o])&&!uS(e[o])?en(t)||u0(n[o])?n[o]=Array.isArray(e[o])?zd(e[o],[]):{...zd(e[o])}:dS(e[o],Wn(t)?{}:t[o],n[o]):n[o]=!Ss(e[o],t[o]);return n}var Bl=(e,t)=>dS(e,t,zd(t));const fx={value:!1,isValid:!1},hx={value:!0,isValid:!0};var fS=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!en(e[0].attributes.value)?en(e[0].value)||e[0].value===""?hx:{value:e[0].value,isValid:!0}:hx:fx}return fx},hS=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:i})=>en(e)?e:t?e===""?NaN:e&&+e:n&&bi(e)?new Date(e):i?i(e):e;const gx={isValid:!1,value:null};var gS=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,gx):gx;function px(e){const t=e.ref;return Vg(t)?t.files:Hg(t)?gS(e.refs).value:cS(t)?[...t.selectedOptions].map(({value:n})=>n):au(t)?fS(e.refs).value:hS(en(t.value)?e.ref.value:t.value,e)}var TM=(e,t,n,i)=>{const o={};for(const l of e){const f=ye(t,l);f&&gt(o,l,f._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:i}},Vd=e=>e instanceof RegExp,Fl=e=>en(e)?e:Vd(e)?e.source:nn(e)?Vd(e.value)?e.value.source:e.value:e,mx=e=>({isOnSubmit:!e||e===Kr.onSubmit,isOnBlur:e===Kr.onBlur,isOnChange:e===Kr.onChange,isOnAll:e===Kr.all,isOnTouch:e===Kr.onTouched});const xx="AsyncFunction";var IM=e=>!!e&&!!e.validate&&!!($r(e.validate)&&e.validate.constructor.name===xx||nn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===xx)),NM=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),yx=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const lc=(e,t,n,i)=>{for(const o of n||Object.keys(e)){const l=ye(e,o);if(l){const{_f:f,...g}=l;if(f){if(f.refs&&f.refs[0]&&t(f.refs[0],o)&&!i)return!0;if(f.ref&&t(f.ref,f.name)&&!i)return!0;if(lc(g,t))break}else if(nn(g)&&lc(g,t))break}}};function wx(e,t,n){const i=ye(e,n);if(i||zg(n))return{error:i,name:n};const o=n.split(".");for(;o.length;){const l=o.join("."),f=ye(t,l),g=ye(e,l);if(f&&!Array.isArray(f)&&n!==l)return{name:n};if(g&&g.type)return{name:l,error:g};o.pop()}return{name:n}}var _M=(e,t,n,i)=>{n(e);const{name:o,...l}=e;return Vn(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(f=>t[f]===(!i||Kr.all))},OM=(e,t,n)=>!e||!t||e===t||ac(e).some(i=>i&&(n?i===t:i.startsWith(t)||t.startsWith(i))),MM=(e,t,n,i,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?i.isOnBlur:o.isOnBlur)?!e:(n?i.isOnChange:o.isOnChange)?e:!0,RM=(e,t)=>!Df(ye(e,t)).length&&an(e,t),DM=(e,t,n)=>{const i=ac(ye(e,n));return gt(i,"root",t[n]),gt(e,n,i),e},sd=e=>bi(e);function vx(e,t,n="validate"){if(sd(e)||Array.isArray(e)&&e.every(sd)||gr(e)&&!e)return{type:n,message:sd(e)?e:"",ref:t}}var aa=e=>nn(e)&&!Vd(e)?e:{value:e,message:""},Cx=async(e,t,n,i,o,l)=>{const{ref:f,refs:g,required:x,maxLength:p,minLength:w,min:v,max:b,pattern:M,validate:P,name:_,valueAsNumber:k,mount:O}=e._f,T=ye(n,_);if(!O||t.has(_))return{};const N=g?g[0]:f,B=ee=>{o&&N.reportValidity&&(N.setCustomValidity(gr(ee)?"":ee||""),N.reportValidity())},W={},Z=Hg(f),F=au(f),J=Z||F,G=(k||Vg(f))&&en(f.value)&&en(T)||Ud(f)&&f.value===""||T===""||Array.isArray(T)&&!T.length,ge=lS.bind(null,_,i,W),Ee=(ee,ae,re,Y=Fi.maxLength,Ae=Fi.minLength)=>{const xe=ee?ae:re;W[_]={type:ee?Y:Ae,message:xe,ref:f,...ge(ee?Y:Ae,xe)}};if(l?!Array.isArray(T)||!T.length:x&&(!J&&(G||Wn(T))||gr(T)&&!T||F&&!fS(g).isValid||Z&&!gS(g).isValid)){const{value:ee,message:ae}=sd(x)?{value:!!x,message:x}:aa(x);if(ee&&(W[_]={type:Fi.required,message:ae,ref:N,...ge(Fi.required,ae)},!i))return B(ae),W}if(!G&&(!Wn(v)||!Wn(b))){let ee,ae;const re=aa(b),Y=aa(v);if(!Wn(T)&&!isNaN(T)){const Ae=f.valueAsNumber||T&&+T;Wn(re.value)||(ee=Ae>re.value),Wn(Y.value)||(ae=Ae<Y.value)}else{const Ae=f.valueAsDate||new Date(T),xe=Te=>new Date(new Date().toDateString()+" "+Te),ne=f.type=="time",pe=f.type=="week";bi(re.value)&&T&&(ee=ne?xe(T)>xe(re.value):pe?T>re.value:Ae>new Date(re.value)),bi(Y.value)&&T&&(ae=ne?xe(T)<xe(Y.value):pe?T<Y.value:Ae<new Date(Y.value))}if((ee||ae)&&(Ee(!!ee,re.message,Y.message,Fi.max,Fi.min),!i))return B(W[_].message),W}if((p||w)&&!G&&(bi(T)||l&&Array.isArray(T))){const ee=aa(p),ae=aa(w),re=!Wn(ee.value)&&T.length>+ee.value,Y=!Wn(ae.value)&&T.length<+ae.value;if((re||Y)&&(Ee(re,ee.message,ae.message),!i))return B(W[_].message),W}if(M&&!G&&bi(T)){const{value:ee,message:ae}=aa(M);if(Vd(ee)&&!T.match(ee)&&(W[_]={type:Fi.pattern,message:ae,ref:f,...ge(Fi.pattern,ae)},!i))return B(ae),W}if(P){if($r(P)){const ee=await P(T,n),ae=vx(ee,N);if(ae&&(W[_]={...ae,...ge(Fi.validate,ae.message)},!i))return B(ae.message),W}else if(nn(P)){let ee={};for(const ae in P){if(!Vn(ee)&&!i)break;const re=vx(await P[ae](T,n),N,ae);re&&(ee={...re,...ge(ae,re.message)},B(re.message),i&&(W[_]=ee))}if(!Vn(ee)&&(W[_]={ref:N,...ee},!i))return W}}return B(!0),W};const kM={mode:Kr.onSubmit,reValidateMode:Kr.onChange,shouldFocusError:!0};function PM(e={}){let t={...kM,...e},n={submitCount:0,isDirty:!1,isLoading:$r(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const i={};let o=nn(t.defaultValues)||nn(t.values)?Cn(t.values||t.defaultValues)||{}:{},l=t.shouldUnregister?{}:Cn(o),f={action:!1,mount:!1,watch:!1},g={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},x,p=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...w};const b={array:dx(),state:dx()},M=mx(t.mode),P=mx(t.reValidateMode),_=t.criteriaMode===Kr.all,k=U=>q=>{clearTimeout(p),p=setTimeout(U,q)},O=async U=>{if(!t.disabled&&(w.isValid||v.isValid||U)){const q=t.resolver?Vn((await G()).errors):await Ee(i,!0);q!==n.isValid&&b.state.next({isValid:q})}},T=(U,q)=>{!t.disabled&&(w.isValidating||w.validatingFields||v.isValidating||v.validatingFields)&&((U||Array.from(g.mount)).forEach(te=>{te&&(q?gt(n.validatingFields,te,q):an(n.validatingFields,te))}),b.state.next({validatingFields:n.validatingFields,isValidating:!Vn(n.validatingFields)}))},N=(U,q=[],te,ve,he=!0,fe=!0)=>{if(ve&&te&&!t.disabled){if(f.action=!0,fe&&Array.isArray(ye(i,U))){const Ce=te(ye(i,U),ve.argA,ve.argB);he&&gt(i,U,Ce)}if(fe&&Array.isArray(ye(n.errors,U))){const Ce=te(ye(n.errors,U),ve.argA,ve.argB);he&&gt(n.errors,U,Ce),RM(n.errors,U)}if((w.touchedFields||v.touchedFields)&&fe&&Array.isArray(ye(n.touchedFields,U))){const Ce=te(ye(n.touchedFields,U),ve.argA,ve.argB);he&&gt(n.touchedFields,U,Ce)}(w.dirtyFields||v.dirtyFields)&&(n.dirtyFields=Bl(o,l)),b.state.next({name:U,isDirty:ae(U,q),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else gt(l,U,q)},B=(U,q)=>{gt(n.errors,U,q),b.state.next({errors:n.errors})},W=U=>{n.errors=U,b.state.next({errors:n.errors,isValid:!1})},Z=(U,q,te,ve)=>{const he=ye(i,U);if(he){const fe=ye(l,U,en(te)?ye(o,U):te);en(fe)||ve&&ve.defaultChecked||q?gt(l,U,q?fe:px(he._f)):Ae(U,fe),f.mount&&O()}},F=(U,q,te,ve,he)=>{let fe=!1,Ce=!1;const je={name:U};if(!t.disabled){if(!te||ve){(w.isDirty||v.isDirty)&&(Ce=n.isDirty,n.isDirty=je.isDirty=ae(),fe=Ce!==je.isDirty);const Pt=Ss(ye(o,U),q);Ce=!!ye(n.dirtyFields,U),Pt?an(n.dirtyFields,U):gt(n.dirtyFields,U,!0),je.dirtyFields=n.dirtyFields,fe=fe||(w.dirtyFields||v.dirtyFields)&&Ce!==!Pt}if(te){const Pt=ye(n.touchedFields,U);Pt||(gt(n.touchedFields,U,te),je.touchedFields=n.touchedFields,fe=fe||(w.touchedFields||v.touchedFields)&&Pt!==te)}fe&&he&&b.state.next(je)}return fe?je:{}},J=(U,q,te,ve)=>{const he=ye(n.errors,U),fe=(w.isValid||v.isValid)&&gr(q)&&n.isValid!==q;if(t.delayError&&te?(x=k(()=>B(U,te)),x(t.delayError)):(clearTimeout(p),x=null,te?gt(n.errors,U,te):an(n.errors,U)),(te?!Ss(he,te):he)||!Vn(ve)||fe){const Ce={...ve,...fe&&gr(q)?{isValid:q}:{},errors:n.errors,name:U};n={...n,...Ce},b.state.next(Ce)}},G=async U=>{T(U,!0);const q=await t.resolver(l,t.context,TM(U||g.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return T(U),q},ge=async U=>{const{errors:q}=await G(U);if(U)for(const te of U){const ve=ye(q,te);ve?gt(n.errors,te,ve):an(n.errors,te)}else n.errors=q;return q},Ee=async(U,q,te={valid:!0})=>{for(const ve in U){const he=U[ve];if(he){const{_f:fe,...Ce}=he;if(fe){const je=g.array.has(fe.name),Pt=he._f&&IM(he._f);Pt&&w.validatingFields&&T([ve],!0);const qt=await Cx(he,g.disabled,l,_,t.shouldUseNativeValidation&&!q,je);if(Pt&&w.validatingFields&&T([ve]),qt[fe.name]&&(te.valid=!1,q))break;!q&&(ye(qt,fe.name)?je?DM(n.errors,qt,fe.name):gt(n.errors,fe.name,qt[fe.name]):an(n.errors,fe.name))}!Vn(Ce)&&await Ee(Ce,q,te)}}return te.valid},ee=()=>{for(const U of g.unMount){const q=ye(i,U);q&&(q._f.refs?q._f.refs.every(te=>!Uh(te)):!Uh(q._f.ref))&&Tr(U)}g.unMount=new Set},ae=(U,q)=>!t.disabled&&(U&&q&&gt(l,U,q),!Ss(Ve(),o)),re=(U,q,te)=>aS(U,g,{...f.mount?l:en(q)?o:bi(U)?{[U]:q}:q},te,q),Y=U=>Df(ye(f.mount?l:o,U,t.shouldUnregister?ye(o,U,[]):[])),Ae=(U,q,te={})=>{const ve=ye(i,U);let he=q;if(ve){const fe=ve._f;fe&&(!fe.disabled&&gt(l,U,hS(q,fe)),he=Ud(fe.ref)&&Wn(q)?"":q,cS(fe.ref)?[...fe.ref.options].forEach(Ce=>Ce.selected=he.includes(Ce.value)):fe.refs?au(fe.ref)?fe.refs.length>1?fe.refs.forEach(Ce=>(!Ce.defaultChecked||!Ce.disabled)&&(Ce.checked=Array.isArray(he)?!!he.find(je=>je===Ce.value):he===Ce.value)):fe.refs[0]&&(fe.refs[0].checked=!!he):fe.refs.forEach(Ce=>Ce.checked=Ce.value===he):Vg(fe.ref)?fe.ref.value="":(fe.ref.value=he,fe.ref.type||b.state.next({name:U,values:Cn(l)})))}(te.shouldDirty||te.shouldTouch)&&F(U,he,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&ze(U)},xe=(U,q,te)=>{for(const ve in q){const he=q[ve],fe=`${U}.${ve}`,Ce=ye(i,fe);(g.array.has(U)||nn(he)||Ce&&!Ce._f)&&!Eo(he)?xe(fe,he,te):Ae(fe,he,te)}},ne=(U,q,te={})=>{const ve=ye(i,U),he=g.array.has(U),fe=Cn(q);gt(l,U,fe),he?(b.array.next({name:U,values:Cn(l)}),(w.isDirty||w.dirtyFields||v.isDirty||v.dirtyFields)&&te.shouldDirty&&b.state.next({name:U,dirtyFields:Bl(o,l),isDirty:ae(U,fe)})):ve&&!ve._f&&!Wn(fe)?xe(U,fe,te):Ae(U,fe,te),yx(U,g)&&b.state.next({...n}),b.state.next({name:f.mount?U:void 0,values:Cn(l)})},pe=async U=>{f.mount=!0;const q=U.target;let te=q.name,ve=!0;const he=ye(i,te),fe=Ce=>{ve=Number.isNaN(Ce)||Eo(Ce)&&isNaN(Ce.getTime())||Ss(Ce,ye(l,te,Ce))};if(he){let Ce,je;const Pt=q.type?px(he._f):nS(U),qt=U.type===jd.BLUR||U.type===jd.FOCUS_OUT,Ff=!NM(he._f)&&!t.resolver&&!ye(n.errors,te)&&!he._f.deps||MM(qt,ye(n.touchedFields,te),n.isSubmitted,P,M),Ot=yx(te,g,qt);gt(l,te,Pt),qt?(he._f.onBlur&&he._f.onBlur(U),x&&x(0)):he._f.onChange&&he._f.onChange(U);const me=F(te,Pt,qt),Kt=!Vn(me)||Ot;if(!qt&&b.state.next({name:te,type:U.type,values:Cn(l)}),Ff)return(w.isValid||v.isValid)&&(t.mode==="onBlur"?qt&&O():qt||O()),Kt&&b.state.next({name:te,...Ot?{}:me});if(!qt&&Ot&&b.state.next({...n}),t.resolver){const{errors:ft}=await G([te]);if(fe(Pt),ve){const Mt=wx(n.errors,i,te),is=wx(ft,i,Mt.name||te);Ce=is.error,te=is.name,je=Vn(ft)}}else T([te],!0),Ce=(await Cx(he,g.disabled,l,_,t.shouldUseNativeValidation))[te],T([te]),fe(Pt),ve&&(Ce?je=!1:(w.isValid||v.isValid)&&(je=await Ee(i,!0)));ve&&(he._f.deps&&ze(he._f.deps),J(te,je,Ce,me))}},Te=(U,q)=>{if(ye(n.errors,q)&&U.focus)return U.focus(),1},ze=async(U,q={})=>{let te,ve;const he=ac(U);if(t.resolver){const fe=await ge(en(U)?U:he);te=Vn(fe),ve=U?!he.some(Ce=>ye(fe,Ce)):te}else U?(ve=(await Promise.all(he.map(async fe=>{const Ce=ye(i,fe);return await Ee(Ce&&Ce._f?{[fe]:Ce}:Ce)}))).every(Boolean),!(!ve&&!n.isValid)&&O()):ve=te=await Ee(i);return b.state.next({...!bi(U)||(w.isValid||v.isValid)&&te!==n.isValid?{}:{name:U},...t.resolver||!U?{isValid:te}:{},errors:n.errors}),q.shouldFocus&&!ve&&lc(i,Te,U?he:g.mount),ve},Ve=U=>{const q={...f.mount?l:o};return en(U)?q:bi(U)?ye(q,U):U.map(te=>ye(q,te))},Vt=(U,q)=>({invalid:!!ye((q||n).errors,U),isDirty:!!ye((q||n).dirtyFields,U),error:ye((q||n).errors,U),isValidating:!!ye(n.validatingFields,U),isTouched:!!ye((q||n).touchedFields,U)}),ut=U=>{U&&ac(U).forEach(q=>an(n.errors,q)),b.state.next({errors:U?n.errors:{}})},br=(U,q,te)=>{const ve=(ye(i,U,{_f:{}})._f||{}).ref,he=ye(n.errors,U)||{},{ref:fe,message:Ce,type:je,...Pt}=he;gt(n.errors,U,{...Pt,...q,ref:ve}),b.state.next({name:U,errors:n.errors,isValid:!1}),te&&te.shouldFocus&&ve&&ve.focus&&ve.focus()},Me=(U,q)=>$r(U)?b.state.subscribe({next:te=>U(re(void 0,q),te)}):re(U,q,!0),Zn=U=>b.state.subscribe({next:q=>{OM(U.name,q.name,U.exact)&&_M(q,U.formState||w,Qe,U.reRenderRoot)&&U.callback({values:{...l},...n,...q})}}).unsubscribe,kt=U=>(f.mount=!0,v={...v,...U.formState},Zn({...U,formState:v})),Tr=(U,q={})=>{for(const te of U?ac(U):g.mount)g.mount.delete(te),g.array.delete(te),q.keepValue||(an(i,te),an(l,te)),!q.keepError&&an(n.errors,te),!q.keepDirty&&an(n.dirtyFields,te),!q.keepTouched&&an(n.touchedFields,te),!q.keepIsValidating&&an(n.validatingFields,te),!t.shouldUnregister&&!q.keepDefaultValue&&an(o,te);b.state.next({values:Cn(l)}),b.state.next({...n,...q.keepDirty?{isDirty:ae()}:{}}),!q.keepIsValid&&O()},zr=({disabled:U,name:q})=>{(gr(U)&&f.mount||U||g.disabled.has(q))&&(U?g.disabled.add(q):g.disabled.delete(q))},Zt=(U,q={})=>{let te=ye(i,U);const ve=gr(q.disabled)||gr(t.disabled);return gt(i,U,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:U}},name:U,mount:!0,...q}}),g.mount.add(U),te?zr({disabled:gr(q.disabled)?q.disabled:t.disabled,name:U}):Z(U,!0,q.value),{...ve?{disabled:q.disabled||t.disabled}:{},...t.progressive?{required:!!q.required,min:Fl(q.min),max:Fl(q.max),minLength:Fl(q.minLength),maxLength:Fl(q.maxLength),pattern:Fl(q.pattern)}:{},name:U,onChange:pe,onBlur:pe,ref:he=>{if(he){Zt(U,q),te=ye(i,U);const fe=en(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,Ce=AM(fe),je=te._f.refs||[];if(Ce?je.find(Pt=>Pt===fe):fe===te._f.ref)return;gt(i,U,{_f:{...te._f,...Ce?{refs:[...je.filter(Uh),fe,...Array.isArray(ye(o,U))?[{}]:[]],ref:{type:fe.type,name:U}}:{ref:fe}}}),Z(U,!1,void 0,fe)}else te=ye(i,U,{}),te._f&&(te._f.mount=!1),(t.shouldUnregister||q.shouldUnregister)&&!(rS(g.array,U)&&f.action)&&g.unMount.add(U)}}},ci=()=>t.shouldFocusError&&lc(i,Te,g.mount),$e=U=>{gr(U)&&(b.state.next({disabled:U}),lc(i,(q,te)=>{const ve=ye(i,te);ve&&(q.disabled=ve._f.disabled||U,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(he=>{he.disabled=ve._f.disabled||U}))},0,!1))},Ir=(U,q)=>async te=>{let ve;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let he=Cn(l);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:fe,values:Ce}=await G();n.errors=fe,he=Ce}else await Ee(i);if(g.disabled.size)for(const fe of g.disabled)gt(he,fe,void 0);if(an(n.errors,"root"),Vn(n.errors)){b.state.next({errors:{}});try{await U(he,te)}catch(fe){ve=fe}}else q&&await q({...n.errors},te),ci(),setTimeout(ci);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vn(n.errors)&&!ve,submitCount:n.submitCount+1,errors:n.errors}),ve)throw ve},qn=(U,q={})=>{ye(i,U)&&(en(q.defaultValue)?ne(U,Cn(ye(o,U))):(ne(U,q.defaultValue),gt(o,U,Cn(q.defaultValue))),q.keepTouched||an(n.touchedFields,U),q.keepDirty||(an(n.dirtyFields,U),n.isDirty=q.defaultValue?ae(U,Cn(ye(o,U))):ae()),q.keepError||(an(n.errors,U),w.isValid&&O()),b.state.next({...n}))},ui=(U,q={})=>{const te=U?Cn(U):o,ve=Cn(te),he=Vn(U),fe=he?o:ve;if(q.keepDefaultValues||(o=te),!q.keepValues){if(q.keepDirtyValues){const Ce=new Set([...g.mount,...Object.keys(Bl(o,l))]);for(const je of Array.from(Ce))ye(n.dirtyFields,je)?gt(fe,je,ye(l,je)):ne(je,ye(fe,je))}else{if(Ug&&en(U))for(const Ce of g.mount){const je=ye(i,Ce);if(je&&je._f){const Pt=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(Ud(Pt)){const qt=Pt.closest("form");if(qt){qt.reset();break}}}}for(const Ce of g.mount)ne(Ce,ye(fe,Ce))}l=Cn(fe),b.array.next({values:{...fe}}),b.state.next({values:{...fe}})}g={mount:q.keepDirtyValues?g.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!w.isValid||!!q.keepIsValid||!!q.keepDirtyValues,f.watch=!!t.shouldUnregister,b.state.next({submitCount:q.keepSubmitCount?n.submitCount:0,isDirty:he?!1:q.keepDirty?n.isDirty:!!(q.keepDefaultValues&&!Ss(U,o)),isSubmitted:q.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:he?{}:q.keepDirtyValues?q.keepDefaultValues&&l?Bl(o,l):n.dirtyFields:q.keepDefaultValues&&U?Bl(o,U):q.keepDirty?n.dirtyFields:{},touchedFields:q.keepTouched?n.touchedFields:{},errors:q.keepErrors?n.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ht=(U,q)=>ui($r(U)?U(l):U,q),dt=(U,q={})=>{const te=ye(i,U),ve=te&&te._f;if(ve){const he=ve.refs?ve.refs[0]:ve.ref;he.focus&&(he.focus(),q.shouldSelect&&$r(he.select)&&he.select())}},Qe=U=>{n={...n,...U}},Oe={control:{register:Zt,unregister:Tr,getFieldState:Vt,handleSubmit:Ir,setError:br,_subscribe:Zn,_runSchema:G,_getWatch:re,_getDirty:ae,_setValid:O,_setFieldArray:N,_setDisabledField:zr,_setErrors:W,_getFieldArray:Y,_reset:ui,_resetDefaultValues:()=>$r(t.defaultValues)&&t.defaultValues().then(U=>{Ht(U,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:ee,_disableForm:$e,_subjects:b,_proxyFormState:w,get _fields(){return i},get _formValues(){return l},get _state(){return f},set _state(U){f=U},get _defaultValues(){return o},get _names(){return g},set _names(U){g=U},get _formState(){return n},get _options(){return t},set _options(U){t={...t,...U}}},subscribe:kt,trigger:ze,register:Zt,handleSubmit:Ir,watch:Me,setValue:ne,getValues:Ve,reset:Ht,resetField:qn,clearErrors:ut,unregister:Tr,setError:br,setFocus:dt,getFieldState:Vt};return{...Oe,formControl:Oe}}function Wg(e={}){const t=We.useRef(void 0),n=We.useRef(void 0),[i,o]=We.useState({isDirty:!1,isValidating:!1,isLoading:$r(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:$r(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:PM(e),formState:i},e.formControl&&e.defaultValues&&!$r(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const l=t.current.control;return l._options=e,We.useLayoutEffect(()=>l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0}),[l]),We.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),We.useEffect(()=>{if(l._proxyFormState.isDirty){const f=l._getDirty();f!==i.isDirty&&l._subjects.state.next({isDirty:f})}},[l,i.isDirty]),We.useEffect(()=>{e.values&&!Ss(e.values,n.current)?(l._reset(e.values,l._options.resetOptions),n.current=e.values,o(f=>({...f}))):l._resetDefaultValues()},[e.values,l]),We.useEffect(()=>{e.errors&&!Vn(e.errors)&&l._setErrors(e.errors)},[e.errors,l]),We.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),We.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[e.shouldUnregister,l]),t.current.formState=oS(i,l),t.current}const Ex=(e,t,n)=>{if(e&&"reportValidity"in e){const i=ye(n,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},pS=(e,t)=>{for(const n in t.fields){const i=t.fields[n];i&&i.ref&&"reportValidity"in i.ref?Ex(i.ref,n,e):i.refs&&i.refs.forEach(o=>Ex(o,n,e))}},LM=(e,t)=>{t.shouldUseNativeValidation&&pS(e,t);const n={};for(const i in e){const o=ye(t.fields,i),l=Object.assign(e[i]||{},{ref:o&&o.ref});if(BM(t.names||Object.keys(e),i)){const f=Object.assign({},ye(n,i));gt(f,"root",l),gt(n,i,f)}else gt(n,i,l)}return n},BM=(e,t)=>e.some(n=>n.startsWith(t+"."));var FM=function(e,t){for(var n={};e.length;){var i=e[0],o=i.code,l=i.message,f=i.path.join(".");if(!n[f])if("unionErrors"in i){var g=i.unionErrors[0].errors[0];n[f]={message:g.message,type:g.code}}else n[f]={message:l,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(w){return w.errors.forEach(function(v){return e.push(v)})}),t){var x=n[f].types,p=x&&x[i.code];n[f]=lS(f,t,n,o,p?[].concat(p,i.message):i.message)}e.shift()}return n},Gg=function(e,t,n){return n===void 0&&(n={}),function(i,o,l){try{return Promise.resolve(function(f,g){try{var x=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](i,t)).then(function(p){return l.shouldUseNativeValidation&&pS({},l),{errors:{},values:n.raw?i:p}})}catch(p){return g(p)}return x&&x.then?x.then(void 0,g):x}(0,function(f){if(function(g){return Array.isArray(g==null?void 0:g.errors)}(f))return{values:{},errors:LM(FM(f.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw f}))}catch(f){return Promise.reject(f)}}};const Ws=L.forwardRef(({className:e,type:t,...n},i)=>E.jsx("input",{type:t,className:mt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...n}));Ws.displayName="Input";var jM="Label",mS=L.forwardRef((e,t)=>E.jsx(Nn.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));mS.displayName=jM;var xS=mS;const UM=If("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yS=L.forwardRef(({className:e,...t},n)=>E.jsx(xS,{ref:n,className:mt(UM(),e),...t}));yS.displayName=xS.displayName;const Yg=yM,wS=L.createContext({}),Ro=({...e})=>E.jsx(wS.Provider,{value:{name:e.name},children:E.jsx(EM,{...e})}),Pf=()=>{const e=L.useContext(wS),t=L.useContext(vS),{getFieldState:n,formState:i}=kf(),o=n(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:l}=t;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...o}},vS=L.createContext({}),Gs=L.forwardRef(({className:e,...t},n)=>{const i=L.useId();return E.jsx(vS.Provider,{value:{id:i},children:E.jsx("div",{ref:n,className:mt("space-y-2",e),...t})})});Gs.displayName="FormItem";const Ys=L.forwardRef(({className:e,...t},n)=>{const{error:i,formItemId:o}=Pf();return E.jsx(yS,{ref:n,className:mt(i&&"text-destructive",e),htmlFor:o,...t})});Ys.displayName="FormLabel";const Xs=L.forwardRef(({...e},t)=>{const{error:n,formItemId:i,formDescriptionId:o,formMessageId:l}=Pf();return E.jsx(jA,{ref:t,id:i,"aria-describedby":n?`${o} ${l}`:`${o}`,"aria-invalid":!!n,...e})});Xs.displayName="FormControl";const zM=L.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:i}=Pf();return E.jsx("p",{ref:n,id:i,className:mt("text-sm text-muted-foreground",e),...t})});zM.displayName="FormDescription";const Qs=L.forwardRef(({className:e,children:t,...n},i)=>{const{error:o,formMessageId:l}=Pf(),f=o?String((o==null?void 0:o.message)??""):t;return f?E.jsx("p",{ref:i,id:l,className:mt("text-sm font-medium text-destructive",e),...n,children:f}):null});Qs.displayName="FormMessage";const se=Symbol.for("drizzle:entityKind");function An(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,se))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(se in n&&n[se]===t[se])return!0;n=Object.getPrototypeOf(n)}return!1}var py;py=se;class sl{constructor(t,n){H(this,"name");H(this,"keyAsName");H(this,"primary");H(this,"notNull");H(this,"default");H(this,"defaultFn");H(this,"onUpdateFn");H(this,"hasDefault");H(this,"isUnique");H(this,"uniqueName");H(this,"uniqueType");H(this,"dataType");H(this,"columnType");H(this,"enumValues");H(this,"generated");H(this,"generatedIdentity");H(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}H(sl,py,"Column");var my;my=se;class CS{constructor(t,n,i){H(this,"config");H(this,"$default",this.$defaultFn);H(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:i,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}H(CS,my,"ColumnBuilder");const Da=Symbol.for("drizzle:Name");var xy;xy=se;class ES{constructor(t,n){H(this,"reference");H(this,"_onUpdate","no action");H(this,"_onDelete","no action");this.reference=()=>{const{name:i,columns:o,foreignColumns:l}=t();return{name:i,columns:o,foreignTable:l[0].table,foreignColumns:l}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new AS(t,this)}}H(ES,xy,"PgForeignKeyBuilder");var yy;yy=se;class AS{constructor(t,n){H(this,"reference");H(this,"onUpdate");H(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:i}=this.reference(),o=n.map(g=>g.name),l=i.map(g=>g.name),f=[this.table[Da],...o,i[0].table[Da],...l];return t??`${f.join("_")}_fk`}}H(AS,yy,"PgForeignKey");function VM(e,...t){return e(...t)}function HM(e,t){return`${e[Da]}_${t.join("_")}_unique`}function Ax(e,t,n){for(let i=t;i<e.length;i++){const o=e[i];if(o==="\\"){i++;continue}if(o==='"')return[e.slice(t,i).replace(/\\/g,""),i+1];if(!n&&(o===","||o==="}"))return[e.slice(t,i).replace(/\\/g,""),i]}return[e.slice(t).replace(/\\/g,""),e.length]}function SS(e,t=0){const n=[];let i=t,o=!1;for(;i<e.length;){const l=e[i];if(l===","){(o||i===t)&&n.push(""),o=!0,i++;continue}if(o=!1,l==="\\"){i+=2;continue}if(l==='"'){const[x,p]=Ax(e,i+1,!0);n.push(x),i=p;continue}if(l==="}")return[n,i+1];if(l==="{"){const[x,p]=SS(e,i+1);n.push(x),i=p;continue}const[f,g]=Ax(e,i,!1);n.push(f),i=g}return[n,i]}function WM(e){const[t]=SS(e,1);return t}function bS(e){return`{${e.map(t=>Array.isArray(t)?bS(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var wy,vy;class st extends(vy=CS,wy=se,vy){constructor(){super(...arguments);H(this,"foreignKeyConfigs",[])}array(n){return new IS(this.config.name,this,n)}references(n,i={}){return this.foreignKeyConfigs.push({ref:n,actions:i}),this}unique(n,i){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=i==null?void 0:i.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,i){return this.foreignKeyConfigs.map(({ref:o,actions:l})=>VM((f,g)=>{const x=new ES(()=>{const p=f();return{columns:[n],foreignColumns:[p]}});return g.onUpdate&&x.onUpdate(g.onUpdate),g.onDelete&&x.onDelete(g.onDelete),x.build(i)},o,l))}buildExtraConfigColumn(n){return new TS(n,this.config)}}H(st,wy,"PgColumnBuilder");var Cy,Ey;class Ye extends(Ey=sl,Cy=se,Ey){constructor(t,n){n.uniqueName||(n.uniqueName=HM(t,[n.name])),super(t,n),this.table=t}}H(Ye,Cy,"PgColumn");var Ay,Sy;class TS extends(Sy=Ye,Ay=se,Sy){constructor(){super(...arguments);H(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});H(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}H(TS,Ay,"ExtraConfigColumn");var by,Ty;class IS extends(Ty=st,by=se,Ty){constructor(t,n,i){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=i}build(t){const n=this.config.baseBuilder.build(t);return new d0(t,this.config,n)}}H(IS,by,"PgArrayBuilder");var Iy,Ny;const sf=class sf extends(Ny=Ye,Iy=se,Ny){constructor(n,i,o,l){super(n,i);H(this,"size");this.baseColumn=o,this.range=l,this.size=i.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=WM(n)),n.map(i=>this.baseColumn.mapFromDriverValue(i))}mapToDriverValue(n,i=!1){const o=n.map(l=>l===null?null:An(this.baseColumn,sf)?this.baseColumn.mapToDriverValue(l,!0):this.baseColumn.mapToDriverValue(l));return i?o:bS(o)}};H(sf,Iy,"PgArray");let d0=sf;const Sx=Symbol.for("drizzle:isPgEnum");function GM(e){return!!e&&typeof e=="function"&&Sx in e&&e[Sx]===!0}var _y;_y=se;class Xg{constructor(t,n,i,o=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:i,isWith:o}}}H(Xg,_y,"Subquery");const YM={startActiveSpan(e,t){return t()}},ka=Symbol.for("drizzle:ViewBaseConfig"),zh=Symbol.for("drizzle:Schema"),bx=Symbol.for("drizzle:Columns"),Tx=Symbol.for("drizzle:ExtraConfigColumns"),Vh=Symbol.for("drizzle:OriginalName"),Hh=Symbol.for("drizzle:BaseName"),Hd=Symbol.for("drizzle:IsAlias"),Ix=Symbol.for("drizzle:ExtraConfigBuilder"),NS=Symbol.for("drizzle:IsDrizzleTable");var Oy,My,Ry,Dy,ky,Py,Ly,By,Fy,jy,zu;let mr=(jy=se,Fy=Da,By=Vh,Ly=zh,Py=bx,ky=Tx,Dy=Hh,Ry=Hd,My=NS,Oy=Ix,zu=class{constructor(t,n,i){H(this,Fy);H(this,By);H(this,Ly);H(this,Py);H(this,ky);H(this,Dy);H(this,Ry,!1);H(this,My,!0);H(this,Oy);this[Da]=this[Vh]=t,this[zh]=n,this[Hh]=i}},H(zu,jy,"Table"),H(zu,"Symbol",{Name:Da,Schema:zh,OriginalName:Vh,Columns:bx,ExtraConfigColumns:Tx,BaseName:Hh,IsAlias:Hd,ExtraConfigBuilder:Ix}),zu);function _S(e){return typeof e=="object"&&e!==null&&NS in e}function XM(e){return e!=null&&typeof e.getSQL=="function"}function QM(e){var n;const t={sql:"",params:[]};for(const i of e)t.sql+=i.sql,t.params.push(...i.params),(n=i.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...i.typings));return t}var Uy;Uy=se;class kr{constructor(t){H(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new fn([this])}}H(kr,Uy,"StringChunk");var zy;zy=se;const yo=class yo{constructor(t){H(this,"decoder",OS);H(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return YM.startActiveSpan("drizzle.buildSQL",n=>{const i=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":i.sql,"drizzle.query.params":JSON.stringify(i.params)}),i})}buildQueryFromSourceParams(t,n){const i=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:o,escapeName:l,escapeParam:f,prepareTyping:g,inlineParams:x,paramStartIndex:p}=i;return QM(t.map(w=>{var v;if(An(w,kr))return{sql:w.value.join(""),params:[]};if(An(w,Wd))return{sql:l(w.value),params:[]};if(w===void 0)return{sql:"",params:[]};if(Array.isArray(w)){const b=[new kr("(")];for(const[M,P]of w.entries())b.push(P),M<w.length-1&&b.push(new kr(", "));return b.push(new kr(")")),this.buildQueryFromSourceParams(b,i)}if(An(w,yo))return this.buildQueryFromSourceParams(w.queryChunks,{...i,inlineParams:x||w.shouldInlineParams});if(An(w,mr)){const b=w[mr.Symbol.Schema],M=w[mr.Symbol.Name];return{sql:b===void 0||w[Hd]?l(M):l(b)+"."+l(M),params:[]}}if(An(w,sl)){const b=o.getColumnCasing(w);if(n.invokeSource==="indexes")return{sql:l(b),params:[]};const M=w.table[mr.Symbol.Schema];return{sql:w.table[Hd]||M===void 0?l(w.table[mr.Symbol.Name])+"."+l(b):l(M)+"."+l(w.table[mr.Symbol.Name])+"."+l(b),params:[]}}if(An(w,DS)){const b=w[ka].schema,M=w[ka].name;return{sql:b===void 0||w[ka].isAlias?l(M):l(b)+"."+l(M),params:[]}}if(An(w,Qg)){if(An(w.value,Gd))return{sql:f(p.value++,w),params:[w],typings:["none"]};const b=w.value===null?null:w.encoder.mapToDriverValue(w.value);if(An(b,yo))return this.buildQueryFromSourceParams([b],i);if(x)return{sql:this.mapInlineParam(b,i),params:[]};let M=["none"];return g&&(M=[g(w.encoder)]),{sql:f(p.value++,b),params:[b],typings:M}}return An(w,Gd)?{sql:f(p.value++,w),params:[w],typings:["none"]}:An(w,yo.Aliased)&&w.fieldAlias!==void 0?{sql:l(w.fieldAlias),params:[]}:An(w,Xg)?w._.isWith?{sql:l(w._.alias),params:[]}:this.buildQueryFromSourceParams([new kr("("),w._.sql,new kr(") "),new Wd(w._.alias)],i):GM(w)?w.schema?{sql:l(w.schema)+"."+l(w.enumName),params:[]}:{sql:l(w.enumName),params:[]}:XM(w)?(v=w.shouldOmitSQLParens)!=null&&v.call(w)?this.buildQueryFromSourceParams([w.getSQL()],i):this.buildQueryFromSourceParams([new kr("("),w.getSQL(),new kr(")")],i):x?{sql:this.mapInlineParam(w,i),params:[]}:{sql:f(p.value++,w),params:[w],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const i=t.toString();return n(i==="[object Object]"?JSON.stringify(t):i)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new yo.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};H(yo,zy,"SQL");let fn=yo;var Vy;Vy=se;class Wd{constructor(t){H(this,"brand");this.value=t}getSQL(){return new fn([this])}}H(Wd,Vy,"Name");const OS={mapFromDriverValue:e=>e},MS={mapToDriverValue:e=>e};({...OS,...MS});var Hy;Hy=se;class Qg{constructor(t,n=MS){H(this,"brand");this.value=t,this.encoder=n}getSQL(){return new fn([this])}}H(Qg,Hy,"Param");function Ho(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new kr(e[0]));for(const[i,o]of t.entries())n.push(o,new kr(e[i+1]));return new fn(n)}(e=>{function t(){return new fn([])}e.empty=t;function n(x){return new fn(x)}e.fromList=n;function i(x){return new fn([new kr(x)])}e.raw=i;function o(x,p){const w=[];for(const[v,b]of x.entries())v>0&&p!==void 0&&w.push(p),w.push(b);return new fn(w)}e.join=o;function l(x){return new Wd(x)}e.identifier=l;function f(x){return new Gd(x)}e.placeholder=f;function g(x,p){return new Qg(x,p)}e.param=g})(Ho||(Ho={}));(e=>{var n;n=se;const i=class i{constructor(l,f){H(this,"isSelectionField",!1);this.sql=l,this.fieldAlias=f}getSQL(){return this.sql}clone(){return new i(this.sql,this.fieldAlias)}};H(i,n,"SQL.Aliased");let t=i;e.Aliased=t})(fn||(fn={}));var Wy;Wy=se;class Gd{constructor(t){this.name=t}getSQL(){return new fn([this])}}H(Gd,Wy,"Placeholder");const RS=Symbol.for("drizzle:IsDrizzleView");var Gy,Yy,Xy;Xy=se,Yy=ka,Gy=RS;class DS{constructor({name:t,schema:n,selectedFields:i,query:o}){H(this,Yy);H(this,Gy,!0);this[ka]={name:t,originalName:t,schema:n,selectedFields:i,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new fn([this])}}H(DS,Xy,"View");function ZM(e){return typeof e=="object"&&e!==null&&RS in e}sl.prototype.getSQL=function(){return new fn([this])};mr.prototype.getSQL=function(){return new fn([this])};Xg.prototype.getSQL=function(){return new fn([this])};function qM(e){return e[mr.Symbol.Columns]}function KM(e){return e[ka].selectedFields}function xn(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var Qy,Zy;class lu extends(Zy=st,Qy=se,Zy){generatedAlwaysAsIdentity(t){if(t){const{name:n,...i}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:i}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...i}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:i}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}H(lu,Qy,"PgIntColumnBaseBuilder");var qy,Ky;class kS extends(Ky=lu,qy=se,Ky){constructor(t){super(t,"number","PgBigInt53")}build(t){return new PS(t,this.config)}}H(kS,qy,"PgBigInt53Builder");var $y,Jy;class PS extends(Jy=Ye,$y=se,Jy){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}H(PS,$y,"PgBigInt53");var e2,t2;class LS extends(t2=lu,e2=se,t2){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new BS(t,this.config)}}H(LS,e2,"PgBigInt64Builder");var n2,r2;class BS extends(r2=Ye,n2=se,r2){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}H(BS,n2,"PgBigInt64");function $M(e,t){const{name:n,config:i}=xn(e,t);return i.mode==="number"?new kS(n):new LS(n)}var i2,s2;class FS extends(s2=st,i2=se,s2){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new jS(t,this.config)}}H(FS,i2,"PgBigSerial53Builder");var o2,a2;class jS extends(a2=Ye,o2=se,a2){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}H(jS,o2,"PgBigSerial53");var l2,c2;class US extends(c2=st,l2=se,c2){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new zS(t,this.config)}}H(US,l2,"PgBigSerial64Builder");var u2,d2;class zS extends(d2=Ye,u2=se,d2){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}H(zS,u2,"PgBigSerial64");function JM(e,t){const{name:n,config:i}=xn(e,t);return i.mode==="number"?new FS(n):new US(n)}var f2,h2;class VS extends(h2=st,f2=se,h2){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new HS(t,this.config)}}H(VS,f2,"PgBooleanBuilder");var g2,p2;class HS extends(p2=Ye,g2=se,p2){getSQLType(){return"boolean"}}H(HS,g2,"PgBoolean");function WS(e){return new VS(e??"")}var m2,x2;class GS extends(x2=st,m2=se,x2){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new YS(t,this.config)}}H(GS,m2,"PgCharBuilder");var y2,w2;class YS extends(w2=Ye,y2=se,w2){constructor(){super(...arguments);H(this,"length",this.config.length);H(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}H(YS,y2,"PgChar");function eR(e,t={}){const{name:n,config:i}=xn(e,t);return new GS(n,i)}var v2,C2;class XS extends(C2=st,v2=se,C2){constructor(t){super(t,"string","PgCidr")}build(t){return new QS(t,this.config)}}H(XS,v2,"PgCidrBuilder");var E2,A2;class QS extends(A2=Ye,E2=se,A2){getSQLType(){return"cidr"}}H(QS,E2,"PgCidr");function tR(e){return new XS(e??"")}var S2,b2;class ZS extends(b2=st,S2=se,b2){constructor(t,n,i){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=i}build(t){return new qS(t,this.config)}}H(ZS,S2,"PgCustomColumnBuilder");var T2,I2;class qS extends(I2=Ye,T2=se,I2){constructor(n,i){super(n,i);H(this,"sqlName");H(this,"mapTo");H(this,"mapFrom");this.sqlName=i.customTypeParams.dataType(i.fieldConfig),this.mapTo=i.customTypeParams.toDriver,this.mapFrom=i.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}H(qS,T2,"PgCustomColumn");function nR(e){return(t,n)=>{const{name:i,config:o}=xn(t,n);return new ZS(i,o,e)}}var N2,_2;class ml extends(_2=st,N2=se,_2){defaultNow(){return this.default(Ho`now()`)}}H(ml,N2,"PgDateColumnBaseBuilder");var O2,M2;class KS extends(M2=ml,O2=se,M2){constructor(t){super(t,"date","PgDate")}build(t){return new $S(t,this.config)}}H(KS,O2,"PgDateBuilder");var R2,D2;class $S extends(D2=Ye,R2=se,D2){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}H($S,R2,"PgDate");var k2,P2;class JS extends(P2=ml,k2=se,P2){constructor(t){super(t,"string","PgDateString")}build(t){return new eb(t,this.config)}}H(JS,k2,"PgDateStringBuilder");var L2,B2;class eb extends(B2=Ye,L2=se,B2){getSQLType(){return"date"}}H(eb,L2,"PgDateString");function rR(e,t){const{name:n,config:i}=xn(e,t);return(i==null?void 0:i.mode)==="date"?new KS(n):new JS(n)}var F2,j2;class tb extends(j2=st,F2=se,j2){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new nb(t,this.config)}}H(tb,F2,"PgDoublePrecisionBuilder");var U2,z2;class nb extends(z2=Ye,U2=se,z2){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}H(nb,U2,"PgDoublePrecision");function iR(e){return new tb(e??"")}var V2,H2;class rb extends(H2=st,V2=se,H2){constructor(t){super(t,"string","PgInet")}build(t){return new ib(t,this.config)}}H(rb,V2,"PgInetBuilder");var W2,G2;class ib extends(G2=Ye,W2=se,G2){getSQLType(){return"inet"}}H(ib,W2,"PgInet");function sR(e){return new rb(e??"")}var Y2,X2;class sb extends(X2=lu,Y2=se,X2){constructor(t){super(t,"number","PgInteger")}build(t){return new ob(t,this.config)}}H(sb,Y2,"PgIntegerBuilder");var Q2,Z2;class ob extends(Z2=Ye,Q2=se,Z2){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}H(ob,Q2,"PgInteger");function f0(e){return new sb(e??"")}var q2,K2;class ab extends(K2=st,q2=se,K2){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new lb(t,this.config)}}H(ab,q2,"PgIntervalBuilder");var $2,J2;class lb extends(J2=Ye,$2=se,J2){constructor(){super(...arguments);H(this,"fields",this.config.intervalConfig.fields);H(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",i=this.precision?`(${this.precision})`:"";return`interval${n}${i}`}}H(lb,$2,"PgInterval");function oR(e,t={}){const{name:n,config:i}=xn(e,t);return new ab(n,i)}var ew,tw;class cb extends(tw=st,ew=se,tw){constructor(t){super(t,"json","PgJson")}build(t){return new ub(t,this.config)}}H(cb,ew,"PgJsonBuilder");var nw,rw;class ub extends(rw=Ye,nw=se,rw){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}H(ub,nw,"PgJson");function aR(e){return new cb(e??"")}var iw,sw;class db extends(sw=st,iw=se,sw){constructor(t){super(t,"json","PgJsonb")}build(t){return new fb(t,this.config)}}H(db,iw,"PgJsonbBuilder");var ow,aw;class fb extends(aw=Ye,ow=se,aw){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}H(fb,ow,"PgJsonb");function lR(e){return new db(e??"")}var lw,cw;class hb extends(cw=st,lw=se,cw){constructor(t){super(t,"array","PgLine")}build(t){return new gb(t,this.config)}}H(hb,lw,"PgLineBuilder");var uw,dw;class gb extends(dw=Ye,uw=se,dw){getSQLType(){return"line"}mapFromDriverValue(t){const[n,i,o]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(i),Number.parseFloat(o)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}H(gb,uw,"PgLine");var fw,hw;class pb extends(hw=st,fw=se,hw){constructor(t){super(t,"json","PgLineABC")}build(t){return new mb(t,this.config)}}H(pb,fw,"PgLineABCBuilder");var gw,pw;class mb extends(pw=Ye,gw=se,pw){getSQLType(){return"line"}mapFromDriverValue(t){const[n,i,o]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(i),c:Number.parseFloat(o)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}H(mb,gw,"PgLineABC");function cR(e,t){const{name:n,config:i}=xn(e,t);return!(i!=null&&i.mode)||i.mode==="tuple"?new hb(n):new pb(n)}var mw,xw;class xb extends(xw=st,mw=se,xw){constructor(t){super(t,"string","PgMacaddr")}build(t){return new yb(t,this.config)}}H(xb,mw,"PgMacaddrBuilder");var yw,ww;class yb extends(ww=Ye,yw=se,ww){getSQLType(){return"macaddr"}}H(yb,yw,"PgMacaddr");function uR(e){return new xb(e??"")}var vw,Cw;class wb extends(Cw=st,vw=se,Cw){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new vb(t,this.config)}}H(wb,vw,"PgMacaddr8Builder");var Ew,Aw;class vb extends(Aw=Ye,Ew=se,Aw){getSQLType(){return"macaddr8"}}H(vb,Ew,"PgMacaddr8");function dR(e){return new wb(e??"")}var Sw,bw;class Cb extends(bw=st,Sw=se,bw){constructor(t,n,i){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=i}build(t){return new Eb(t,this.config)}}H(Cb,Sw,"PgNumericBuilder");var Tw,Iw;class Eb extends(Iw=Ye,Tw=se,Iw){constructor(n,i){super(n,i);H(this,"precision");H(this,"scale");this.precision=i.precision,this.scale=i.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}H(Eb,Tw,"PgNumeric");function fR(e,t){const{name:n,config:i}=xn(e,t);return new Cb(n,i==null?void 0:i.precision,i==null?void 0:i.scale)}var Nw,_w;class Ab extends(_w=st,Nw=se,_w){constructor(t){super(t,"array","PgPointTuple")}build(t){return new Sb(t,this.config)}}H(Ab,Nw,"PgPointTupleBuilder");var Ow,Mw;class Sb extends(Mw=Ye,Ow=se,Mw){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,i]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(i)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}H(Sb,Ow,"PgPointTuple");var Rw,Dw;class bb extends(Dw=st,Rw=se,Dw){constructor(t){super(t,"json","PgPointObject")}build(t){return new Tb(t,this.config)}}H(bb,Rw,"PgPointObjectBuilder");var kw,Pw;class Tb extends(Pw=Ye,kw=se,Pw){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,i]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(i)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}H(Tb,kw,"PgPointObject");function hR(e,t){const{name:n,config:i}=xn(e,t);return!(i!=null&&i.mode)||i.mode==="tuple"?new Ab(n):new bb(n)}function gR(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function Nx(e,t){const n=new ArrayBuffer(8),i=new DataView(n);for(let o=0;o<8;o++)i.setUint8(o,e[t+o]);return i.getFloat64(0,!0)}function Ib(e){const t=gR(e);let n=0;const i=t[n];n+=1;const o=new DataView(t.buffer),l=o.getUint32(n,i===1);if(n+=4,l&536870912&&(o.getUint32(n,i===1),n+=4),(l&65535)===1){const f=Nx(t,n);n+=8;const g=Nx(t,n);return n+=8,[f,g]}throw new Error("Unsupported geometry type")}var Lw,Bw;class Nb extends(Bw=st,Lw=se,Bw){constructor(t){super(t,"array","PgGeometry")}build(t){return new _b(t,this.config)}}H(Nb,Lw,"PgGeometryBuilder");var Fw,jw;class _b extends(jw=Ye,Fw=se,jw){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return Ib(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}H(_b,Fw,"PgGeometry");var Uw,zw;class Ob extends(zw=st,Uw=se,zw){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new Mb(t,this.config)}}H(Ob,Uw,"PgGeometryObjectBuilder");var Vw,Hw;class Mb extends(Hw=Ye,Vw=se,Hw){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=Ib(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}H(Mb,Vw,"PgGeometryObject");function pR(e,t){const{name:n,config:i}=xn(e,t);return!(i!=null&&i.mode)||i.mode==="tuple"?new Nb(n):new Ob(n)}var Ww,Gw;class Rb extends(Gw=st,Ww=se,Gw){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new Db(t,this.config)}}H(Rb,Ww,"PgRealBuilder");var Yw,Xw;class Db extends(Xw=Ye,Yw=se,Xw){constructor(n,i){super(n,i);H(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}H(Db,Yw,"PgReal");function mR(e){return new Rb(e??"")}var Qw,Zw;class kb extends(Zw=st,Qw=se,Zw){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new Pb(t,this.config)}}H(kb,Qw,"PgSerialBuilder");var qw,Kw;class Pb extends(Kw=Ye,qw=se,Kw){getSQLType(){return"serial"}}H(Pb,qw,"PgSerial");function xR(e){return new kb(e??"")}var $w,Jw;class Lb extends(Jw=lu,$w=se,Jw){constructor(t){super(t,"number","PgSmallInt")}build(t){return new Bb(t,this.config)}}H(Lb,$w,"PgSmallIntBuilder");var ev,tv;class Bb extends(tv=Ye,ev=se,tv){constructor(){super(...arguments);H(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}H(Bb,ev,"PgSmallInt");function yR(e){return new Lb(e??"")}var nv,rv;class Fb extends(rv=st,nv=se,rv){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new jb(t,this.config)}}H(Fb,nv,"PgSmallSerialBuilder");var iv,sv;class jb extends(sv=Ye,iv=se,sv){getSQLType(){return"smallserial"}}H(jb,iv,"PgSmallSerial");function wR(e){return new Fb(e??"")}var ov,av;class Ub extends(av=st,ov=se,av){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new zb(t,this.config)}}H(Ub,ov,"PgTextBuilder");var lv,cv;class zb extends(cv=Ye,lv=se,cv){constructor(){super(...arguments);H(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}H(zb,lv,"PgText");function Ti(e,t={}){const{name:n,config:i}=xn(e,t);return new Ub(n,i)}var uv,dv;class Vb extends(dv=ml,uv=se,dv){constructor(t,n,i){super(t,"string","PgTime"),this.withTimezone=n,this.precision=i,this.config.withTimezone=n,this.config.precision=i}build(t){return new Hb(t,this.config)}}H(Vb,uv,"PgTimeBuilder");var fv,hv;class Hb extends(hv=Ye,fv=se,hv){constructor(n,i){super(n,i);H(this,"withTimezone");H(this,"precision");this.withTimezone=i.withTimezone,this.precision=i.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}H(Hb,fv,"PgTime");function vR(e,t={}){const{name:n,config:i}=xn(e,t);return new Vb(n,i.withTimezone??!1,i.precision)}var gv,pv;class Wb extends(pv=ml,gv=se,pv){constructor(t,n,i){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=i}build(t){return new Gb(t,this.config)}}H(Wb,gv,"PgTimestampBuilder");var mv,xv;class Gb extends(xv=Ye,mv=se,xv){constructor(n,i){super(n,i);H(this,"withTimezone");H(this,"precision");H(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));H(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=i.withTimezone,this.precision=i.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}H(Gb,mv,"PgTimestamp");var yv,wv;class Yb extends(wv=ml,yv=se,wv){constructor(t,n,i){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=i}build(t){return new Xb(t,this.config)}}H(Yb,yv,"PgTimestampStringBuilder");var vv,Cv;class Xb extends(Cv=Ye,vv=se,Cv){constructor(n,i){super(n,i);H(this,"withTimezone");H(this,"precision");this.withTimezone=i.withTimezone,this.precision=i.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}H(Xb,vv,"PgTimestampString");function _c(e,t={}){const{name:n,config:i}=xn(e,t);return(i==null?void 0:i.mode)==="string"?new Yb(n,i.withTimezone??!1,i.precision):new Wb(n,(i==null?void 0:i.withTimezone)??!1,i==null?void 0:i.precision)}var Ev,Av;class Qb extends(Av=st,Ev=se,Av){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Ho`gen_random_uuid()`)}build(t){return new Zb(t,this.config)}}H(Qb,Ev,"PgUUIDBuilder");var Sv,bv;class Zb extends(bv=Ye,Sv=se,bv){getSQLType(){return"uuid"}}H(Zb,Sv,"PgUUID");function CR(e){return new Qb(e??"")}var Tv,Iv;class qb extends(Iv=st,Tv=se,Iv){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new Kb(t,this.config)}}H(qb,Tv,"PgVarcharBuilder");var Nv,_v;class Kb extends(_v=Ye,Nv=se,_v){constructor(){super(...arguments);H(this,"length",this.config.length);H(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}H(Kb,Nv,"PgVarchar");function Oc(e,t={}){const{name:n,config:i}=xn(e,t);return new qb(n,i)}var Ov,Mv;class $b extends(Mv=st,Ov=se,Mv){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new Jb(t,this.config)}}H($b,Ov,"PgBinaryVectorBuilder");var Rv,Dv;class Jb extends(Dv=Ye,Rv=se,Dv){constructor(){super(...arguments);H(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}H(Jb,Rv,"PgBinaryVector");function ER(e,t){const{name:n,config:i}=xn(e,t);return new $b(n,i)}var kv,Pv;class eT extends(Pv=st,kv=se,Pv){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new tT(t,this.config)}}H(eT,kv,"PgHalfVectorBuilder");var Lv,Bv;class tT extends(Bv=Ye,Lv=se,Bv){constructor(){super(...arguments);H(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(i=>Number.parseFloat(i))}}H(tT,Lv,"PgHalfVector");function AR(e,t){const{name:n,config:i}=xn(e,t);return new eT(n,i)}var Fv,jv;class nT extends(jv=st,Fv=se,jv){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new rT(t,this.config)}}H(nT,Fv,"PgSparseVectorBuilder");var Uv,zv;class rT extends(zv=Ye,Uv=se,zv){constructor(){super(...arguments);H(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}H(rT,Uv,"PgSparseVector");function SR(e,t){const{name:n,config:i}=xn(e,t);return new nT(n,i)}var Vv,Hv;class iT extends(Hv=st,Vv=se,Hv){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new sT(t,this.config)}}H(iT,Vv,"PgVectorBuilder");var Wv,Gv;class sT extends(Gv=Ye,Wv=se,Gv){constructor(){super(...arguments);H(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(i=>Number.parseFloat(i))}}H(sT,Wv,"PgVector");function bR(e,t){const{name:n,config:i}=xn(e,t);return new iT(n,i)}function TR(){return{bigint:$M,bigserial:JM,boolean:WS,char:eR,cidr:tR,customType:nR,date:rR,doublePrecision:iR,inet:sR,integer:f0,interval:oR,json:aR,jsonb:lR,line:cR,macaddr:uR,macaddr8:dR,numeric:fR,point:hR,geometry:pR,real:mR,serial:xR,smallint:yR,smallserial:wR,text:Ti,time:vR,timestamp:_c,uuid:CR,varchar:Oc,bit:ER,halfvec:AR,sparsevec:SR,vector:bR}}const h0=Symbol.for("drizzle:PgInlineForeignKeys"),_x=Symbol.for("drizzle:EnableRLS");var Yv,Xv,Qv,Zv,qv;class Yd extends(qv=mr,Zv=se,Qv=h0,Xv=_x,Yv=mr.Symbol.ExtraConfigBuilder,qv){constructor(){super(...arguments);H(this,Qv,[]);H(this,Xv,!1);H(this,Yv)}}H(Yd,Zv,"PgTable"),H(Yd,"Symbol",Object.assign({},mr.Symbol,{InlineForeignKeys:h0,EnableRLS:_x}));function IR(e,t,n,i,o=e){const l=new Yd(e,i,o),f=typeof t=="function"?t(TR()):t,g=Object.fromEntries(Object.entries(f).map(([w,v])=>{const b=v;b.setName(w);const M=b.build(l);return l[h0].push(...b.buildForeignKeys(M,l)),[w,M]})),x=Object.fromEntries(Object.entries(f).map(([w,v])=>{const b=v;b.setName(w);const M=b.buildExtraConfigColumn(l);return[w,M]})),p=Object.assign(l,g);return p[mr.Symbol.Columns]=g,p[mr.Symbol.ExtraConfigColumns]=x,Object.assign(p,{enableRLS:()=>(p[Yd.Symbol.EnableRLS]=!0,p)})}const Zg=(e,t,n)=>IR(e,t,n,void 0);var it;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const l={};for(const f of o)l[f]=f;return l},e.getValidEnumValues=o=>{const l=e.objectKeys(o).filter(g=>typeof o[o[g]]!="number"),f={};for(const g of l)f[g]=o[g];return e.objectValues(f)},e.objectValues=o=>e.objectKeys(o).map(function(l){return o[l]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const l=[];for(const f in o)Object.prototype.hasOwnProperty.call(o,f)&&l.push(f);return l},e.find=(o,l)=>{for(const f of o)if(l(f))return f},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function i(o,l=" | "){return o.map(f=>typeof f=="string"?`'${f}'`:f).join(l)}e.joinValues=i,e.jsonStringifyReplacer=(o,l)=>typeof l=="bigint"?l.toString():l})(it||(it={}));var g0;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(g0||(g0={}));const be=it.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hi=e=>{switch(typeof e){case"undefined":return be.undefined;case"string":return be.string;case"number":return isNaN(e)?be.nan:be.number;case"boolean":return be.boolean;case"function":return be.function;case"bigint":return be.bigint;case"symbol":return be.symbol;case"object":return Array.isArray(e)?be.array:e===null?be.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?be.promise:typeof Map<"u"&&e instanceof Map?be.map:typeof Set<"u"&&e instanceof Set?be.set:typeof Date<"u"&&e instanceof Date?be.date:be.object;default:return be.unknown}},le=it.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),NR=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Cr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(l){return l.message},i={_errors:[]},o=l=>{for(const f of l.issues)if(f.code==="invalid_union")f.unionErrors.map(o);else if(f.code==="invalid_return_type")o(f.returnTypeError);else if(f.code==="invalid_arguments")o(f.argumentsError);else if(f.path.length===0)i._errors.push(n(f));else{let g=i,x=0;for(;x<f.path.length;){const p=f.path[x];x===f.path.length-1?(g[p]=g[p]||{_errors:[]},g[p]._errors.push(n(f))):g[p]=g[p]||{_errors:[]},g=g[p],x++}}};return o(this),i}static assert(t){if(!(t instanceof Cr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,it.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):i.push(t(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Cr.create=e=>new Cr(e);const ol=(e,t)=>{let n;switch(e.code){case le.invalid_type:e.received===be.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,it.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${it.joinValues(e.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${it.joinValues(e.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${it.joinValues(e.options)}, received '${e.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:it.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case le.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case le.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=t.defaultError,it.assertNever(e)}return{message:n}};let oT=ol;function _R(e){oT=e}function Xd(){return oT}const Qd=e=>{const{data:t,path:n,errorMaps:i,issueData:o}=e,l=[...n,...o.path||[]],f={...o,path:l};if(o.message!==void 0)return{...o,path:l,message:o.message};let g="";const x=i.filter(p=>!!p).slice().reverse();for(const p of x)g=p(f,{data:t,defaultError:g}).message;return{...o,path:l,message:g}},OR=[];function we(e,t){const n=Xd(),i=Qd({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ol?void 0:ol].filter(o=>!!o)});e.common.issues.push(i)}class Bn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const o of n){if(o.status==="aborted")return Ue;o.status==="dirty"&&t.dirty(),i.push(o.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const o of n){const l=await o.key,f=await o.value;i.push({key:l,value:f})}return Bn.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const o of n){const{key:l,value:f}=o;if(l.status==="aborted"||f.status==="aborted")return Ue;l.status==="dirty"&&t.dirty(),f.status==="dirty"&&t.dirty(),l.value!=="__proto__"&&(typeof f.value<"u"||o.alwaysSet)&&(i[l.value]=f.value)}return{status:t.value,value:i}}}const Ue=Object.freeze({status:"aborted"}),Ea=e=>({status:"dirty",value:e}),Yn=e=>({status:"valid",value:e}),p0=e=>e.status==="aborted",m0=e=>e.status==="dirty",Wo=e=>e.status==="valid",Mc=e=>typeof Promise<"u"&&e instanceof Promise;function Zd(e,t,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function aT(e,t,n,i,o){if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Re;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Re||(Re={}));var Zl,ql;class Di{constructor(t,n,i,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ox=(e,t)=>{if(Wo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Cr(e.common.issues);return this._error=n,this._error}}};function Ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:o}=e;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(f,g)=>{var x,p;const{message:w}=e;return f.code==="invalid_enum_value"?{message:w??g.defaultError}:typeof g.data>"u"?{message:(x=w??i)!==null&&x!==void 0?x:g.defaultError}:f.code!=="invalid_type"?{message:g.defaultError}:{message:(p=w??n)!==null&&p!==void 0?p:g.defaultError}},description:o}}class Ke{get description(){return this._def.description}_getType(t){return Hi(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Hi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Bn,ctx:{common:t.parent.common,data:t.data,parsedType:Hi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Mc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){var i;const o={common:{issues:[],async:(i=n==null?void 0:n.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hi(t)},l=this._parseSync({data:t,path:o.path,parent:o});return Ox(o,l)}"~validate"(t){var n,i;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hi(t)};if(!this["~standard"].async)try{const l=this._parseSync({data:t,path:[],parent:o});return Wo(l)?{value:l.value}:{issues:o.common.issues}}catch(l){!((i=(n=l==null?void 0:l.message)===null||n===void 0?void 0:n.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:o}).then(l=>Wo(l)?{value:l.value}:{issues:o.common.issues})}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Hi(t)},o=this._parse({data:t,path:i.path,parent:i}),l=await(Mc(o)?o:Promise.resolve(o));return Ox(i,l)}refine(t,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,l)=>{const f=t(o),g=()=>l.addIssue({code:le.custom,...i(o)});return typeof Promise<"u"&&f instanceof Promise?f.then(x=>x?!0:(g(),!1)):f?!0:(g(),!1)})}refinement(t,n){return this._refinement((i,o)=>t(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(t){return new ai({schema:this,typeName:Fe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Oi.create(this,this._def)}nullable(){return ro.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ni.create(this)}promise(){return ll.create(this,this._def)}or(t){return Pc.create([this,t],this._def)}and(t){return Lc.create(this,t,this._def)}transform(t){return new ai({...Ge(this._def),schema:this,typeName:Fe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new zc({...Ge(this._def),innerType:this,defaultValue:n,typeName:Fe.ZodDefault})}brand(){return new qg({typeName:Fe.ZodBranded,type:this,...Ge(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Vc({...Ge(this._def),innerType:this,catchValue:n,typeName:Fe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return cu.create(this,t)}readonly(){return Hc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const MR=/^c[^\s-]{8,}$/i,RR=/^[0-9a-z]+$/,DR=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kR=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,PR=/^[a-z0-9_-]{21}$/i,LR=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,BR=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,FR=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jR="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Wh;const UR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,VR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,HR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,WR=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,GR=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,lT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",YR=new RegExp(`^${lT}$`);function cT(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function XR(e){return new RegExp(`^${cT(e)}$`)}function uT(e){let t=`${lT}T${cT(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function QR(e,t){return!!((t==="v4"||!t)&&UR.test(e)||(t==="v6"||!t)&&VR.test(e))}function ZR(e,t){if(!LR.test(e))return!1;try{const[n]=e.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||!o.typ||!o.alg||t&&o.alg!==t)}catch{return!1}}function qR(e,t){return!!((t==="v4"||!t)&&zR.test(e)||(t==="v6"||!t)&&HR.test(e))}class Jr extends Ke{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==be.string){const l=this._getOrReturnCtx(t);return we(l,{code:le.invalid_type,expected:be.string,received:l.parsedType}),Ue}const i=new Bn;let o;for(const l of this._def.checks)if(l.kind==="min")t.data.length<l.value&&(o=this._getOrReturnCtx(t,o),we(o,{code:le.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="max")t.data.length>l.value&&(o=this._getOrReturnCtx(t,o),we(o,{code:le.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="length"){const f=t.data.length>l.value,g=t.data.length<l.value;(f||g)&&(o=this._getOrReturnCtx(t,o),f?we(o,{code:le.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):g&&we(o,{code:le.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if(l.kind==="email")FR.test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"email",code:le.invalid_string,message:l.message}),i.dirty());else if(l.kind==="emoji")Wh||(Wh=new RegExp(jR,"u")),Wh.test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"emoji",code:le.invalid_string,message:l.message}),i.dirty());else if(l.kind==="uuid")kR.test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"uuid",code:le.invalid_string,message:l.message}),i.dirty());else if(l.kind==="nanoid")PR.test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"nanoid",code:le.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid")MR.test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"cuid",code:le.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid2")RR.test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"cuid2",code:le.invalid_string,message:l.message}),i.dirty());else if(l.kind==="ulid")DR.test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"ulid",code:le.invalid_string,message:l.message}),i.dirty());else if(l.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),we(o,{validation:"url",code:le.invalid_string,message:l.message}),i.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"regex",code:le.invalid_string,message:l.message}),i.dirty())):l.kind==="trim"?t.data=t.data.trim():l.kind==="includes"?t.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(t,o),we(o,{code:le.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):l.kind==="toLowerCase"?t.data=t.data.toLowerCase():l.kind==="toUpperCase"?t.data=t.data.toUpperCase():l.kind==="startsWith"?t.data.startsWith(l.value)||(o=this._getOrReturnCtx(t,o),we(o,{code:le.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):l.kind==="endsWith"?t.data.endsWith(l.value)||(o=this._getOrReturnCtx(t,o),we(o,{code:le.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):l.kind==="datetime"?uT(l).test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{code:le.invalid_string,validation:"datetime",message:l.message}),i.dirty()):l.kind==="date"?YR.test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{code:le.invalid_string,validation:"date",message:l.message}),i.dirty()):l.kind==="time"?XR(l).test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{code:le.invalid_string,validation:"time",message:l.message}),i.dirty()):l.kind==="duration"?BR.test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"duration",code:le.invalid_string,message:l.message}),i.dirty()):l.kind==="ip"?QR(t.data,l.version)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"ip",code:le.invalid_string,message:l.message}),i.dirty()):l.kind==="jwt"?ZR(t.data,l.alg)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"jwt",code:le.invalid_string,message:l.message}),i.dirty()):l.kind==="cidr"?qR(t.data,l.version)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"cidr",code:le.invalid_string,message:l.message}),i.dirty()):l.kind==="base64"?WR.test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"base64",code:le.invalid_string,message:l.message}),i.dirty()):l.kind==="base64url"?GR.test(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{validation:"base64url",code:le.invalid_string,message:l.message}),i.dirty()):it.assertNever(l);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(o=>t.test(o),{validation:n,code:le.invalid_string,...Re.errToObj(i)})}_addCheck(t){return new Jr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Re.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Re.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Re.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Re.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Re.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Re.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Re.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Re.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Re.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Re.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Re.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Re.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Re.errToObj(t)})}datetime(t){var n,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(i=t==null?void 0:t.local)!==null&&i!==void 0?i:!1,...Re.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Re.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Re.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Re.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Re.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Re.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Re.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Re.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Re.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Re.errToObj(n)})}nonempty(t){return this.min(1,Re.errToObj(t))}trim(){return new Jr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Jr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Jr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Jr.create=e=>{var t;return new Jr({checks:[],typeName:Fe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};function KR(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,o=n>i?n:i,l=parseInt(e.toFixed(o).replace(".","")),f=parseInt(t.toFixed(o).replace(".",""));return l%f/Math.pow(10,o)}class eo extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==be.number){const l=this._getOrReturnCtx(t);return we(l,{code:le.invalid_type,expected:be.number,received:l.parsedType}),Ue}let i;const o=new Bn;for(const l of this._def.checks)l.kind==="int"?it.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),we(i,{code:le.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(i=this._getOrReturnCtx(t,i),we(i,{code:le.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(i=this._getOrReturnCtx(t,i),we(i,{code:le.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?KR(t.data,l.value)!==0&&(i=this._getOrReturnCtx(t,i),we(i,{code:le.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),we(i,{code:le.not_finite,message:l.message}),o.dirty()):it.assertNever(l);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Re.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Re.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Re.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Re.toString(n))}setLimit(t,n,i,o){return new eo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Re.toString(o)}]})}_addCheck(t){return new eo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Re.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Re.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&it.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}eo.create=e=>new eo({checks:[],typeName:Fe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class to extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==be.bigint)return this._getInvalidInput(t);let i;const o=new Bn;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(i=this._getOrReturnCtx(t,i),we(i,{code:le.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(i=this._getOrReturnCtx(t,i),we(i,{code:le.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?t.data%l.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),we(i,{code:le.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):it.assertNever(l);return{status:o.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return we(n,{code:le.invalid_type,expected:be.bigint,received:n.parsedType}),Ue}gte(t,n){return this.setLimit("min",t,!0,Re.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Re.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Re.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Re.toString(n))}setLimit(t,n,i,o){return new to({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Re.toString(o)}]})}_addCheck(t){return new to({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}to.create=e=>{var t;return new to({checks:[],typeName:Fe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};class Rc extends Ke{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==be.boolean){const i=this._getOrReturnCtx(t);return we(i,{code:le.invalid_type,expected:be.boolean,received:i.parsedType}),Ue}return Yn(t.data)}}Rc.create=e=>new Rc({typeName:Fe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class Go extends Ke{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==be.date){const l=this._getOrReturnCtx(t);return we(l,{code:le.invalid_type,expected:be.date,received:l.parsedType}),Ue}if(isNaN(t.data.getTime())){const l=this._getOrReturnCtx(t);return we(l,{code:le.invalid_date}),Ue}const i=new Bn;let o;for(const l of this._def.checks)l.kind==="min"?t.data.getTime()<l.value&&(o=this._getOrReturnCtx(t,o),we(o,{code:le.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),i.dirty()):l.kind==="max"?t.data.getTime()>l.value&&(o=this._getOrReturnCtx(t,o),we(o,{code:le.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),i.dirty()):it.assertNever(l);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Go({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Re.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Re.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Go.create=e=>new Go({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Fe.ZodDate,...Ge(e)});class qd extends Ke{_parse(t){if(this._getType(t)!==be.symbol){const i=this._getOrReturnCtx(t);return we(i,{code:le.invalid_type,expected:be.symbol,received:i.parsedType}),Ue}return Yn(t.data)}}qd.create=e=>new qd({typeName:Fe.ZodSymbol,...Ge(e)});class Dc extends Ke{_parse(t){if(this._getType(t)!==be.undefined){const i=this._getOrReturnCtx(t);return we(i,{code:le.invalid_type,expected:be.undefined,received:i.parsedType}),Ue}return Yn(t.data)}}Dc.create=e=>new Dc({typeName:Fe.ZodUndefined,...Ge(e)});class kc extends Ke{_parse(t){if(this._getType(t)!==be.null){const i=this._getOrReturnCtx(t);return we(i,{code:le.invalid_type,expected:be.null,received:i.parsedType}),Ue}return Yn(t.data)}}kc.create=e=>new kc({typeName:Fe.ZodNull,...Ge(e)});class al extends Ke{constructor(){super(...arguments),this._any=!0}_parse(t){return Yn(t.data)}}al.create=e=>new al({typeName:Fe.ZodAny,...Ge(e)});class Do extends Ke{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Yn(t.data)}}Do.create=e=>new Do({typeName:Fe.ZodUnknown,...Ge(e)});class ns extends Ke{_parse(t){const n=this._getOrReturnCtx(t);return we(n,{code:le.invalid_type,expected:be.never,received:n.parsedType}),Ue}}ns.create=e=>new ns({typeName:Fe.ZodNever,...Ge(e)});class Kd extends Ke{_parse(t){if(this._getType(t)!==be.undefined){const i=this._getOrReturnCtx(t);return we(i,{code:le.invalid_type,expected:be.void,received:i.parsedType}),Ue}return Yn(t.data)}}Kd.create=e=>new Kd({typeName:Fe.ZodVoid,...Ge(e)});class ni extends Ke{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),o=this._def;if(n.parsedType!==be.array)return we(n,{code:le.invalid_type,expected:be.array,received:n.parsedType}),Ue;if(o.exactLength!==null){const f=n.data.length>o.exactLength.value,g=n.data.length<o.exactLength.value;(f||g)&&(we(n,{code:f?le.too_big:le.too_small,minimum:g?o.exactLength.value:void 0,maximum:f?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(we(n,{code:le.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(we(n,{code:le.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((f,g)=>o.type._parseAsync(new Di(n,f,n.path,g)))).then(f=>Bn.mergeArray(i,f));const l=[...n.data].map((f,g)=>o.type._parseSync(new Di(n,f,n.path,g)));return Bn.mergeArray(i,l)}get element(){return this._def.type}min(t,n){return new ni({...this._def,minLength:{value:t,message:Re.toString(n)}})}max(t,n){return new ni({...this._def,maxLength:{value:t,message:Re.toString(n)}})}length(t,n){return new ni({...this._def,exactLength:{value:t,message:Re.toString(n)}})}nonempty(t){return this.min(1,t)}}ni.create=(e,t)=>new ni({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Fe.ZodArray,...Ge(t)});function ca(e){if(e instanceof Ft){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=Oi.create(ca(i))}return new Ft({...e._def,shape:()=>t})}else return e instanceof ni?new ni({...e._def,type:ca(e.element)}):e instanceof Oi?Oi.create(ca(e.unwrap())):e instanceof ro?ro.create(ca(e.unwrap())):e instanceof ki?ki.create(e.items.map(t=>ca(t))):e}class Ft extends Ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=it.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==be.object){const p=this._getOrReturnCtx(t);return we(p,{code:le.invalid_type,expected:be.object,received:p.parsedType}),Ue}const{status:i,ctx:o}=this._processInputParams(t),{shape:l,keys:f}=this._getCached(),g=[];if(!(this._def.catchall instanceof ns&&this._def.unknownKeys==="strip"))for(const p in o.data)f.includes(p)||g.push(p);const x=[];for(const p of f){const w=l[p],v=o.data[p];x.push({key:{status:"valid",value:p},value:w._parse(new Di(o,v,o.path,p)),alwaysSet:p in o.data})}if(this._def.catchall instanceof ns){const p=this._def.unknownKeys;if(p==="passthrough")for(const w of g)x.push({key:{status:"valid",value:w},value:{status:"valid",value:o.data[w]}});else if(p==="strict")g.length>0&&(we(o,{code:le.unrecognized_keys,keys:g}),i.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const w of g){const v=o.data[w];x.push({key:{status:"valid",value:w},value:p._parse(new Di(o,v,o.path,w)),alwaysSet:w in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const p=[];for(const w of x){const v=await w.key,b=await w.value;p.push({key:v,value:b,alwaysSet:w.alwaysSet})}return p}).then(p=>Bn.mergeObjectSync(i,p)):Bn.mergeObjectSync(i,x)}get shape(){return this._def.shape()}strict(t){return Re.errToObj,new Ft({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{var o,l,f,g;const x=(f=(l=(o=this._def).errorMap)===null||l===void 0?void 0:l.call(o,n,i).message)!==null&&f!==void 0?f:i.defaultError;return n.code==="unrecognized_keys"?{message:(g=Re.errToObj(t).message)!==null&&g!==void 0?g:x}:{message:x}}}:{}})}strip(){return new Ft({...this._def,unknownKeys:"strip"})}passthrough(){return new Ft({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ft({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ft({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Fe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ft({...this._def,catchall:t})}pick(t){const n={};return it.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(n[i]=this.shape[i])}),new Ft({...this._def,shape:()=>n})}omit(t){const n={};return it.objectKeys(this.shape).forEach(i=>{t[i]||(n[i]=this.shape[i])}),new Ft({...this._def,shape:()=>n})}deepPartial(){return ca(this)}partial(t){const n={};return it.objectKeys(this.shape).forEach(i=>{const o=this.shape[i];t&&!t[i]?n[i]=o:n[i]=o.optional()}),new Ft({...this._def,shape:()=>n})}required(t){const n={};return it.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])n[i]=this.shape[i];else{let l=this.shape[i];for(;l instanceof Oi;)l=l._def.innerType;n[i]=l}}),new Ft({...this._def,shape:()=>n})}keyof(){return dT(it.objectKeys(this.shape))}}Ft.create=(e,t)=>new Ft({shape:()=>e,unknownKeys:"strip",catchall:ns.create(),typeName:Fe.ZodObject,...Ge(t)});Ft.strictCreate=(e,t)=>new Ft({shape:()=>e,unknownKeys:"strict",catchall:ns.create(),typeName:Fe.ZodObject,...Ge(t)});Ft.lazycreate=(e,t)=>new Ft({shape:e,unknownKeys:"strip",catchall:ns.create(),typeName:Fe.ZodObject,...Ge(t)});class Pc extends Ke{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function o(l){for(const g of l)if(g.result.status==="valid")return g.result;for(const g of l)if(g.result.status==="dirty")return n.common.issues.push(...g.ctx.common.issues),g.result;const f=l.map(g=>new Cr(g.ctx.common.issues));return we(n,{code:le.invalid_union,unionErrors:f}),Ue}if(n.common.async)return Promise.all(i.map(async l=>{const f={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:f}),ctx:f}})).then(o);{let l;const f=[];for(const x of i){const p={...n,common:{...n.common,issues:[]},parent:null},w=x._parseSync({data:n.data,path:n.path,parent:p});if(w.status==="valid")return w;w.status==="dirty"&&!l&&(l={result:w,ctx:p}),p.common.issues.length&&f.push(p.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const g=f.map(x=>new Cr(x));return we(n,{code:le.invalid_union,unionErrors:g}),Ue}}get options(){return this._def.options}}Pc.create=(e,t)=>new Pc({options:e,typeName:Fe.ZodUnion,...Ge(t)});const Ui=e=>e instanceof Fc?Ui(e.schema):e instanceof ai?Ui(e.innerType()):e instanceof jc?[e.value]:e instanceof no?e.options:e instanceof Uc?it.objectValues(e.enum):e instanceof zc?Ui(e._def.innerType):e instanceof Dc?[void 0]:e instanceof kc?[null]:e instanceof Oi?[void 0,...Ui(e.unwrap())]:e instanceof ro?[null,...Ui(e.unwrap())]:e instanceof qg||e instanceof Hc?Ui(e.unwrap()):e instanceof Vc?Ui(e._def.innerType):[];class Lf extends Ke{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==be.object)return we(n,{code:le.invalid_type,expected:be.object,received:n.parsedType}),Ue;const i=this.discriminator,o=n.data[i],l=this.optionsMap.get(o);return l?n.common.async?l._parseAsync({data:n.data,path:n.path,parent:n}):l._parseSync({data:n.data,path:n.path,parent:n}):(we(n,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),Ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,i){const o=new Map;for(const l of n){const f=Ui(l.shape[t]);if(!f.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const g of f){if(o.has(g))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(g)}`);o.set(g,l)}}return new Lf({typeName:Fe.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o,...Ge(i)})}}function x0(e,t){const n=Hi(e),i=Hi(t);if(e===t)return{valid:!0,data:e};if(n===be.object&&i===be.object){const o=it.objectKeys(t),l=it.objectKeys(e).filter(g=>o.indexOf(g)!==-1),f={...e,...t};for(const g of l){const x=x0(e[g],t[g]);if(!x.valid)return{valid:!1};f[g]=x.data}return{valid:!0,data:f}}else if(n===be.array&&i===be.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let l=0;l<e.length;l++){const f=e[l],g=t[l],x=x0(f,g);if(!x.valid)return{valid:!1};o.push(x.data)}return{valid:!0,data:o}}else return n===be.date&&i===be.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Lc extends Ke{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=(l,f)=>{if(p0(l)||p0(f))return Ue;const g=x0(l.value,f.value);return g.valid?((m0(l)||m0(f))&&n.dirty(),{status:n.value,value:g.data}):(we(i,{code:le.invalid_intersection_types}),Ue)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([l,f])=>o(l,f)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Lc.create=(e,t,n)=>new Lc({left:e,right:t,typeName:Fe.ZodIntersection,...Ge(n)});class ki extends Ke{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==be.array)return we(i,{code:le.invalid_type,expected:be.array,received:i.parsedType}),Ue;if(i.data.length<this._def.items.length)return we(i,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&i.data.length>this._def.items.length&&(we(i,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...i.data].map((f,g)=>{const x=this._def.items[g]||this._def.rest;return x?x._parse(new Di(i,f,i.path,g)):null}).filter(f=>!!f);return i.common.async?Promise.all(l).then(f=>Bn.mergeArray(n,f)):Bn.mergeArray(n,l)}get items(){return this._def.items}rest(t){return new ki({...this._def,rest:t})}}ki.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ki({items:e,typeName:Fe.ZodTuple,rest:null,...Ge(t)})};class Bc extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==be.object)return we(i,{code:le.invalid_type,expected:be.object,received:i.parsedType}),Ue;const o=[],l=this._def.keyType,f=this._def.valueType;for(const g in i.data)o.push({key:l._parse(new Di(i,g,i.path,g)),value:f._parse(new Di(i,i.data[g],i.path,g)),alwaysSet:g in i.data});return i.common.async?Bn.mergeObjectAsync(n,o):Bn.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof Ke?new Bc({keyType:t,valueType:n,typeName:Fe.ZodRecord,...Ge(i)}):new Bc({keyType:Jr.create(),valueType:t,typeName:Fe.ZodRecord,...Ge(n)})}}class $d extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==be.map)return we(i,{code:le.invalid_type,expected:be.map,received:i.parsedType}),Ue;const o=this._def.keyType,l=this._def.valueType,f=[...i.data.entries()].map(([g,x],p)=>({key:o._parse(new Di(i,g,i.path,[p,"key"])),value:l._parse(new Di(i,x,i.path,[p,"value"]))}));if(i.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const x of f){const p=await x.key,w=await x.value;if(p.status==="aborted"||w.status==="aborted")return Ue;(p.status==="dirty"||w.status==="dirty")&&n.dirty(),g.set(p.value,w.value)}return{status:n.value,value:g}})}else{const g=new Map;for(const x of f){const p=x.key,w=x.value;if(p.status==="aborted"||w.status==="aborted")return Ue;(p.status==="dirty"||w.status==="dirty")&&n.dirty(),g.set(p.value,w.value)}return{status:n.value,value:g}}}}$d.create=(e,t,n)=>new $d({valueType:t,keyType:e,typeName:Fe.ZodMap,...Ge(n)});class Yo extends Ke{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==be.set)return we(i,{code:le.invalid_type,expected:be.set,received:i.parsedType}),Ue;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(we(i,{code:le.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(we(i,{code:le.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const l=this._def.valueType;function f(x){const p=new Set;for(const w of x){if(w.status==="aborted")return Ue;w.status==="dirty"&&n.dirty(),p.add(w.value)}return{status:n.value,value:p}}const g=[...i.data.values()].map((x,p)=>l._parse(new Di(i,x,i.path,p)));return i.common.async?Promise.all(g).then(x=>f(x)):f(g)}min(t,n){return new Yo({...this._def,minSize:{value:t,message:Re.toString(n)}})}max(t,n){return new Yo({...this._def,maxSize:{value:t,message:Re.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Yo.create=(e,t)=>new Yo({valueType:e,minSize:null,maxSize:null,typeName:Fe.ZodSet,...Ge(t)});class Pa extends Ke{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==be.function)return we(n,{code:le.invalid_type,expected:be.function,received:n.parsedType}),Ue;function i(g,x){return Qd({data:g,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xd(),ol].filter(p=>!!p),issueData:{code:le.invalid_arguments,argumentsError:x}})}function o(g,x){return Qd({data:g,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xd(),ol].filter(p=>!!p),issueData:{code:le.invalid_return_type,returnTypeError:x}})}const l={errorMap:n.common.contextualErrorMap},f=n.data;if(this._def.returns instanceof ll){const g=this;return Yn(async function(...x){const p=new Cr([]),w=await g._def.args.parseAsync(x,l).catch(M=>{throw p.addIssue(i(x,M)),p}),v=await Reflect.apply(f,this,w);return await g._def.returns._def.type.parseAsync(v,l).catch(M=>{throw p.addIssue(o(v,M)),p})})}else{const g=this;return Yn(function(...x){const p=g._def.args.safeParse(x,l);if(!p.success)throw new Cr([i(x,p.error)]);const w=Reflect.apply(f,this,p.data),v=g._def.returns.safeParse(w,l);if(!v.success)throw new Cr([o(w,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Pa({...this._def,args:ki.create(t).rest(Do.create())})}returns(t){return new Pa({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,i){return new Pa({args:t||ki.create([]).rest(Do.create()),returns:n||Do.create(),typeName:Fe.ZodFunction,...Ge(i)})}}class Fc extends Ke{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Fc.create=(e,t)=>new Fc({getter:e,typeName:Fe.ZodLazy,...Ge(t)});class jc extends Ke{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return we(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:t.data}}get value(){return this._def.value}}jc.create=(e,t)=>new jc({value:e,typeName:Fe.ZodLiteral,...Ge(t)});function dT(e,t){return new no({values:e,typeName:Fe.ZodEnum,...Ge(t)})}class no extends Ke{constructor(){super(...arguments),Zl.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return we(n,{expected:it.joinValues(i),received:n.parsedType,code:le.invalid_type}),Ue}if(Zd(this,Zl)||aT(this,Zl,new Set(this._def.values)),!Zd(this,Zl).has(t.data)){const n=this._getOrReturnCtx(t),i=this._def.values;return we(n,{received:n.data,code:le.invalid_enum_value,options:i}),Ue}return Yn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return no.create(t,{...this._def,...n})}exclude(t,n=this._def){return no.create(this.options.filter(i=>!t.includes(i)),{...this._def,...n})}}Zl=new WeakMap;no.create=dT;class Uc extends Ke{constructor(){super(...arguments),ql.set(this,void 0)}_parse(t){const n=it.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==be.string&&i.parsedType!==be.number){const o=it.objectValues(n);return we(i,{expected:it.joinValues(o),received:i.parsedType,code:le.invalid_type}),Ue}if(Zd(this,ql)||aT(this,ql,new Set(it.getValidEnumValues(this._def.values))),!Zd(this,ql).has(t.data)){const o=it.objectValues(n);return we(i,{received:i.data,code:le.invalid_enum_value,options:o}),Ue}return Yn(t.data)}get enum(){return this._def.values}}ql=new WeakMap;Uc.create=(e,t)=>new Uc({values:e,typeName:Fe.ZodNativeEnum,...Ge(t)});class ll extends Ke{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==be.promise&&n.common.async===!1)return we(n,{code:le.invalid_type,expected:be.promise,received:n.parsedType}),Ue;const i=n.parsedType===be.promise?n.data:Promise.resolve(n.data);return Yn(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ll.create=(e,t)=>new ll({type:e,typeName:Fe.ZodPromise,...Ge(t)});class ai extends Ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=this._def.effect||null,l={addIssue:f=>{we(i,f),f.fatal?n.abort():n.dirty()},get path(){return i.path}};if(l.addIssue=l.addIssue.bind(l),o.type==="preprocess"){const f=o.transform(i.data,l);if(i.common.async)return Promise.resolve(f).then(async g=>{if(n.value==="aborted")return Ue;const x=await this._def.schema._parseAsync({data:g,path:i.path,parent:i});return x.status==="aborted"?Ue:x.status==="dirty"||n.value==="dirty"?Ea(x.value):x});{if(n.value==="aborted")return Ue;const g=this._def.schema._parseSync({data:f,path:i.path,parent:i});return g.status==="aborted"?Ue:g.status==="dirty"||n.value==="dirty"?Ea(g.value):g}}if(o.type==="refinement"){const f=g=>{const x=o.refinement(g,l);if(i.common.async)return Promise.resolve(x);if(x instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(i.common.async===!1){const g=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return g.status==="aborted"?Ue:(g.status==="dirty"&&n.dirty(),f(g.value),{status:n.value,value:g.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(g=>g.status==="aborted"?Ue:(g.status==="dirty"&&n.dirty(),f(g.value).then(()=>({status:n.value,value:g.value}))))}if(o.type==="transform")if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Wo(f))return f;const g=o.transform(f.value,l);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:g}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>Wo(f)?Promise.resolve(o.transform(f.value,l)).then(g=>({status:n.value,value:g})):f);it.assertNever(o)}}ai.create=(e,t,n)=>new ai({schema:e,typeName:Fe.ZodEffects,effect:t,...Ge(n)});ai.createWithPreprocess=(e,t,n)=>new ai({schema:t,effect:{type:"preprocess",transform:e},typeName:Fe.ZodEffects,...Ge(n)});class Oi extends Ke{_parse(t){return this._getType(t)===be.undefined?Yn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Oi.create=(e,t)=>new Oi({innerType:e,typeName:Fe.ZodOptional,...Ge(t)});class ro extends Ke{_parse(t){return this._getType(t)===be.null?Yn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ro.create=(e,t)=>new ro({innerType:e,typeName:Fe.ZodNullable,...Ge(t)});class zc extends Ke{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===be.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}zc.create=(e,t)=>new zc({innerType:e,typeName:Fe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ge(t)});class Vc extends Ke{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Mc(o)?o.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Cr(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Cr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Vc.create=(e,t)=>new Vc({innerType:e,typeName:Fe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ge(t)});class Jd extends Ke{_parse(t){if(this._getType(t)!==be.nan){const i=this._getOrReturnCtx(t);return we(i,{code:le.invalid_type,expected:be.nan,received:i.parsedType}),Ue}return{status:"valid",value:t.data}}}Jd.create=e=>new Jd({typeName:Fe.ZodNaN,...Ge(e)});const $R=Symbol("zod_brand");class qg extends Ke{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class cu extends Ke{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?Ue:l.status==="dirty"?(n.dirty(),Ea(l.value)):this._def.out._parseAsync({data:l.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Ue:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(t,n){return new cu({in:t,out:n,typeName:Fe.ZodPipeline})}}class Hc extends Ke{_parse(t){const n=this._def.innerType._parse(t),i=o=>(Wo(o)&&(o.value=Object.freeze(o.value)),o);return Mc(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}Hc.create=(e,t)=>new Hc({innerType:e,typeName:Fe.ZodReadonly,...Ge(t)});function Mx(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function fT(e,t={},n){return e?al.create().superRefine((i,o)=>{var l,f;const g=e(i);if(g instanceof Promise)return g.then(x=>{var p,w;if(!x){const v=Mx(t,i),b=(w=(p=v.fatal)!==null&&p!==void 0?p:n)!==null&&w!==void 0?w:!0;o.addIssue({code:"custom",...v,fatal:b})}});if(!g){const x=Mx(t,i),p=(f=(l=x.fatal)!==null&&l!==void 0?l:n)!==null&&f!==void 0?f:!0;o.addIssue({code:"custom",...x,fatal:p})}}):al.create()}const JR={object:Ft.lazycreate};var Fe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Fe||(Fe={}));const eD=(e,t={message:`Input not instance of ${e.name}`})=>fT(n=>n instanceof e,t),hT=Jr.create,gT=eo.create,tD=Jd.create,nD=to.create,pT=Rc.create,rD=Go.create,iD=qd.create,sD=Dc.create,oD=kc.create,aD=al.create,lD=Do.create,cD=ns.create,uD=Kd.create,dD=ni.create,fD=Ft.create,hD=Ft.strictCreate,gD=Pc.create,pD=Lf.create,mD=Lc.create,xD=ki.create,yD=Bc.create,wD=$d.create,vD=Yo.create,CD=Pa.create,ED=Fc.create,AD=jc.create,SD=no.create,bD=Uc.create,TD=ll.create,Rx=ai.create,ID=Oi.create,ND=ro.create,_D=ai.createWithPreprocess,OD=cu.create,MD=()=>hT().optional(),RD=()=>gT().optional(),DD=()=>pT().optional(),kD={string:e=>Jr.create({...e,coerce:!0}),number:e=>eo.create({...e,coerce:!0}),boolean:e=>Rc.create({...e,coerce:!0}),bigint:e=>to.create({...e,coerce:!0}),date:e=>Go.create({...e,coerce:!0})},PD=Ue;var Sn=Object.freeze({__proto__:null,defaultErrorMap:ol,setErrorMap:_R,getErrorMap:Xd,makeIssue:Qd,EMPTY_PATH:OR,addIssueToContext:we,ParseStatus:Bn,INVALID:Ue,DIRTY:Ea,OK:Yn,isAborted:p0,isDirty:m0,isValid:Wo,isAsync:Mc,get util(){return it},get objectUtil(){return g0},ZodParsedType:be,getParsedType:Hi,ZodType:Ke,datetimeRegex:uT,ZodString:Jr,ZodNumber:eo,ZodBigInt:to,ZodBoolean:Rc,ZodDate:Go,ZodSymbol:qd,ZodUndefined:Dc,ZodNull:kc,ZodAny:al,ZodUnknown:Do,ZodNever:ns,ZodVoid:Kd,ZodArray:ni,ZodObject:Ft,ZodUnion:Pc,ZodDiscriminatedUnion:Lf,ZodIntersection:Lc,ZodTuple:ki,ZodRecord:Bc,ZodMap:$d,ZodSet:Yo,ZodFunction:Pa,ZodLazy:Fc,ZodLiteral:jc,ZodEnum:no,ZodNativeEnum:Uc,ZodPromise:ll,ZodEffects:ai,ZodTransformer:ai,ZodOptional:Oi,ZodNullable:ro,ZodDefault:zc,ZodCatch:Vc,ZodNaN:Jd,BRAND:$R,ZodBranded:qg,ZodPipeline:cu,ZodReadonly:Hc,custom:fT,Schema:Ke,ZodSchema:Ke,late:JR,get ZodFirstPartyTypeKind(){return Fe},coerce:kD,any:aD,array:dD,bigint:nD,boolean:pT,date:rD,discriminatedUnion:pD,effect:Rx,enum:SD,function:CD,instanceof:eD,intersection:mD,lazy:ED,literal:AD,map:wD,nan:tD,nativeEnum:bD,never:cD,null:oD,nullable:ND,number:gT,object:fD,oboolean:DD,onumber:RD,optional:ID,ostring:MD,pipeline:OD,preprocess:_D,promise:TD,record:yD,set:vD,strictObject:hD,string:hT,symbol:iD,transformer:Rx,tuple:xD,undefined:sD,union:gD,unknown:lD,void:uD,NEVER:PD,ZodIssueCode:le,quotelessJson:NR,ZodError:Cr});const Bt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Jt(e,t){return t.includes(e.columnType)}function LD(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const BD=Sn.union([Sn.string(),Sn.number(),Sn.boolean(),Sn.null()]),FD=Sn.union([BD,Sn.record(Sn.any()),Sn.array(Sn.any())]),jD=Sn.custom(e=>e instanceof Buffer);function mT(e,t){const n=(t==null?void 0:t.zodInstance)??Sn,i=(t==null?void 0:t.coerce)??{};let o;return LD(e)&&(o=e.enumValues.length?n.enum(e.enumValues):n.string()),o||(Jt(e,["PgGeometry","PgPointTuple"])?o=n.tuple([n.number(),n.number()]):Jt(e,["PgGeometryObject","PgPointObject"])?o=n.object({x:n.number(),y:n.number()}):Jt(e,["PgHalfVector","PgVector"])?(o=n.array(n.number()),o=e.dimensions?o.length(e.dimensions):o):Jt(e,["PgLine"])?o=n.tuple([n.number(),n.number(),n.number()]):Jt(e,["PgLineABC"])?o=n.object({a:n.number(),b:n.number(),c:n.number()}):Jt(e,["PgArray"])?(o=n.array(mT(e.baseColumn,n)),o=e.size?o.length(e.size):o):e.dataType==="array"?o=n.array(n.any()):e.dataType==="number"?o=UD(e,n,i):e.dataType==="bigint"?o=zD(e,n,i):e.dataType==="boolean"?o=i===!0||i.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?o=i===!0||i.date?n.coerce.date():n.date():e.dataType==="string"?o=VD(e,n,i):e.dataType==="json"?o=FD:e.dataType==="custom"?o=n.any():e.dataType==="buffer"&&(o=jD)),o||(o=n.any()),o}function UD(e,t,n){let i=e.getSQLType().includes("unsigned"),o,l,f=!1;Jt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(o=i?0:Bt.INT8_MIN,l=i?Bt.INT8_UNSIGNED_MAX:Bt.INT8_MAX,f=!0):Jt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=i?0:Bt.INT16_MIN,l=i?Bt.INT16_UNSIGNED_MAX:Bt.INT16_MAX,f=!0):Jt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=i?0:Bt.INT24_MIN,l=i?Bt.INT24_UNSIGNED_MAX:Bt.INT24_MAX,f=Jt(e,["MySqlMediumInt","SingleStoreMediumInt"])):Jt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=i?0:Bt.INT32_MIN,l=i?Bt.INT32_UNSIGNED_MAX:Bt.INT32_MAX,f=!0):Jt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=i?0:Bt.INT48_MIN,l=i?Bt.INT48_UNSIGNED_MAX:Bt.INT48_MAX):Jt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(i=i||Jt(e,["MySqlSerial","SingleStoreSerial"]),o=i?0:Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,f=!0):Jt(e,["MySqlYear","SingleStoreYear"])?(o=1901,l=2155,f=!0):(o=Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER);let g=n===!0||n!=null&&n.number?t.coerce.number():t.number();return g=g.min(o).max(l),f?g.int():g}function zD(e,t,n){const i=e.getSQLType().includes("unsigned"),o=i?0n:Bt.INT64_MIN,l=i?Bt.INT64_UNSIGNED_MAX:Bt.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(o).max(l)}function VD(e,t,n){if(Jt(e,["PgUUID"]))return t.string().uuid();let i,o,l=!1;Jt(e,["PgVarchar","SQLiteText"])?i=e.length:Jt(e,["MySqlVarChar","SingleStoreVarChar"])?i=e.length??Bt.INT16_UNSIGNED_MAX:Jt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?i=Bt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?i=Bt.INT24_UNSIGNED_MAX:e.textType==="text"?i=Bt.INT16_UNSIGNED_MAX:i=Bt.INT8_UNSIGNED_MAX),Jt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(i=e.length,l=!0),Jt(e,["PgBinaryVector"])&&(o=/^[01]+$/,i=e.dimensions);let f=n===!0||n!=null&&n.string?t.coerce.string():t.string();return f=o?f.regex(o):f,i&&l?f.length(i):i?f.max(i):f}function xT(e){return _S(e)?qM(e):KM(e)}function yT(e,t,n,i){const o={};for(const[l,f]of Object.entries(e)){if(!An(f,sl)&&!An(f,fn)&&!An(f,fn.Aliased)&&typeof f=="object"){const v=_S(f)||ZM(f)?xT(f):f;o[l]=yT(v,t[l]??{},n,i);continue}const g=t[l];if(g!==void 0&&typeof g!="function"){o[l]=g;continue}const x=An(f,sl)?f:void 0,p=x?mT(x,i):Sn.any(),w=typeof g=="function"?g(p):p;n.never(x)||(o[l]=w,x&&(n.nullable(x)&&(o[l]=o[l].nullable()),n.optional(x)&&(o[l]=o[l].optional())))}return Sn.object(o)}const HD={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Kg=(e,t)=>{const n=xT(e);return yT(n,{},HD)};var $g=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},wT=Zg("users",{id:Oc("id").primaryKey().default(Ho(Dx||(Dx=$g(["gen_random_uuid()"],["gen_random_uuid()"])))),username:Ti("username").notNull().unique(),password:Ti("password").notNull(),role:Ti("role",{enum:["admin","customer"]}).notNull().default("customer"),createdAt:_c("created_at").notNull().defaultNow()}),vT=Zg("cars",{id:Oc("id").primaryKey().default(Ho(kx||(kx=$g(["gen_random_uuid()"],["gen_random_uuid()"])))),plateNumber:Ti("plate_number").notNull().unique(),ownerName:Ti("owner_name").notNull(),qrValue:Ti("qr_value").notNull().unique(),qrCode:Ti("qr_code").notNull(),createdAt:_c("created_at").notNull().defaultNow()});Zg("visits",{id:Oc("id").primaryKey().default(Ho(Px||(Px=$g(["gen_random_uuid()"],["gen_random_uuid()"])))),carId:Oc("car_id").notNull().references(function(){return vT.id}),plateNumber:Ti("plate_number").notNull(),ownerName:Ti("owner_name").notNull(),checkInTime:_c("check_in_time").notNull().defaultNow(),checkOutTime:_c("check_out_time"),duration:f0("duration"),fee:f0("fee"),isCheckedIn:WS("is_checked_in").notNull().default(!0)});var WD=Kg(wT).pick({username:!0,password:!0,role:!0}),GD=Kg(wT).pick({username:!0,password:!0}),YD=Kg(vT).pick({plateNumber:!0,ownerName:!0});Sn.object({qrCode:Sn.string().min(1,"QR code is required")});var Dx,kx,Px;function XD(){const[,e]=Pi(),{toast:t}=iu(),n=Wg({resolver:Gg(GD),defaultValues:{username:"",password:""}}),i=nu({mutationFn:o=>ru("POST","/api/auth/login",o),onSuccess:o=>{Af.setQueryData(["/api/auth/me"],o),t({title:"Welcome back!",description:`Logged in successfully as ${o.role}`}),e("/home")},onError:o=>{t({title:"Login failed",description:o.message,variant:"destructive"})}});return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-accent/10 flex items-center justify-center p-4",children:E.jsxs(bn,{className:"w-full max-w-md p-6 md:p-8 space-y-6",children:[E.jsxs("div",{className:"text-center space-y-2",children:[E.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Welcome Back"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in to your account to continue"})]}),E.jsx(Yg,{...n,children:E.jsxs("form",{onSubmit:n.handleSubmit(o=>i.mutate(o)),className:"space-y-4",children:[E.jsx(Ro,{control:n.control,name:"username",render:({field:o})=>E.jsxs(Gs,{children:[E.jsx(Ys,{className:"text-sm font-medium",children:"Username"}),E.jsx(Xs,{children:E.jsxs("div",{className:"relative",children:[E.jsx(kd,{className:"absolute left-4 top-1/2 -translate-y-1/2 size-5 text-muted-foreground"}),E.jsx(Ws,{...o,placeholder:"Enter your username",className:"h-12 pl-12","data-testid":"input-username"})]})}),E.jsx(Qs,{})]})}),E.jsx(Ro,{control:n.control,name:"password",render:({field:o})=>E.jsxs(Gs,{children:[E.jsx(Ys,{className:"text-sm font-medium",children:"Password"}),E.jsx(Xs,{children:E.jsxs("div",{className:"relative",children:[E.jsx(i0,{className:"absolute left-4 top-1/2 -translate-y-1/2 size-5 text-muted-foreground"}),E.jsx(Ws,{...o,type:"password",placeholder:"Enter your password",className:"h-12 pl-12","data-testid":"input-password"})]})}),E.jsx(Qs,{})]})}),E.jsx(Pn,{type:"submit",className:"w-full h-12 font-semibold",disabled:i.isPending,"data-testid":"button-login",children:i.isPending?"Signing in...":"Sign In"})]})}),E.jsx("div",{className:"text-center",children:E.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",E.jsx("button",{onClick:()=>e("/signup"),className:"text-primary hover:underline font-medium","data-testid":"link-signup",children:"Create Account"})]})})]})})}var Jg="Progress",ep=100,[QD,w7]=su(Jg),[ZD,qD]=QD(Jg),CT=L.forwardRef((e,t)=>{const{__scopeProgress:n,value:i=null,max:o,getValueLabel:l=KD,...f}=e;(o||o===0)&&!Lx(o)&&console.error($D(`${o}`,"Progress"));const g=Lx(o)?o:ep;i!==null&&!Bx(i,g)&&console.error(JD(`${i}`,"Progress"));const x=Bx(i,g)?i:null,p=ef(x)?l(x,g):void 0;return E.jsx(ZD,{scope:n,value:x,max:g,children:E.jsx(Nn.div,{"aria-valuemax":g,"aria-valuemin":0,"aria-valuenow":ef(x)?x:void 0,"aria-valuetext":p,role:"progressbar","data-state":ST(x,g),"data-value":x??void 0,"data-max":g,...f,ref:t})})});CT.displayName=Jg;var ET="ProgressIndicator",AT=L.forwardRef((e,t)=>{const{__scopeProgress:n,...i}=e,o=qD(ET,n);return E.jsx(Nn.div,{"data-state":ST(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...i,ref:t})});AT.displayName=ET;function KD(e,t){return`${Math.round(e/t*100)}%`}function ST(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ef(e){return typeof e=="number"}function Lx(e){return ef(e)&&!isNaN(e)&&e>0}function Bx(e,t){return ef(e)&&!isNaN(e)&&e<=t&&e>=0}function $D(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ep}\`.`}function JD(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ep} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var bT=CT,e5=AT;const TT=L.forwardRef(({className:e,value:t,...n},i)=>E.jsx(bT,{ref:i,className:mt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:E.jsx(e5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));TT.displayName=bT.displayName;const t5=WD.extend({confirmPassword:Sn.string().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function n5(){const[,e]=Pi(),{toast:t}=iu(),[n,i]=L.useState("role"),[o,l]=L.useState(null),[f,g]=L.useState(!1),[x,p]=L.useState(!1),w=Wg({resolver:Gg(t5),defaultValues:{username:"",password:"",confirmPassword:"",role:"customer"}}),v=w.watch("password"),b=r5(v),M=nu({mutationFn:k=>ru("POST","/api/auth/signup",k),onSuccess:k=>{Af.setQueryData(["/api/auth/me"],k),t({title:"Account created!",description:`Welcome! You're signed in as ${k.role}`}),e("/home")},onError:k=>{t({title:"Signup failed",description:k.message,variant:"destructive"})}}),P=k=>{if(k==="customer"){e("/scan");return}l(k),w.setValue("role",k),i("credentials")},_=k=>{const{confirmPassword:O,...T}=k;M.mutate(T)};return n==="role"?E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-accent/10 flex items-center justify-center p-4",children:E.jsxs(bn,{className:"w-full max-w-2xl p-6 md:p-8 space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("h1",{className:"text-2xl font-bold tracking-tight text-center",children:"Choose Your Account Type"}),E.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Select the role that best describes your access needs"})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[E.jsx("button",{onClick:()=>P("admin"),className:"group relative","data-testid":"card-role-admin",children:E.jsx(bn,{className:"p-6 border-2 hover:border-primary hover:shadow-lg transition-all cursor-pointer h-full hover-elevate active-elevate-2",children:E.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[E.jsx("div",{className:"bg-primary/10 p-4 rounded-full",children:E.jsx(p3,{className:"size-16 text-primary"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Administrator"}),E.jsx("p",{className:"text-sm text-muted-foreground mb-4 leading-relaxed",children:"Full system access for managing operations"})]}),E.jsxs("div",{className:"space-y-2 w-full",children:[E.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[E.jsx(oa,{className:"size-4 text-primary"}),E.jsx("span",{children:"Register vehicles"})]}),E.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[E.jsx(oa,{className:"size-4 text-primary"}),E.jsx("span",{children:"View all visits"})]}),E.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[E.jsx(oa,{className:"size-4 text-primary"}),E.jsx("span",{children:"Export reports"})]})]})]})})}),E.jsx("button",{onClick:()=>P("customer"),className:"group relative","data-testid":"card-role-customer",children:E.jsx(bn,{className:"p-6 border-2 hover:border-primary hover:shadow-lg transition-all cursor-pointer h-full hover-elevate active-elevate-2",children:E.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[E.jsx("div",{className:"bg-secondary/50 p-4 rounded-full",children:E.jsx(kd,{className:"size-16 text-foreground"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Customer"}),E.jsx("p",{className:"text-sm text-muted-foreground mb-4 leading-relaxed",children:"Quick access for parking operations"})]}),E.jsxs("div",{className:"space-y-2 w-full",children:[E.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[E.jsx(oa,{className:"size-4 text-primary"}),E.jsx("span",{children:"Scan QR codes"})]}),E.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[E.jsx(oa,{className:"size-4 text-primary"}),E.jsx("span",{children:"Quick check-in/out"})]})]})]})})})]}),E.jsx("div",{className:"text-center pt-4",children:E.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",E.jsx("button",{onClick:()=>e("/login"),className:"text-primary hover:underline font-medium","data-testid":"link-login-from-signup",children:"Sign In"})]})})]})}):E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-accent/10 flex items-center justify-center p-4",children:E.jsxs("div",{className:"w-full max-w-md space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-center gap-2",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"flex items-center justify-center size-8 rounded-full bg-primary text-primary-foreground text-sm font-semibold",children:E.jsx(oa,{className:"size-4"})}),E.jsx("div",{className:"h-0.5 w-16 bg-primary"})]}),E.jsx("div",{className:"flex items-center justify-center size-8 rounded-full bg-primary text-primary-foreground text-sm font-semibold",children:"2"}),E.jsx("div",{className:"h-0.5 w-16 bg-muted"}),E.jsx("div",{className:"flex items-center justify-center size-8 rounded-full border-2 border-muted text-sm font-semibold text-muted-foreground",children:"3"})]}),E.jsxs(bn,{className:"p-6 md:p-8 space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Set Up Your Credentials"}),E.jsxs("p",{className:"text-sm text-muted-foreground",children:["Create your ",o," account"]})]}),o==="admin"&&E.jsx("div",{className:"bg-primary/5 border-l-4 border-primary p-4 rounded-md",children:E.jsxs("p",{className:"text-sm",children:[E.jsx("strong",{children:"Admin Access:"})," You'll have full access to register vehicles, manage visits, and export reports."]})}),E.jsx(Yg,{...w,children:E.jsxs("form",{onSubmit:w.handleSubmit(_),className:"space-y-4",children:[E.jsx(Ro,{control:w.control,name:"username",render:({field:k})=>E.jsxs(Gs,{children:[E.jsxs(Ys,{className:"text-sm font-medium",children:["Username ",E.jsx("span",{className:"text-destructive",children:"*"})]}),E.jsx(Xs,{children:E.jsxs("div",{className:"relative",children:[E.jsx(kd,{className:"absolute left-4 top-1/2 -translate-y-1/2 size-5 text-muted-foreground"}),E.jsx(Ws,{...k,placeholder:"Choose a username",className:"h-12 pl-12","data-testid":"input-signup-username"})]})}),E.jsx(Qs,{})]})}),E.jsx(Ro,{control:w.control,name:"password",render:({field:k})=>E.jsxs(Gs,{children:[E.jsxs(Ys,{className:"text-sm font-medium",children:["Password ",E.jsx("span",{className:"text-destructive",children:"*"})]}),E.jsx(Xs,{children:E.jsxs("div",{className:"relative",children:[E.jsx(i0,{className:"absolute left-4 top-1/2 -translate-y-1/2 size-5 text-muted-foreground"}),E.jsx(Ws,{...k,type:f?"text":"password",placeholder:"Create a strong password",className:"h-12 pl-12 pr-12","data-testid":"input-signup-password"}),E.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-4 top-1/2 -translate-y-1/2","data-testid":"button-toggle-password",children:f?E.jsx($m,{className:"size-5 text-muted-foreground"}):E.jsx(Jm,{className:"size-5 text-muted-foreground"})})]})}),v&&E.jsxs("div",{className:"space-y-2 mt-2",children:[E.jsx(TT,{value:b,className:"h-2"}),E.jsxs("div",{className:"flex gap-2 flex-wrap text-xs",children:[E.jsx("span",{className:v.length>=8?"text-primary":"text-muted-foreground",children:" 8+ characters"}),E.jsx("span",{className:/[0-9]/.test(v)?"text-primary":"text-muted-foreground",children:" 1 number"}),E.jsx("span",{className:/[!@#$%^&*]/.test(v)?"text-primary":"text-muted-foreground",children:" 1 special char"})]})]}),E.jsx(Qs,{})]})}),E.jsx(Ro,{control:w.control,name:"confirmPassword",render:({field:k})=>E.jsxs(Gs,{children:[E.jsxs(Ys,{className:"text-sm font-medium",children:["Confirm Password ",E.jsx("span",{className:"text-destructive",children:"*"})]}),E.jsx(Xs,{children:E.jsxs("div",{className:"relative",children:[E.jsx(i0,{className:"absolute left-4 top-1/2 -translate-y-1/2 size-5 text-muted-foreground"}),E.jsx(Ws,{...k,type:x?"text":"password",placeholder:"Confirm your password",className:"h-12 pl-12 pr-12","data-testid":"input-confirm-password"}),E.jsx("button",{type:"button",onClick:()=>p(!x),className:"absolute right-4 top-1/2 -translate-y-1/2","data-testid":"button-toggle-confirm-password",children:x?E.jsx($m,{className:"size-5 text-muted-foreground"}):E.jsx(Jm,{className:"size-5 text-muted-foreground"})})]})}),E.jsx(Qs,{})]})}),E.jsxs("div",{className:"flex gap-2 pt-2",children:[E.jsx(Pn,{type:"button",variant:"outline",className:"flex-1 h-12",onClick:()=>i("role"),"data-testid":"button-back",children:"Back"}),o==="customer"&&E.jsx(Pn,{type:"button",variant:"ghost",className:"flex-1 h-12",onClick:()=>e("/scan"),"data-testid":"button-skip-customer",children:"Skip & Scan"}),E.jsx(Pn,{type:"submit",className:"flex-1 h-12 font-semibold",disabled:M.isPending,"data-testid":"button-create-account",children:M.isPending?"Creating...":"Create Account"})]})]})})]})]})})}function r5(e){let t=0;return e.length>=8&&(t+=33),/[0-9]/.test(e)&&(t+=33),/[!@#$%^&*]/.test(e)&&(t+=34),t}function IT(){const[,e]=Pi(),{data:t,isLoading:n}=LA({queryKey:["/api/auth/me"],retry:!1}),i=nu({mutationFn:()=>ru("POST","/api/auth/logout",{}),onSuccess:()=>{Af.setQueryData(["/api/auth/me"],null),e("/")}});return{user:t,isLoading:n,isAuthenticated:!!t,logout:()=>i.mutate()}}function tp({children:e,requireAdmin:t=!1}){const{user:n,isLoading:i}=IT(),[,o]=Pi();return L.useEffect(()=>{i||(n?t&&n.role!=="admin"&&o("/home"):o("/login"))},[n,i,t,o]),i?E.jsx("div",{className:"min-h-screen flex items-center justify-center",children:E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):!n||t&&n.role!=="admin"?null:E.jsx(E.Fragment,{children:e})}const i5=If("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function y0({className:e,variant:t,...n}){return E.jsx("div",{className:mt(i5({variant:t}),e),...n})}function s5({role:e}){return e==="admin"?E.jsxs(y0,{variant:"default",className:"px-3 py-1 text-xs font-bold uppercase tracking-wide","data-testid":"badge-admin",children:[E.jsx(p3,{className:"size-3 mr-1 inline"}),"Admin"]}):E.jsxs(y0,{variant:"secondary",className:"px-3 py-1 text-xs font-bold uppercase tracking-wide","data-testid":"badge-customer",children:[E.jsx(kd,{className:"size-3 mr-1 inline"}),"Customer"]})}function o5(){return E.jsx(tp,{children:E.jsx(a5,{})})}function a5(){const{user:e,logout:t}=IT(),[,n]=Pi();return e?E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-accent/10 p-4 md:p-8",children:E.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[E.jsxs("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight","data-testid":"text-welcome",children:["Welcome back, ",e.username]}),E.jsx(s5,{role:e.role})]}),E.jsx("p",{className:"text-sm text-muted-foreground",children:e.role==="admin"?"Manage parking operations and view detailed reports":"Quick access to parking scanner"})]}),E.jsxs(Pn,{variant:"outline",onClick:t,"data-testid":"button-logout",children:[E.jsx(J8,{className:"size-4 mr-2"}),"Sign Out"]})]}),e.role==="admin"?E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsx("button",{onClick:()=>n("/register"),className:"group","data-testid":"card-register-vehicle",children:E.jsxs(bn,{className:"h-32 hover:shadow-lg transition-shadow cursor-pointer hover-elevate active-elevate-2",children:[E.jsxs(Yl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[E.jsx(Xl,{className:"text-lg font-semibold",children:"Register Vehicle"}),E.jsx("div",{className:"bg-primary/10 p-2 rounded-md",children:E.jsx(_g,{className:"size-6 text-primary"})})]}),E.jsx(id,{children:E.jsx(Ql,{children:"Add new vehicles and generate QR codes"})})]})}),E.jsx("button",{onClick:()=>n("/visits"),className:"group","data-testid":"card-view-visits",children:E.jsxs(bn,{className:"h-32 hover:shadow-lg transition-shadow cursor-pointer hover-elevate active-elevate-2",children:[E.jsxs(Yl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[E.jsx(Xl,{className:"text-lg font-semibold",children:"View Visits"}),E.jsx("div",{className:"bg-primary/10 p-2 rounded-md",children:E.jsx(r0,{className:"size-6 text-primary"})})]}),E.jsx(id,{children:E.jsx(Ql,{children:"Access visit logs and export reports"})})]})}),E.jsx("button",{onClick:()=>n("/scan"),className:"group","data-testid":"card-scanner-access",children:E.jsxs(bn,{className:"h-32 hover:shadow-lg transition-shadow cursor-pointer hover-elevate active-elevate-2",children:[E.jsxs(Yl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[E.jsx(Xl,{className:"text-lg font-semibold",children:"Scanner Access"}),E.jsx("div",{className:"bg-primary/10 p-2 rounded-md",children:E.jsx(Dd,{className:"size-6 text-primary"})})]}),E.jsx(id,{children:E.jsx(Ql,{children:"Scan QR codes for check-in/out"})})]})})]}):E.jsx("button",{onClick:()=>n("/scan"),className:"w-full","data-testid":"card-scanner-customer",children:E.jsx(bn,{className:"h-48 hover:shadow-lg transition-shadow cursor-pointer hover-elevate active-elevate-2",children:E.jsxs(Yl,{className:"text-center pb-0",children:[E.jsx("div",{className:"flex items-center justify-center mb-4",children:E.jsx("div",{className:"bg-primary/10 p-6 rounded-full",children:E.jsx(Dd,{className:"size-16 text-primary"})})}),E.jsx(Xl,{className:"text-2xl font-bold",children:"QR Code Scanner"}),E.jsx(Ql,{className:"text-base mt-2",children:"Tap to scan vehicles for check-in and check-out"})]})})})]})}):null}function l5(){return E.jsx(tp,{requireAdmin:!0,children:E.jsx(c5,{})})}function c5(){const[,e]=Pi(),{toast:t}=iu(),[n,i]=L.useState(null),[o,l]=L.useState(null),f=Wg({resolver:Gg(YD),defaultValues:{plateNumber:"",ownerName:""}}),g=nu({mutationFn:w=>ru("POST","/api/cars",w),onSuccess:w=>{i(w.qrCode),l({plateNumber:w.car.plateNumber,ownerName:w.car.ownerName}),t({title:"Vehicle registered!",description:"QR code generated successfully"}),f.reset()},onError:w=>{t({title:"Registration failed",description:w.message,variant:"destructive"})}}),x=()=>{if(!n||!o)return;const w=document.createElement("a");w.href=n,w.download=`qr-${o.plateNumber}.png`,document.body.appendChild(w),w.click(),document.body.removeChild(w),t({title:"QR Code downloaded",description:`Saved as qr-${o.plateNumber}.png`})},p=()=>{i(null),l(null)};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-accent/10 p-4 md:p-8",children:E.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[E.jsxs(Pn,{variant:"ghost",onClick:()=>e("/home"),"data-testid":"button-back-home",children:[E.jsx(Ng,{className:"size-4 mr-2"}),"Back to Home"]}),E.jsxs(bn,{className:"p-6 md:p-8 space-y-6",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:E.jsx(_g,{className:"size-6 text-primary"})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-xl md:text-2xl font-bold tracking-tight",children:"Register Vehicle"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a new vehicle and generate its QR code"})]})]}),n?E.jsxs("div",{className:"space-y-6 text-center",children:[E.jsx("div",{className:"bg-accent/20 p-4 rounded-lg border-l-4 border-primary",children:E.jsx("p",{className:"text-sm font-medium",children:" Vehicle registered successfully!"})}),E.jsx("div",{className:"bg-white p-8 rounded-lg inline-block border-2 border-border",children:E.jsx("img",{src:n,alt:"Vehicle QR Code",className:"max-w-xs w-full h-auto","data-testid":"img-qr-code"})}),o&&E.jsxs("div",{className:"space-y-1",children:[E.jsx("p",{className:"text-sm text-muted-foreground",children:"Plate Number"}),E.jsx("p",{className:"font-semibold","data-testid":"text-plate-number",children:o.plateNumber}),E.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Owner"}),E.jsx("p",{className:"font-semibold","data-testid":"text-owner-name",children:o.ownerName})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx(Pn,{variant:"outline",className:"flex-1 h-12",onClick:p,"data-testid":"button-register-another",children:"Register Another"}),E.jsxs(Pn,{className:"flex-1 h-12 font-semibold",onClick:x,"data-testid":"button-download-qr",children:[E.jsx(g3,{className:"size-4 mr-2"}),"Download QR Code"]})]})]}):E.jsx(Yg,{...f,children:E.jsxs("form",{onSubmit:f.handleSubmit(w=>g.mutate(w)),className:"space-y-4",children:[E.jsx(Ro,{control:f.control,name:"plateNumber",render:({field:w})=>E.jsxs(Gs,{children:[E.jsxs(Ys,{className:"text-sm font-medium",children:["Plate Number ",E.jsx("span",{className:"text-destructive",children:"*"})]}),E.jsx(Xs,{children:E.jsx(Ws,{...w,placeholder:"e.g., ABC-1234",className:"h-12","data-testid":"input-plate-number"})}),E.jsx(Qs,{})]})}),E.jsx(Ro,{control:f.control,name:"ownerName",render:({field:w})=>E.jsxs(Gs,{children:[E.jsxs(Ys,{className:"text-sm font-medium",children:["Owner Name ",E.jsx("span",{className:"text-destructive",children:"*"})]}),E.jsx(Xs,{children:E.jsx(Ws,{...w,placeholder:"e.g., John Doe",className:"h-12","data-testid":"input-owner-name"})}),E.jsx(Qs,{})]})}),E.jsx(Pn,{type:"submit",className:"w-full h-12 font-semibold",disabled:g.isPending,"data-testid":"button-register",children:g.isPending?"Generating QR Code...":"Register Vehicle"})]})})]})]})})}var Ne;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ne||(Ne={}));var Fx=new Map([[Ne.QR_CODE,"QR_CODE"],[Ne.AZTEC,"AZTEC"],[Ne.CODABAR,"CODABAR"],[Ne.CODE_39,"CODE_39"],[Ne.CODE_93,"CODE_93"],[Ne.CODE_128,"CODE_128"],[Ne.DATA_MATRIX,"DATA_MATRIX"],[Ne.MAXICODE,"MAXICODE"],[Ne.ITF,"ITF"],[Ne.EAN_13,"EAN_13"],[Ne.EAN_8,"EAN_8"],[Ne.PDF_417,"PDF_417"],[Ne.RSS_14,"RSS_14"],[Ne.RSS_EXPANDED,"RSS_EXPANDED"],[Ne.UPC_A,"UPC_A"],[Ne.UPC_E,"UPC_E"],[Ne.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),jx;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(jx||(jx={}));function u5(e){return Object.values(Ne).includes(e)}var io;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(io||(io={}));var Qr=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[io.SCAN_TYPE_CAMERA,io.SCAN_TYPE_FILE],e}(),NT=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Fx.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Fx.get(t))},e}(),Ux=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),w0;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(w0||(w0={}));var _T=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:w0.UNKWOWN_ERROR}},e}(),OT=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function wi(e){return typeof e>"u"||e===null}function d5(e,t,n){return e>n?n:e<t?t:e}var Aa=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),yt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),zx=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),MT=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(o),f=Object.keys(t),g=0,x=f;g<x.length;g++){var p=x[g];if(l.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),v0={exports:{}};(function(e,t){(function(n,i){i(t)})(Tl,function(n){function i(A){return A==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,r){A.__proto__=r}||function(A,r){for(var s in r)r.hasOwnProperty(s)&&(A[s]=r[s])};function l(A,r){o(A,r);function s(){this.constructor=A}A.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}function f(A,r){var s=Object.setPrototypeOf;s?s(A,r):A.__proto__=r}function g(A,r){r===void 0&&(r=A.constructor);var s=Error.captureStackTrace;s&&s(A,r)}var x=function(A){l(r,A);function r(s){var a=this.constructor,c=A.call(this,s)||this;return Object.defineProperty(c,"name",{value:a.name,enumerable:!1}),f(c,a.prototype),g(c),c}return r}(Error);class p extends x{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}p.kind="Exception";class w extends p{}w.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class b{constructor(r){if(this.binarizer=r,r===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,s){return this.binarizer.getBlackRow(r,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,s,a,c){const u=this.binarizer.getLuminanceSource().crop(r,s,a,c);return new b(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class M extends p{static getChecksumInstance(){return new M}}M.kind="ChecksumException";class P{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _{static arraycopy(r,s,a,c,u){for(;u--;)a[c++]=r[s++]}static currentTimeMillis(){return Date.now()}}class k extends p{}k.kind="IndexOutOfBoundsException";class O extends k{constructor(r=void 0,s=void 0){super(s),this.index=r,this.message=s}}O.kind="ArrayIndexOutOfBoundsException";class T{static fill(r,s){for(let a=0,c=r.length;a<c;a++)r[a]=s}static fillWithin(r,s,a,c){T.rangeCheck(r.length,s,a);for(let u=s;u<a;u++)r[u]=c}static rangeCheck(r,s,a){if(s>a)throw new v("fromIndex("+s+") > toIndex("+a+")");if(s<0)throw new O(s);if(a>r)throw new O(a)}static asList(...r){return r}static create(r,s,a){return Array.from({length:r}).map(u=>Array.from({length:s}).fill(a))}static createInt32Array(r,s,a){return Array.from({length:r}).map(u=>Int32Array.from({length:s}).fill(a))}static equals(r,s){if(!r||!s||!r.length||!s.length||r.length!==s.length)return!1;for(let a=0,c=r.length;a<c;a++)if(r[a]!==s[a])return!1;return!0}static hashCode(r){if(r===null)return 0;let s=1;for(const a of r)s=31*s+a;return s}static fillUint8Array(r,s){for(let a=0;a!==r.length;a++)r[a]=s}static copyOf(r,s){return r.slice(0,s)}static copyOfUint8Array(r,s){if(r.length<=s){const a=new Uint8Array(s);return a.set(r),a}return r.slice(0,s)}static copyOfRange(r,s,a){const c=a-s,u=new Int32Array(c);return _.arraycopy(r,s,u,0,c),u}static binarySearch(r,s,a){a===void 0&&(a=T.numberComparator);let c=0,u=r.length-1;for(;c<=u;){const d=u+c>>1,h=a(s,r[d]);if(h>0)c=d+1;else if(h<0)u=d-1;else return d}return-c-1}static numberComparator(r,s){return r-s}}class N{static numberOfTrailingZeros(r){let s;if(r===0)return 32;let a=31;return s=r<<16,s!==0&&(a-=16,r=s),s=r<<8,s!==0&&(a-=8,r=s),s=r<<4,s!==0&&(a-=4,r=s),s=r<<2,s!==0&&(a-=2,r=s),a-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let s=1;return r>>>16||(s+=16,r<<=16),r>>>24||(s+=8,r<<=8),r>>>28||(s+=4,r<<=4),r>>>30||(s+=2,r<<=2),s-=r>>>31,s}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,s){return Math.trunc(r/s)}static parseInt(r,s=void 0){return parseInt(r,s)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(r,s){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,s==null?this.bits=B.makeArray(r):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const s=B.makeArray(r);_.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const s=this.size;if(r>=s)return s;const a=this.bits;let c=Math.floor(r/32),u=a[c];u&=~((1<<(r&31))-1);const d=a.length;for(;u===0;){if(++c===d)return s;u=a[c]}const h=c*32+N.numberOfTrailingZeros(u);return h>s?s:h}getNextUnset(r){const s=this.size;if(r>=s)return s;const a=this.bits;let c=Math.floor(r/32),u=~a[c];u&=~((1<<(r&31))-1);const d=a.length;for(;u===0;){if(++c===d)return s;u=~a[c]}const h=c*32+N.numberOfTrailingZeros(u);return h>s?s:h}setBulk(r,s){this.bits[Math.floor(r/32)]=s}setRange(r,s){if(s<r||r<0||s>this.size)throw new v;if(s===r)return;s--;const a=Math.floor(r/32),c=Math.floor(s/32),u=this.bits;for(let d=a;d<=c;d++){const h=d>a?0:r&31,y=(2<<(d<c?31:s&31))-(1<<h);u[d]|=y}}clear(){const r=this.bits.length,s=this.bits;for(let a=0;a<r;a++)s[a]=0}isRange(r,s,a){if(s<r||r<0||s>this.size)throw new v;if(s===r)return!0;s--;const c=Math.floor(r/32),u=Math.floor(s/32),d=this.bits;for(let h=c;h<=u;h++){const m=h>c?0:r&31,C=(2<<(h<u?31:s&31))-(1<<m)&4294967295;if((d[h]&C)!==(a?C:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,s){if(s<0||s>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let a=s;a>0;a--)this.appendBit((r>>a-1&1)===1)}appendBitArray(r){const s=r.size;this.ensureCapacity(this.size+s);for(let a=0;a<s;a++)this.appendBit(r.get(a))}xor(r){if(this.size!==r.size)throw new v("Sizes don't match");const s=this.bits;for(let a=0,c=s.length;a<c;a++)s[a]^=r.bits[a]}toBytes(r,s,a,c){for(let u=0;u<c;u++){let d=0;for(let h=0;h<8;h++)this.get(r)&&(d|=1<<7-h),r++;s[a+u]=d}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),a=s+1,c=this.bits;for(let u=0;u<a;u++){let d=c[u];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,r[s-u]=d}if(this.size!==a*32){const u=a*32-this.size;let d=r[0]>>>u;for(let h=1;h<a;h++){const m=r[h];d|=m<<32-u,r[h-1]=d,d=m>>>u}r[a-1]=d}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof B))return!1;const s=r;return this.size===s.size&&T.equals(this.bits,s.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let r="";for(let s=0,a=this.size;s<a;s++)s&7||(r+=" "),r+=this.get(s)?"X":".";return r}clone(){return new B(this.size,this.bits.slice())}}var W;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var Z=W;class F extends p{static getFormatInstance(){return new F}}F.kind="FormatException";var J;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(J||(J={}));class G{constructor(r,s,a,...c){this.valueIdentifier=r,this.name=a,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=c,G.VALUE_IDENTIFIER_TO_ECI.set(r,this),G.NAME_TO_ECI.set(a,this);const u=this.values;for(let d=0,h=u.length;d!==h;d++){const m=u[d];G.VALUES_TO_ECI.set(m,this)}for(const d of c)G.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new F("incorect value");const s=G.VALUES_TO_ECI.get(r);if(s===void 0)throw new F("incorect value");return s}static getCharacterSetECIByName(r){const s=G.NAME_TO_ECI.get(r);if(s===void 0)throw new F("incorect value");return s}equals(r){if(!(r instanceof G))return!1;const s=r;return this.getName()===s.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(J.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(J.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(J.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(J.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(J.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(J.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(J.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(J.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(J.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(J.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(J.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(J.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(J.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(J.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(J.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(J.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(J.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(J.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(J.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(J.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(J.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(J.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(J.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(J.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(J.Big5,28,"Big5"),G.GB18030=new G(J.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(J.EUC_KR,30,"EUC_KR","EUC-KR");class ge extends p{}ge.kind="UnsupportedOperationException";class Ee{static decode(r,s){const a=this.encodingName(s);return this.customDecoder?this.customDecoder(r,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(r,a):new TextDecoder(a).decode(r)}static shouldDecodeOnFallback(r){return!Ee.isBrowser()&&r==="ISO-8859-1"}static encode(r,s){const a=this.encodingName(s);return this.customEncoder?this.customEncoder(r,a):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof G?r:G.getCharacterSetECIByName(r)}static decodeFallback(r,s){const a=this.encodingCharacterSet(s);if(Ee.isDecodeFallbackSupported(a)){let c="";for(let u=0,d=r.length;u<d;u++){let h=r[u].toString(16);h.length<2&&(h="0"+h),c+="%"+h}return decodeURIComponent(c)}if(a.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new ge(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(G.UTF8)||r.equals(G.ISO8859_1)||r.equals(G.ASCII)}static encodeFallback(r){const a=btoa(unescape(encodeURIComponent(r))).split(""),c=[];for(let u=0;u<a.length;u++)c.push(a[u].charCodeAt(0));return new Uint8Array(c)}}class ee{static castAsNonUtf8Char(r,s=null){const a=s?s.getName():this.ISO88591;return Ee.decode(new Uint8Array([r]),a)}static guessEncoding(r,s){if(s!=null&&s.get(Z.CHARACTER_SET)!==void 0)return s.get(Z.CHARACTER_SET).toString();const a=r.length;let c=!0,u=!0,d=!0,h=0,m=0,y=0,C=0,S=0,I=0,D=0,j=0,V=0,X=0,$=0;const ue=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let de=0;de<a&&(c||u||d);de++){const oe=r[de]&255;d&&(h>0?oe&128?h--:d=!1:oe&128&&(oe&64?(h++,oe&32?(h++,oe&16?(h++,oe&8?d=!1:C++):y++):m++):d=!1)),c&&(oe>127&&oe<160?c=!1:oe>159&&(oe<192||oe===215||oe===247)&&$++),u&&(S>0?oe<64||oe===127||oe>252?u=!1:S--:oe===128||oe===160||oe>239?u=!1:oe>160&&oe<224?(I++,j=0,D++,D>V&&(V=D)):oe>127?(S++,D=0,j++,j>X&&(X=j)):(D=0,j=0))}return d&&h>0&&(d=!1),u&&S>0&&(u=!1),d&&(ue||m+y+C>0)?ee.UTF8:u&&(ee.ASSUME_SHIFT_JIS||V>=3||X>=3)?ee.SHIFT_JIS:c&&u?V===2&&I===2||$*10>=a?ee.SHIFT_JIS:ee.ISO88591:c?ee.ISO88591:u?ee.SHIFT_JIS:d?ee.UTF8:ee.PLATFORM_DEFAULT_ENCODING}static format(r,...s){let a=-1;function c(d,h,m,y,C,S){if(d==="%%")return"%";if(s[++a]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,D;switch(S){case"s":D=s[a];break;case"c":D=s[a][0];break;case"f":D=parseFloat(s[a]).toFixed(d);break;case"p":D=parseFloat(s[a]).toPrecision(d);break;case"e":D=parseFloat(s[a]).toExponential(d);break;case"x":D=parseInt(s[a]).toString(I||16);break;case"d":D=parseFloat(parseInt(s[a],I||10).toPrecision(d)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(I);let j=parseInt(m),V=m&&m[0]+""=="0"?"0":" ";for(;D.length<j;)D=h!==void 0?D+V:V+D;return D}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}static getBytes(r,s){return Ee.encode(r,s)}static getCharCode(r,s=0){return r.charCodeAt(s)}static getCharAt(r){return String.fromCharCode(r)}}ee.SHIFT_JIS=G.SJIS.getName(),ee.GB2312="GB2312",ee.ISO88591=G.ISO8859_1.getName(),ee.EUC_JP="EUC_JP",ee.UTF8=G.UTF8.getName(),ee.PLATFORM_DEFAULT_ENCODING=ee.UTF8,ee.ASSUME_SHIFT_JIS=!1;class ae{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=ee.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,s,a){for(let c=s;s<s+a;c++)this.append(r[c]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+1)}substring(r,s){return this.value.substring(r,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+s.length)}}class re{constructor(r,s,a,c){if(this.width=r,this.height=s,this.rowSize=a,this.bits=c,s==null&&(s=r),this.height=s,r<1||s<1)throw new v("Both dimensions must be greater than 0");a==null&&(a=Math.floor((r+31)/32)),this.rowSize=a,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const s=r.length,a=r[0].length,c=new re(a,s);for(let u=0;u<s;u++){const d=r[u];for(let h=0;h<a;h++)d[h]&&c.set(h,u)}return c}static parseFromString(r,s,a){if(r===null)throw new v("stringRepresentation cannot be null");const c=new Array(r.length);let u=0,d=0,h=-1,m=0,y=0;for(;y<r.length;)if(r.charAt(y)===`
`||r.charAt(y)==="\r"){if(u>d){if(h===-1)h=u-d;else if(u-d!==h)throw new v("row lengths do not match");d=u,m++}y++}else if(r.substring(y,y+s.length)===s)y+=s.length,c[u]=!0,u++;else if(r.substring(y,y+a.length)===a)y+=a.length,c[u]=!1,u++;else throw new v("illegal character encountered: "+r.substring(y));if(u>d){if(h===-1)h=u-d;else if(u-d!==h)throw new v("row lengths do not match");m++}const C=new re(h,m);for(let S=0;S<u;S++)c[S]&&C.set(Math.floor(S%h),Math.floor(S/h));return C}get(r,s){const a=s*this.rowSize+Math.floor(r/32);return(this.bits[a]>>>(r&31)&1)!==0}set(r,s){const a=s*this.rowSize+Math.floor(r/32);this.bits[a]|=1<<(r&31)&4294967295}unset(r,s){const a=s*this.rowSize+Math.floor(r/32);this.bits[a]&=~(1<<(r&31)&4294967295)}flip(r,s){const a=s*this.rowSize+Math.floor(r/32);this.bits[a]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new v("input matrix dimensions do not match");const s=new B(Math.floor(this.width/32)+1),a=this.rowSize,c=this.bits;for(let u=0,d=this.height;u<d;u++){const h=u*a,m=r.getRow(u,s).getBitArray();for(let y=0;y<a;y++)c[h+y]^=m[y]}}clear(){const r=this.bits,s=r.length;for(let a=0;a<s;a++)r[a]=0}setRegion(r,s,a,c){if(s<0||r<0)throw new v("Left and top must be nonnegative");if(c<1||a<1)throw new v("Height and width must be at least 1");const u=r+a,d=s+c;if(d>this.height||u>this.width)throw new v("The region must fit inside the matrix");const h=this.rowSize,m=this.bits;for(let y=s;y<d;y++){const C=y*h;for(let S=r;S<u;S++)m[C+Math.floor(S/32)]|=1<<(S&31)&4294967295}}getRow(r,s){s==null||s.getSize()<this.width?s=new B(this.width):s.clear();const a=this.rowSize,c=this.bits,u=r*a;for(let d=0;d<a;d++)s.setBulk(d*32,c[u+d]);return s}setRow(r,s){_.arraycopy(s.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),s=this.getHeight();let a=new B(r),c=new B(r);for(let u=0,d=Math.floor((s+1)/2);u<d;u++)a=this.getRow(u,a),c=this.getRow(s-1-u,c),a.reverse(),c.reverse(),this.setRow(u,c),this.setRow(s-1-u,a)}getEnclosingRectangle(){const r=this.width,s=this.height,a=this.rowSize,c=this.bits;let u=r,d=s,h=-1,m=-1;for(let y=0;y<s;y++)for(let C=0;C<a;C++){const S=c[y*a+C];if(S!==0){if(y<d&&(d=y),y>m&&(m=y),C*32<u){let I=0;for(;!(S<<31-I&4294967295);)I++;C*32+I<u&&(u=C*32+I)}if(C*32+31>h){let I=31;for(;!(S>>>I);)I--;C*32+I>h&&(h=C*32+I)}}}return h<u||m<d?null:Int32Array.from([u,d,h-u+1,m-d+1])}getTopLeftOnBit(){const r=this.rowSize,s=this.bits;let a=0;for(;a<s.length&&s[a]===0;)a++;if(a===s.length)return null;const c=a/r;let u=a%r*32;const d=s[a];let h=0;for(;!(d<<31-h&4294967295);)h++;return u+=h,Int32Array.from([u,c])}getBottomRightOnBit(){const r=this.rowSize,s=this.bits;let a=s.length-1;for(;a>=0&&s[a]===0;)a--;if(a<0)return null;const c=Math.floor(a/r);let u=Math.floor(a%r)*32;const d=s[a];let h=31;for(;!(d>>>h);)h--;return u+=h,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof re))return!1;const s=r;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&T.equals(this.bits,s.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+T.hashCode(this.bits),r}toString(r="X ",s="  ",a=`
`){return this.buildToString(r,s,a)}buildToString(r,s,a){let c=new ae;for(let u=0,d=this.height;u<d;u++){for(let h=0,m=this.width;h<m;h++)c.append(this.get(h,u)?r:s);c.append(a)}return c.toString()}clone(){return new re(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends p{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class Ae extends P{constructor(r){super(r),this.luminances=Ae.EMPTY,this.buckets=new Int32Array(Ae.LUMINANCE_BUCKETS)}getBlackRow(r,s){const a=this.getLuminanceSource(),c=a.getWidth();s==null||s.getSize()<c?s=new B(c):s.clear(),this.initArrays(c);const u=a.getRow(r,this.luminances),d=this.buckets;for(let m=0;m<c;m++)d[(u[m]&255)>>Ae.LUMINANCE_SHIFT]++;const h=Ae.estimateBlackPoint(d);if(c<3)for(let m=0;m<c;m++)(u[m]&255)<h&&s.set(m);else{let m=u[0]&255,y=u[1]&255;for(let C=1;C<c-1;C++){const S=u[C+1]&255;(y*4-m-S)/2<h&&s.set(C),m=y,y=S}}return s}getBlackMatrix(){const r=this.getLuminanceSource(),s=r.getWidth(),a=r.getHeight(),c=new re(s,a);this.initArrays(s);const u=this.buckets;for(let m=1;m<5;m++){const y=Math.floor(a*m/5),C=r.getRow(y,this.luminances),S=Math.floor(s*4/5);for(let I=Math.floor(s/5);I<S;I++){const D=C[I]&255;u[D>>Ae.LUMINANCE_SHIFT]++}}const d=Ae.estimateBlackPoint(u),h=r.getMatrix();for(let m=0;m<a;m++){const y=m*s;for(let C=0;C<s;C++)(h[y+C]&255)<d&&c.set(C,m)}return c}createBinarizer(r){return new Ae(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const s=this.buckets;for(let a=0;a<Ae.LUMINANCE_BUCKETS;a++)s[a]=0}static estimateBlackPoint(r){const s=r.length;let a=0,c=0,u=0;for(let C=0;C<s;C++)r[C]>u&&(c=C,u=r[C]),r[C]>a&&(a=r[C]);let d=0,h=0;for(let C=0;C<s;C++){const S=C-c,I=r[C]*S*S;I>h&&(d=C,h=I)}if(c>d){const C=c;c=d,d=C}if(d-c<=s/16)throw new Y;let m=d-1,y=-1;for(let C=d-1;C>c;C--){const S=C-c,I=S*S*(d-C)*(a-r[C]);I>y&&(m=C,y=I)}return m<<Ae.LUMINANCE_SHIFT}}Ae.LUMINANCE_BITS=5,Ae.LUMINANCE_SHIFT=8-Ae.LUMINANCE_BITS,Ae.LUMINANCE_BUCKETS=1<<Ae.LUMINANCE_BITS,Ae.EMPTY=Uint8ClampedArray.from([0]);class xe extends Ae{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),s=r.getWidth(),a=r.getHeight();if(s>=xe.MINIMUM_DIMENSION&&a>=xe.MINIMUM_DIMENSION){const c=r.getMatrix();let u=s>>xe.BLOCK_SIZE_POWER;s&xe.BLOCK_SIZE_MASK&&u++;let d=a>>xe.BLOCK_SIZE_POWER;a&xe.BLOCK_SIZE_MASK&&d++;const h=xe.calculateBlackPoints(c,u,d,s,a),m=new re(s,a);xe.calculateThresholdForBlock(c,u,d,s,a,h,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new xe(r)}static calculateThresholdForBlock(r,s,a,c,u,d,h){const m=u-xe.BLOCK_SIZE,y=c-xe.BLOCK_SIZE;for(let C=0;C<a;C++){let S=C<<xe.BLOCK_SIZE_POWER;S>m&&(S=m);const I=xe.cap(C,2,a-3);for(let D=0;D<s;D++){let j=D<<xe.BLOCK_SIZE_POWER;j>y&&(j=y);const V=xe.cap(D,2,s-3);let X=0;for(let ue=-2;ue<=2;ue++){const de=d[I+ue];X+=de[V-2]+de[V-1]+de[V]+de[V+1]+de[V+2]}const $=X/25;xe.thresholdBlock(r,j,S,$,c,h)}}}static cap(r,s,a){return r<s?s:r>a?a:r}static thresholdBlock(r,s,a,c,u,d){for(let h=0,m=a*u+s;h<xe.BLOCK_SIZE;h++,m+=u)for(let y=0;y<xe.BLOCK_SIZE;y++)(r[m+y]&255)<=c&&d.set(s+y,a+h)}static calculateBlackPoints(r,s,a,c,u){const d=u-xe.BLOCK_SIZE,h=c-xe.BLOCK_SIZE,m=new Array(a);for(let y=0;y<a;y++){m[y]=new Int32Array(s);let C=y<<xe.BLOCK_SIZE_POWER;C>d&&(C=d);for(let S=0;S<s;S++){let I=S<<xe.BLOCK_SIZE_POWER;I>h&&(I=h);let D=0,j=255,V=0;for(let $=0,ue=C*c+I;$<xe.BLOCK_SIZE;$++,ue+=c){for(let de=0;de<xe.BLOCK_SIZE;de++){const oe=r[ue+de]&255;D+=oe,oe<j&&(j=oe),oe>V&&(V=oe)}if(V-j>xe.MIN_DYNAMIC_RANGE)for($++,ue+=c;$<xe.BLOCK_SIZE;$++,ue+=c)for(let de=0;de<xe.BLOCK_SIZE;de++)D+=r[ue+de]&255}let X=D>>xe.BLOCK_SIZE_POWER*2;if(V-j<=xe.MIN_DYNAMIC_RANGE&&(X=j/2,y>0&&S>0)){const $=(m[y-1][S]+2*m[y][S-1]+m[y-1][S-1])/4;j<$&&(X=$)}m[y][S]=X}}return m}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class ne{constructor(r,s){this.width=r,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,s,a,c){throw new ge("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ge("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ge("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let s=new ae;for(let a=0;a<this.height;a++){const c=this.getRow(a,r);for(let u=0;u<this.width;u++){const d=c[u]&255;let h;d<64?h="#":d<128?h="+":d<192?h=".":h=" ",s.append(h)}s.append(`
`)}return s.toString()}}class pe extends ne{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,s){const a=this.delegate.getRow(r,s),c=this.getWidth();for(let u=0;u<c;u++)a[u]=255-(a[u]&255);return a}getMatrix(){const r=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(s);for(let c=0;c<s;c++)a[c]=255-(r[c]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(r,s,a,c){return new pe(this.delegate.crop(r,s,a,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new pe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new pe(this.delegate.rotateCounterClockwise45())}}class Te extends ne{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=Te.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const s=r.getContext("2d").getImageData(0,0,r.width,r.height);return Te.toGrayscaleBuffer(s.data,r.width,r.height)}static toGrayscaleBuffer(r,s,a){const c=new Uint8ClampedArray(s*a);for(let u=0,d=0,h=r.length;u<h;u+=4,d++){let m;if(r[u+3]===0)m=255;else{const C=r[u],S=r[u+1],I=r[u+2];m=306*C+601*S+117*I+512>>10}c[d]=m}return c}getRow(r,s){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const a=this.getWidth(),c=r*a;return s===null?s=this.buffer.slice(c,c+a):(s.length<a&&(s=new Uint8ClampedArray(a)),s.set(this.buffer.slice(c,c+a))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,s,a,c){return super.crop(r,s,a,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const s=this.getTempCanvasElement(),a=s.getContext("2d"),c=r*Te.DEGREE_TO_RADIANS,u=this.canvas.width,d=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*d),m=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*d);return s.width=h,s.height=m,a.translate(h/2,m/2),a.rotate(c),a.drawImage(this.canvas,u/-2,d/-2),this.buffer=Te.makeBufferFromCanvasImageData(s),this}invert(){return new pe(this)}}Te.DEGREE_TO_RADIANS=Math.PI/180;class ze{constructor(r,s,a){this.deviceId=r,this.label=s,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ve=(globalThis||Tl||self||window||void 0)&&(globalThis||Tl||self||window||void 0).__awaiter||function(A,r,s,a){function c(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function h(C){try{y(a.next(C))}catch(S){d(S)}}function m(C){try{y(a.throw(C))}catch(S){d(S)}}function y(C){C.done?u(C.value):c(C.value).then(h,m)}y((a=a.apply(A,r||[])).next())})};class Vt{constructor(r,s=500,a){this.reader=r,this.timeBetweenScansMillis=s,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return Ve(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const a of r){const c=a.kind==="video"?"videoinput":a.kind;if(c!=="videoinput")continue;const u=a.deviceId||a.id,d=a.label||`Video device ${s.length+1}`,h=a.groupId,m={deviceId:u,label:d,kind:c,groupId:h};s.push(m)}return s})}getVideoInputDevices(){return Ve(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new ze(s.deviceId,s.label))})}findDeviceById(r){return Ve(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(a=>a.deviceId===r):null})}decodeFromInputVideoDevice(r,s){return Ve(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,s)})}decodeOnceFromVideoDevice(r,s){return Ve(this,void 0,void 0,function*(){this.reset();let a;r?a={deviceId:{exact:r}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeOnceFromConstraints(c,s)})}decodeOnceFromConstraints(r,s){return Ve(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(a,s)})}decodeOnceFromStream(r,s){return Ve(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(r,s);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(r,s,a){return Ve(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,s,a)})}decodeFromVideoDevice(r,s,a){return Ve(this,void 0,void 0,function*(){let c;r?c={deviceId:{exact:r}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,s,a)})}decodeFromConstraints(r,s,a){return Ve(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(c,s,a)})}decodeFromStream(r,s,a){return Ve(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(r,s);return yield this.decodeContinuously(c,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,s){return Ve(this,void 0,void 0,function*(){const a=this.prepareVideoElement(s);return this.addVideoSource(a,r),this.videoElement=a,this.stream=r,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(r){return new Promise((s,a)=>this.playVideoOnLoad(r,()=>s()))}playVideoOnLoad(r,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",s),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return Ve(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,s){const a=document.getElementById(r);if(!a)throw new w(`element with id '${r}' not found`);if(a.nodeName.toLowerCase()!==s.toLowerCase())throw new w(`element with id '${r}' must be an ${s} element`);return a}decodeFromImage(r,s){if(!r&&!s)throw new w("either imageElement with a src set or an url must be provided");return s&&!r?this.decodeFromImageUrl(s):this.decodeFromImageElement(r)}decodeFromVideo(r,s){if(!r&&!s)throw new w("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,s,a){if(r===void 0&&s===void 0)throw new w("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrlContinuously(s,a):this.decodeFromVideoElementContinuously(r,a)}decodeFromImageElement(r){if(!r)throw new w("An image element must be provided.");this.reset();const s=this.prepareImageElement(r);this.imageElement=s;let a;return this.isImageLoaded(s)?a=this.decodeOnce(s,!1,!0):a=this._decodeOnLoadImage(s),a}decodeFromVideoElement(r){const s=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(r,s){const a=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(a,s)}_decodeFromVideoElementSetup(r){if(!r)throw new w("A video element must be provided.");this.reset();const s=this.prepareVideoElement(r);return this.videoElement=s,s}decodeFromImageUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const a=this._decodeOnLoadImage(s);return s.src=r,a}decodeFromVideoUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),a=this.decodeFromVideoElement(s);return s.src=r,a}decodeFromVideoUrlContinuously(r,s){if(!r)throw new w("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(a,s);return a.src=r,c}_decodeOnLoadImage(r){return new Promise((s,a)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(s,a),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return Ve(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,s){return Ve(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,s)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let s;return typeof r>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(s=r),s}prepareVideoElement(r){let s;return!r&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(s=r),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(r,s=!0,a=!0){this._stopAsyncDecode=!1;const c=(u,d)=>{if(this._stopAsyncDecode){d(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(r);u(h)}catch(h){const m=s&&h instanceof Y,C=(h instanceof M||h instanceof F)&&a;if(m||C)return setTimeout(c,this._timeBetweenDecodingAttempts,u,d);d(h)}};return new Promise((u,d)=>c(u,d))}decodeContinuously(r,s){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(r);s(c,null),setTimeout(a,this.timeBetweenScansMillis)}catch(c){s(null,c);const u=c instanceof M||c instanceof F,d=c instanceof Y;(u||d)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(r){const s=this.createBinaryBitmap(r);return this.decodeBitmap(s)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,s,a){s||(s={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(r,s,a=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const s=this.getCaptureCanvas(r),a=new Te(s),c=new xe(a);return new b(c)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const s=this.createCaptureCanvas(r);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let a,c;return typeof r<"u"&&(r instanceof HTMLVideoElement?(a=r.videoWidth,c=r.videoHeight):r instanceof HTMLImageElement&&(a=r.naturalWidth||r.width,c=r.naturalHeight||r.height)),s.style.width=a+"px",s.style.height=c+"px",s.width=a,s.height=c,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,s){try{r.srcObject=s}catch{r.src=URL.createObjectURL(s)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class ut{constructor(r,s,a=s==null?0:8*s.length,c,u,d=_.currentTimeMillis()){this.text=r,this.rawBytes=s,this.numBits=a,this.resultPoints=c,this.format=u,this.timestamp=d,this.text=r,this.rawBytes=s,a==null?this.numBits=s==null?0:8*s.length:this.numBits=a,this.resultPoints=c,this.format=u,this.resultMetadata=null,d==null?this.timestamp=_.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,s)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const s=this.resultPoints;if(s===null)this.resultPoints=r;else if(r!==null&&r.length>0){const a=new Array(s.length+r.length);_.arraycopy(s,0,a,0,s.length),_.arraycopy(r,0,a,s.length,r.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var br;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(br||(br={}));var Me=br,Zn;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Zn||(Zn={}));var kt=Zn;class Tr{constructor(r,s,a,c,u=-1,d=-1){this.rawBytes=r,this.text=s,this.byteSegments=a,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=d,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class zr{exp(r){return this.expTable[r]}log(r){if(r===0)throw new v;return this.logTable[r]}static addOrSubtract(r,s){return r^s}}class Zt{constructor(r,s){if(s.length===0)throw new v;this.field=r;const a=s.length;if(a>1&&s[0]===0){let c=1;for(;c<a&&s[c]===0;)c++;c===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-c),_.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const s=this.coefficients;let a;if(r===1){a=0;for(let d=0,h=s.length;d!==h;d++){const m=s[d];a=zr.addOrSubtract(a,m)}return a}a=s[0];const c=s.length,u=this.field;for(let d=1;d<c;d++)a=zr.addOrSubtract(u.multiply(r,a),s[d]);return a}addOrSubtract(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,a=r.coefficients;if(s.length>a.length){const d=s;s=a,a=d}let c=new Int32Array(a.length);const u=a.length-s.length;_.arraycopy(a,0,c,0,u);for(let d=u;d<a.length;d++)c[d]=zr.addOrSubtract(s[d-u],a[d]);return new Zt(this.field,c)}multiply(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const s=this.coefficients,a=s.length,c=r.coefficients,u=c.length,d=new Int32Array(a+u-1),h=this.field;for(let m=0;m<a;m++){const y=s[m];for(let C=0;C<u;C++)d[m+C]=zr.addOrSubtract(d[m+C],h.multiply(y,c[C]))}return new Zt(h,d)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const s=this.coefficients.length,a=this.field,c=new Int32Array(s),u=this.coefficients;for(let d=0;d<s;d++)c[d]=a.multiply(u[d],r);return new Zt(a,c)}multiplyByMonomial(r,s){if(r<0)throw new v;if(s===0)return this.field.getZero();const a=this.coefficients,c=a.length,u=new Int32Array(c+r),d=this.field;for(let h=0;h<c;h++)u[h]=d.multiply(a[h],s);return new Zt(d,u)}divide(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new v("Divide by 0");const s=this.field;let a=s.getZero(),c=this;const u=r.getCoefficient(r.getDegree()),d=s.inverse(u);for(;c.getDegree()>=r.getDegree()&&!c.isZero();){const h=c.getDegree()-r.getDegree(),m=s.multiply(c.getCoefficient(c.getDegree()),d),y=r.multiplyByMonomial(h,m),C=s.buildMonomial(h,m);a=a.addOrSubtract(C),c=c.addOrSubtract(y)}return[a,c]}toString(){let r="";for(let s=this.getDegree();s>=0;s--){let a=this.getCoefficient(s);if(a!==0){if(a<0?(r+=" - ",a=-a):r.length>0&&(r+=" + "),s===0||a!==1){const c=this.field.log(a);c===0?r+="1":c===1?r+="a":(r+="a^",r+=c)}s!==0&&(s===1?r+="x":(r+="x^",r+=s))}}return r}}class ci extends p{}ci.kind="ArithmeticException";class $e extends zr{constructor(r,s,a){super(),this.primitive=r,this.size=s,this.generatorBase=a;const c=new Int32Array(s);let u=1;for(let h=0;h<s;h++)c[h]=u,u*=2,u>=s&&(u^=r,u&=s-1);this.expTable=c;const d=new Int32Array(s);for(let h=0;h<s-1;h++)d[c[h]]=h;this.logTable=d,this.zero=new Zt(this,Int32Array.from([0])),this.one=new Zt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new v;if(s===0)return this.zero;const a=new Int32Array(r+1);return a[0]=s,new Zt(this,a)}inverse(r){if(r===0)throw new ci;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}$e.AZTEC_DATA_12=new $e(4201,4096,1),$e.AZTEC_DATA_10=new $e(1033,1024,1),$e.AZTEC_DATA_6=new $e(67,64,1),$e.AZTEC_PARAM=new $e(19,16,1),$e.QR_CODE_FIELD_256=new $e(285,256,0),$e.DATA_MATRIX_FIELD_256=new $e(301,256,1),$e.AZTEC_DATA_8=$e.DATA_MATRIX_FIELD_256,$e.MAXICODE_FIELD_64=$e.AZTEC_DATA_6;class Ir extends p{}Ir.kind="ReedSolomonException";class qn extends p{}qn.kind="IllegalStateException";class ui{constructor(r){this.field=r}decode(r,s){const a=this.field,c=new Zt(a,r),u=new Int32Array(s);let d=!0;for(let D=0;D<s;D++){const j=c.evaluateAt(a.exp(D+a.getGeneratorBase()));u[u.length-1-D]=j,j!==0&&(d=!1)}if(d)return;const h=new Zt(a,u),m=this.runEuclideanAlgorithm(a.buildMonomial(s,1),h,s),y=m[0],C=m[1],S=this.findErrorLocations(y),I=this.findErrorMagnitudes(C,S);for(let D=0;D<S.length;D++){const j=r.length-1-a.log(S[D]);if(j<0)throw new Ir("Bad error location");r[j]=$e.addOrSubtract(r[j],I[D])}}runEuclideanAlgorithm(r,s,a){if(r.getDegree()<s.getDegree()){const D=r;r=s,s=D}const c=this.field;let u=r,d=s,h=c.getZero(),m=c.getOne();for(;d.getDegree()>=(a/2|0);){let D=u,j=h;if(u=d,h=m,u.isZero())throw new Ir("r_{i-1} was zero");d=D;let V=c.getZero();const X=u.getCoefficient(u.getDegree()),$=c.inverse(X);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){const ue=d.getDegree()-u.getDegree(),de=c.multiply(d.getCoefficient(d.getDegree()),$);V=V.addOrSubtract(c.buildMonomial(ue,de)),d=d.addOrSubtract(u.multiplyByMonomial(ue,de))}if(m=V.multiply(h).addOrSubtract(j),d.getDegree()>=u.getDegree())throw new qn("Division algorithm failed to reduce polynomial?")}const y=m.getCoefficient(0);if(y===0)throw new Ir("sigmaTilde(0) was zero");const C=c.inverse(y),S=m.multiplyScalar(C),I=d.multiplyScalar(C);return[S,I]}findErrorLocations(r){const s=r.getDegree();if(s===1)return Int32Array.from([r.getCoefficient(1)]);const a=new Int32Array(s);let c=0;const u=this.field;for(let d=1;d<u.getSize()&&c<s;d++)r.evaluateAt(d)===0&&(a[c]=u.inverse(d),c++);if(c!==s)throw new Ir("Error locator degree does not match number of roots");return a}findErrorMagnitudes(r,s){const a=s.length,c=new Int32Array(a),u=this.field;for(let d=0;d<a;d++){const h=u.inverse(s[d]);let m=1;for(let y=0;y<a;y++)if(d!==y){const C=u.multiply(s[y],h),S=C&1?C&-2:C|1;m=u.multiply(m,S)}c[d]=u.multiply(r.evaluateAt(h),u.inverse(m)),u.getGeneratorBase()!==0&&(c[d]=u.multiply(c[d],h))}return c}}var Ht;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(Ht||(Ht={}));class dt{decode(r){this.ddata=r;let s=r.getBits(),a=this.extractBits(s),c=this.correctBits(a),u=dt.convertBoolArrayToByteArray(c),d=dt.getEncodedData(c),h=new Tr(u,d,null,null);return h.setNumBits(c.length),h}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let s=r.length,a=Ht.UPPER,c=Ht.UPPER,u="",d=0;for(;d<s;)if(c===Ht.BINARY){if(s-d<5)break;let h=dt.readCode(r,d,5);if(d+=5,h===0){if(s-d<11)break;h=dt.readCode(r,d,11)+31,d+=11}for(let m=0;m<h;m++){if(s-d<8){d=s;break}const y=dt.readCode(r,d,8);u+=ee.castAsNonUtf8Char(y),d+=8}c=a}else{let h=c===Ht.DIGIT?4:5;if(s-d<h)break;let m=dt.readCode(r,d,h);d+=h;let y=dt.getCharacter(c,m);y.startsWith("CTRL_")?(a=c,c=dt.getTable(y.charAt(5)),y.charAt(6)==="L"&&(a=c)):(u+=y,c=a)}return u}static getTable(r){switch(r){case"L":return Ht.LOWER;case"P":return Ht.PUNCT;case"M":return Ht.MIXED;case"D":return Ht.DIGIT;case"B":return Ht.BINARY;case"U":default:return Ht.UPPER}}static getCharacter(r,s){switch(r){case Ht.UPPER:return dt.UPPER_TABLE[s];case Ht.LOWER:return dt.LOWER_TABLE[s];case Ht.MIXED:return dt.MIXED_TABLE[s];case Ht.PUNCT:return dt.PUNCT_TABLE[s];case Ht.DIGIT:return dt.DIGIT_TABLE[s];default:throw new qn("Bad table")}}correctBits(r){let s,a;this.ddata.getNbLayers()<=2?(a=6,s=$e.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,s=$e.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,s=$e.AZTEC_DATA_10):(a=12,s=$e.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=r.length/a;if(u<c)throw new F;let d=r.length%a,h=new Int32Array(u);for(let I=0;I<u;I++,d+=a)h[I]=dt.readCode(r,d,a);try{new ui(s).decode(h,u-c)}catch(I){throw new F(I)}let m=(1<<a)-1,y=0;for(let I=0;I<c;I++){let D=h[I];if(D===0||D===m)throw new F;(D===1||D===m-1)&&y++}let C=new Array(c*a-y),S=0;for(let I=0;I<c;I++){let D=h[I];if(D===1||D===m-1)C.fill(D>1,S,S+a-1),S+=a-1;else for(let j=a-1;j>=0;--j)C[S++]=(D&1<<j)!==0}return C}extractBits(r){let s=this.ddata.isCompact(),a=this.ddata.getNbLayers(),c=(s?11:14)+a*4,u=new Int32Array(c),d=new Array(this.totalBitsInLayer(a,s));if(s)for(let h=0;h<u.length;h++)u[h]=h;else{let h=c+1+2*N.truncDivision(N.truncDivision(c,2)-1,15),m=c/2,y=N.truncDivision(h,2);for(let C=0;C<m;C++){let S=C+N.truncDivision(C,15);u[m-C-1]=y-S-1,u[m+C]=y+S+1}}for(let h=0,m=0;h<a;h++){let y=(a-h)*4+(s?9:12),C=h*2,S=c-1-C;for(let I=0;I<y;I++){let D=I*2;for(let j=0;j<2;j++)d[m+D+j]=r.get(u[C+j],u[C+I]),d[m+2*y+D+j]=r.get(u[C+I],u[S-j]),d[m+4*y+D+j]=r.get(u[S-j],u[S-I]),d[m+6*y+D+j]=r.get(u[S-I],u[C+j])}m+=y*8}return d}static readCode(r,s,a){let c=0;for(let u=s;u<s+a;u++)c<<=1,r[u]&&(c|=1);return c}static readByte(r,s){let a=r.length-s;return a>=8?dt.readCode(r,s,8):dt.readCode(r,s,a)<<8-a}static convertBoolArrayToByteArray(r){let s=new Uint8Array((r.length+7)/8);for(let a=0;a<s.length;a++)s[a]=dt.readByte(r,8*a);return s}totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}dt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],dt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],dt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],dt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],dt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Qe{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,s,a,c){const u=r-a,d=s-c;return Math.sqrt(u*u+d*d)}static sum(r){let s=0;for(let a=0,c=r.length;a!==c;a++){const u=r[a];s+=u}return s}}class xl{static floatToIntBits(r){return r}}xl.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Oe{constructor(r,s){this.x=r,this.y=s}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof Oe){const s=r;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*xl.floatToIntBits(this.x)+xl.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const s=this.distance(r[0],r[1]),a=this.distance(r[1],r[2]),c=this.distance(r[0],r[2]);let u,d,h;if(a>=s&&a>=c?(d=r[0],u=r[1],h=r[2]):c>=a&&c>=s?(d=r[1],u=r[0],h=r[2]):(d=r[2],u=r[0],h=r[1]),this.crossProductZ(u,d,h)<0){const m=u;u=h,h=m}r[0]=u,r[1]=d,r[2]=h}static distance(r,s){return Qe.distance(r.x,r.y,s.x,s.y)}static crossProductZ(r,s,a){const c=s.x,u=s.y;return(a.x-c)*(r.y-u)-(a.y-u)*(r.x-c)}}class U{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class q extends U{constructor(r,s,a,c,u){super(r,s),this.compact=a,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class te{constructor(r,s,a,c){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),s==null&&(s=te.INIT_SIZE),a==null&&(a=r.getWidth()/2|0),c==null&&(c=r.getHeight()/2|0);const u=s/2|0;if(this.leftInit=a-u,this.rightInit=a+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let r=this.leftInit,s=this.rightInit,a=this.upInit,c=this.downInit,u=!1,d=!0,h=!1,m=!1,y=!1,C=!1,S=!1;const I=this.width,D=this.height;for(;d;){d=!1;let j=!0;for(;(j||!m)&&s<I;)j=this.containsBlackPoint(a,c,s,!1),j?(s++,d=!0,m=!0):m||s++;if(s>=I){u=!0;break}let V=!0;for(;(V||!y)&&c<D;)V=this.containsBlackPoint(r,s,c,!0),V?(c++,d=!0,y=!0):y||c++;if(c>=D){u=!0;break}let X=!0;for(;(X||!C)&&r>=0;)X=this.containsBlackPoint(a,c,r,!1),X?(r--,d=!0,C=!0):C||r--;if(r<0){u=!0;break}let $=!0;for(;($||!S)&&a>=0;)$=this.containsBlackPoint(r,s,a,!0),$?(a--,d=!0,S=!0):S||a--;if(a<0){u=!0;break}d&&(h=!0)}if(!u&&h){const j=s-r;let V=null;for(let de=1;V===null&&de<j;de++)V=this.getBlackPointOnSegment(r,c-de,r+de,c);if(V==null)throw new Y;let X=null;for(let de=1;X===null&&de<j;de++)X=this.getBlackPointOnSegment(r,a+de,r+de,a);if(X==null)throw new Y;let $=null;for(let de=1;$===null&&de<j;de++)$=this.getBlackPointOnSegment(s,a+de,s-de,a);if($==null)throw new Y;let ue=null;for(let de=1;ue===null&&de<j;de++)ue=this.getBlackPointOnSegment(s,c-de,s-de,c);if(ue==null)throw new Y;return this.centerEdges(ue,V,$,X)}else throw new Y}getBlackPointOnSegment(r,s,a,c){const u=Qe.round(Qe.distance(r,s,a,c)),d=(a-r)/u,h=(c-s)/u,m=this.image;for(let y=0;y<u;y++){const C=Qe.round(r+y*d),S=Qe.round(s+y*h);if(m.get(C,S))return new Oe(C,S)}return null}centerEdges(r,s,a,c){const u=r.getX(),d=r.getY(),h=s.getX(),m=s.getY(),y=a.getX(),C=a.getY(),S=c.getX(),I=c.getY(),D=te.CORR;return u<this.width/2?[new Oe(S-D,I+D),new Oe(h+D,m+D),new Oe(y-D,C-D),new Oe(u+D,d-D)]:[new Oe(S+D,I+D),new Oe(h+D,m-D),new Oe(y-D,C+D),new Oe(u-D,d-D)]}containsBlackPoint(r,s,a,c){const u=this.image;if(c){for(let d=r;d<=s;d++)if(u.get(d,a))return!0}else for(let d=r;d<=s;d++)if(u.get(a,d))return!0;return!1}}te.INIT_SIZE=10,te.CORR=1;class ve{static checkAndNudgePoints(r,s){const a=r.getWidth(),c=r.getHeight();let u=!0;for(let d=0;d<s.length&&u;d+=2){const h=Math.floor(s[d]),m=Math.floor(s[d+1]);if(h<-1||h>a||m<-1||m>c)throw new Y;u=!1,h===-1?(s[d]=0,u=!0):h===a&&(s[d]=a-1,u=!0),m===-1?(s[d+1]=0,u=!0):m===c&&(s[d+1]=c-1,u=!0)}u=!0;for(let d=s.length-2;d>=0&&u;d-=2){const h=Math.floor(s[d]),m=Math.floor(s[d+1]);if(h<-1||h>a||m<-1||m>c)throw new Y;u=!1,h===-1?(s[d]=0,u=!0):h===a&&(s[d]=a-1,u=!0),m===-1?(s[d+1]=0,u=!0):m===c&&(s[d+1]=c-1,u=!0)}}}class he{constructor(r,s,a,c,u,d,h,m,y){this.a11=r,this.a21=s,this.a31=a,this.a12=c,this.a22=u,this.a32=d,this.a13=h,this.a23=m,this.a33=y}static quadrilateralToQuadrilateral(r,s,a,c,u,d,h,m,y,C,S,I,D,j,V,X){const $=he.quadrilateralToSquare(r,s,a,c,u,d,h,m);return he.squareToQuadrilateral(y,C,S,I,D,j,V,X).times($)}transformPoints(r){const s=r.length,a=this.a11,c=this.a12,u=this.a13,d=this.a21,h=this.a22,m=this.a23,y=this.a31,C=this.a32,S=this.a33;for(let I=0;I<s;I+=2){const D=r[I],j=r[I+1],V=u*D+m*j+S;r[I]=(a*D+d*j+y)/V,r[I+1]=(c*D+h*j+C)/V}}transformPointsWithValues(r,s){const a=this.a11,c=this.a12,u=this.a13,d=this.a21,h=this.a22,m=this.a23,y=this.a31,C=this.a32,S=this.a33,I=r.length;for(let D=0;D<I;D++){const j=r[D],V=s[D],X=u*j+m*V+S;r[D]=(a*j+d*V+y)/X,s[D]=(c*j+h*V+C)/X}}static squareToQuadrilateral(r,s,a,c,u,d,h,m){const y=r-a+u-h,C=s-c+d-m;if(y===0&&C===0)return new he(a-r,u-a,r,c-s,d-c,s,0,0,1);{const S=a-u,I=h-u,D=c-d,j=m-d,V=S*j-I*D,X=(y*j-I*C)/V,$=(S*C-y*D)/V;return new he(a-r+X*a,h-r+$*h,r,c-s+X*c,m-s+$*m,s,X,$,1)}}static quadrilateralToSquare(r,s,a,c,u,d,h,m){return he.squareToQuadrilateral(r,s,a,c,u,d,h,m).buildAdjoint()}buildAdjoint(){return new he(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new he(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class fe extends ve{sampleGrid(r,s,a,c,u,d,h,m,y,C,S,I,D,j,V,X,$,ue,de){const oe=he.quadrilateralToQuadrilateral(c,u,d,h,m,y,C,S,I,D,j,V,X,$,ue,de);return this.sampleGridWithTransform(r,s,a,oe)}sampleGridWithTransform(r,s,a,c){if(s<=0||a<=0)throw new Y;const u=new re(s,a),d=new Float32Array(2*s);for(let h=0;h<a;h++){const m=d.length,y=h+.5;for(let C=0;C<m;C+=2)d[C]=C/2+.5,d[C+1]=y;c.transformPoints(d),ve.checkAndNudgePoints(r,d);try{for(let C=0;C<m;C+=2)r.get(Math.floor(d[C]),Math.floor(d[C+1]))&&u.set(C/2,h)}catch{throw new Y}}return u}}class Ce{static setGridSampler(r){Ce.gridSampler=r}static getInstance(){return Ce.gridSampler}}Ce.gridSampler=new fe;class je{constructor(r,s){this.x=r,this.y=s}toResultPoint(){return new Oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Pt{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let s=this.getMatrixCenter(),a=this.getBullsEyeCorners(s);if(r){let d=a[0];a[0]=a[2],a[2]=d}this.extractParameters(a);let c=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),u=this.getMatrixCornerPoints(a);return new q(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new Y;let s=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(r[0],r[1],s),this.sampleLine(r[1],r[2],s),this.sampleLine(r[2],r[3],s),this.sampleLine(r[3],r[0],s)]);this.shift=this.getRotation(a,s);let c=0;for(let d=0;d<4;d++){let h=a[(this.shift+d)%4];this.compact?(c<<=7,c+=h>>1&127):(c<<=10,c+=(h>>2&992)+(h>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(r,s){let a=0;r.forEach((c,u,d)=>{let h=(c>>s-2<<1)+(c&1);a=(a<<3)+h}),a=((a&1)<<11)+(a>>1);for(let c=0;c<4;c++)if(N.bitCount(a^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new Y}getCorrectedParameterData(r,s){let a,c;s?(a=7,c=2):(a=10,c=4);let u=a-c,d=new Int32Array(a);for(let m=a-1;m>=0;--m)d[m]=r&15,r>>=4;try{new ui($e.AZTEC_PARAM).decode(d,u)}catch{throw new Y}let h=0;for(let m=0;m<c;m++)h=(h<<4)+d[m];return h}getBullsEyeCorners(r){let s=r,a=r,c=r,u=r,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let S=this.getFirstDifferent(s,d,1,-1),I=this.getFirstDifferent(a,d,1,1),D=this.getFirstDifferent(c,d,-1,1),j=this.getFirstDifferent(u,d,-1,-1);if(this.nbCenterLayers>2){let V=this.distancePoint(j,S)*this.nbCenterLayers/(this.distancePoint(u,s)*(this.nbCenterLayers+2));if(V<.75||V>1.25||!this.isWhiteOrBlackRectangle(S,I,D,j))break}s=S,a=I,c=D,u=j,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let h=new Oe(s.getX()+.5,s.getY()-.5),m=new Oe(a.getX()+.5,a.getY()+.5),y=new Oe(c.getX()-.5,c.getY()+.5),C=new Oe(u.getX()-.5,u.getY()-.5);return this.expandSquare([h,m,y,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,s,a,c;try{let h=new te(this.image).detect();r=h[0],s=h[1],a=h[2],c=h[3]}catch{let m=this.image.getWidth()/2,y=this.image.getHeight()/2;r=this.getFirstDifferent(new je(m+7,y-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new je(m+7,y+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new je(m-7,y+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new je(m-7,y-7),!1,-1,-1).toResultPoint()}let u=Qe.round((r.getX()+c.getX()+s.getX()+a.getX())/4),d=Qe.round((r.getY()+c.getY()+s.getY()+a.getY())/4);try{let h=new te(this.image,15,u,d).detect();r=h[0],s=h[1],a=h[2],c=h[3]}catch{r=this.getFirstDifferent(new je(u+7,d-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new je(u+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new je(u-7,d+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new je(u-7,d-7),!1,-1,-1).toResultPoint()}return u=Qe.round((r.getX()+c.getX()+s.getX()+a.getX())/4),d=Qe.round((r.getY()+c.getY()+s.getY()+a.getY())/4),new je(u,d)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,s,a,c,u){let d=Ce.getInstance(),h=this.getDimension(),m=h/2-this.nbCenterLayers,y=h/2+this.nbCenterLayers;return d.sampleGrid(r,h,h,m,m,y,m,y,y,m,y,s.getX(),s.getY(),a.getX(),a.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(r,s,a){let c=0,u=this.distanceResultPoint(r,s),d=u/a,h=r.getX(),m=r.getY(),y=d*(s.getX()-r.getX())/u,C=d*(s.getY()-r.getY())/u;for(let S=0;S<a;S++)this.image.get(Qe.round(h+S*y),Qe.round(m+S*C))&&(c|=1<<a-S-1);return c}isWhiteOrBlackRectangle(r,s,a,c){let u=3;r=new je(r.getX()-u,r.getY()+u),s=new je(s.getX()-u,s.getY()-u),a=new je(a.getX()+u,a.getY()-u),c=new je(c.getX()+u,c.getY()+u);let d=this.getColor(c,r);if(d===0)return!1;let h=this.getColor(r,s);return h!==d||(h=this.getColor(s,a),h!==d)?!1:(h=this.getColor(a,c),h===d)}getColor(r,s){let a=this.distancePoint(r,s),c=(s.getX()-r.getX())/a,u=(s.getY()-r.getY())/a,d=0,h=r.getX(),m=r.getY(),y=this.image.get(r.getX(),r.getY()),C=Math.ceil(a);for(let I=0;I<C;I++)h+=c,m+=u,this.image.get(Qe.round(h),Qe.round(m))!==y&&d++;let S=d/a;return S>.1&&S<.9?0:S<=.1===y?1:-1}getFirstDifferent(r,s,a,c){let u=r.getX()+a,d=r.getY()+c;for(;this.isValid(u,d)&&this.image.get(u,d)===s;)u+=a,d+=c;for(u-=a,d-=c;this.isValid(u,d)&&this.image.get(u,d)===s;)u+=a;for(u-=a;this.isValid(u,d)&&this.image.get(u,d)===s;)d+=c;return d-=c,new je(u,d)}expandSquare(r,s,a){let c=a/(2*s),u=r[0].getX()-r[2].getX(),d=r[0].getY()-r[2].getY(),h=(r[0].getX()+r[2].getX())/2,m=(r[0].getY()+r[2].getY())/2,y=new Oe(h+c*u,m+c*d),C=new Oe(h-c*u,m-c*d);u=r[1].getX()-r[3].getX(),d=r[1].getY()-r[3].getY(),h=(r[1].getX()+r[3].getX())/2,m=(r[1].getY()+r[3].getY())/2;let S=new Oe(h+c*u,m+c*d),I=new Oe(h-c*u,m-c*d);return[y,S,C,I]}isValid(r,s){return r>=0&&r<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(r){let s=Qe.round(r.getX()),a=Qe.round(r.getY());return this.isValid(s,a)}distancePoint(r,s){return Qe.distance(r.getX(),r.getY(),s.getX(),s.getY())}distanceResultPoint(r,s){return Qe.distance(r.getX(),r.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class qt{decode(r,s=null){let a=null,c=new Pt(r.getBlackMatrix()),u=null,d=null;try{let C=c.detectMirror(!1);u=C.getPoints(),this.reportFoundResultPoints(s,u),d=new dt().decode(C)}catch(C){a=C}if(d==null)try{let C=c.detectMirror(!0);u=C.getPoints(),this.reportFoundResultPoints(s,u),d=new dt().decode(C)}catch(C){throw a??C}let h=new ut(d.getText(),d.getRawBytes(),d.getNumBits(),u,Me.AZTEC,_.currentTimeMillis()),m=d.getByteSegments();m!=null&&h.putMetadata(kt.BYTE_SEGMENTS,m);let y=d.getECLevel();return y!=null&&h.putMetadata(kt.ERROR_CORRECTION_LEVEL,y),h}reportFoundResultPoints(r,s){if(r!=null){let a=r.get(Z.NEED_RESULT_POINT_CALLBACK);a!=null&&s.forEach((c,u,d)=>{a.foundPossibleResultPoint(c)})}}reset(){}}class Ff extends Vt{constructor(r=500){super(new qt,r)}}class Ot{decode(r,s){try{return this.doDecode(r,s)}catch{if(s&&s.get(Z.TRY_HARDER)===!0&&r.isRotateSupported()){const u=r.rotateCounterClockwise(),d=this.doDecode(u,s),h=d.getResultMetadata();let m=270;h!==null&&h.get(kt.ORIENTATION)===!0&&(m=m+h.get(kt.ORIENTATION)%360),d.putMetadata(kt.ORIENTATION,m);const y=d.getResultPoints();if(y!==null){const C=u.getHeight();for(let S=0;S<y.length;S++)y[S]=new Oe(C-y[S].getY()-1,y[S].getX())}return d}else throw new Y}}reset(){}doDecode(r,s){const a=r.getWidth(),c=r.getHeight();let u=new B(a);const d=s&&s.get(Z.TRY_HARDER)===!0,h=Math.max(1,c>>(d?8:5));let m;d?m=c:m=15;const y=Math.trunc(c/2);for(let C=0;C<m;C++){const S=Math.trunc((C+1)/2),I=(C&1)===0,D=y+h*(I?S:-S);if(D<0||D>=c)break;try{u=r.getBlackRow(D,u)}catch{continue}for(let j=0;j<2;j++){if(j===1&&(u.reverse(),s&&s.get(Z.NEED_RESULT_POINT_CALLBACK)===!0)){const V=new Map;s.forEach((X,$)=>V.set($,X)),V.delete(Z.NEED_RESULT_POINT_CALLBACK),s=V}try{const V=this.decodeRow(D,u,s);if(j===1){V.putMetadata(kt.ORIENTATION,180);const X=V.getResultPoints();X!==null&&(X[0]=new Oe(a-X[0].getX()-1,X[0].getY()),X[1]=new Oe(a-X[1].getX()-1,X[1].getY()))}return V}catch{}}}throw new Y}static recordPattern(r,s,a){const c=a.length;for(let y=0;y<c;y++)a[y]=0;const u=r.getSize();if(s>=u)throw new Y;let d=!r.get(s),h=0,m=s;for(;m<u;){if(r.get(m)!==d)a[h]++;else{if(++h===c)break;a[h]=1,d=!d}m++}if(!(h===c||h===c-1&&m===u))throw new Y}static recordPatternInReverse(r,s,a){let c=a.length,u=r.get(s);for(;s>0&&c>=0;)r.get(--s)!==u&&(c--,u=!u);if(c>=0)throw new Y;Ot.recordPattern(r,s+1,a)}static patternMatchVariance(r,s,a){const c=r.length;let u=0,d=0;for(let y=0;y<c;y++)u+=r[y],d+=s[y];if(u<d)return Number.POSITIVE_INFINITY;const h=u/d;a*=h;let m=0;for(let y=0;y<c;y++){const C=r[y],S=s[y]*h,I=C>S?C-S:S-C;if(I>a)return Number.POSITIVE_INFINITY;m+=I}return m/u}}class me extends Ot{static findStartPattern(r){const s=r.getSize(),a=r.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),d=a,h=!1;const m=6;for(let y=a;y<s;y++)if(r.get(y)!==h)u[c]++;else{if(c===m-1){let C=me.MAX_AVG_VARIANCE,S=-1;for(let I=me.CODE_START_A;I<=me.CODE_START_C;I++){const D=Ot.patternMatchVariance(u,me.CODE_PATTERNS[I],me.MAX_INDIVIDUAL_VARIANCE);D<C&&(C=D,S=I)}if(S>=0&&r.isRange(Math.max(0,d-(y-d)/2),d,!1))return Int32Array.from([d,y,S]);d+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,h=!h}throw new Y}static decodeCode(r,s,a){Ot.recordPattern(r,a,s);let c=me.MAX_AVG_VARIANCE,u=-1;for(let d=0;d<me.CODE_PATTERNS.length;d++){const h=me.CODE_PATTERNS[d],m=this.patternMatchVariance(s,h,me.MAX_INDIVIDUAL_VARIANCE);m<c&&(c=m,u=d)}if(u>=0)return u;throw new Y}decodeRow(r,s,a){const c=a&&a.get(Z.ASSUME_GS1)===!0,u=me.findStartPattern(s),d=u[2];let h=0;const m=new Uint8Array(20);m[h++]=d;let y;switch(d){case me.CODE_START_A:y=me.CODE_CODE_A;break;case me.CODE_START_B:y=me.CODE_CODE_B;break;case me.CODE_START_C:y=me.CODE_CODE_C;break;default:throw new F}let C=!1,S=!1,I="",D=u[0],j=u[1];const V=Int32Array.from([0,0,0,0,0,0]);let X=0,$=0,ue=d,de=0,oe=!0,tt=!1,He=!1;for(;!C;){const ia=S;switch(S=!1,X=$,$=me.decodeCode(s,V,j),m[h++]=$,$!==me.CODE_STOP&&(oe=!0),$!==me.CODE_STOP&&(de++,ue+=de*$),D=j,j+=V.reduce((m4,x4)=>m4+x4,0),$){case me.CODE_START_A:case me.CODE_START_B:case me.CODE_START_C:throw new F}switch(y){case me.CODE_CODE_A:if($<64)He===tt?I+=String.fromCharCode(32+$):I+=String.fromCharCode(32+$+128),He=!1;else if($<96)He===tt?I+=String.fromCharCode($-64):I+=String.fromCharCode($+64),He=!1;else switch($!==me.CODE_STOP&&(oe=!1),$){case me.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_A:!tt&&He?(tt=!0,He=!1):tt&&He?(tt=!1,He=!1):He=!0;break;case me.CODE_SHIFT:S=!0,y=me.CODE_CODE_B;break;case me.CODE_CODE_B:y=me.CODE_CODE_B;break;case me.CODE_CODE_C:y=me.CODE_CODE_C;break;case me.CODE_STOP:C=!0;break}break;case me.CODE_CODE_B:if($<96)He===tt?I+=String.fromCharCode(32+$):I+=String.fromCharCode(32+$+128),He=!1;else switch($!==me.CODE_STOP&&(oe=!1),$){case me.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_B:!tt&&He?(tt=!0,He=!1):tt&&He?(tt=!1,He=!1):He=!0;break;case me.CODE_SHIFT:S=!0,y=me.CODE_CODE_A;break;case me.CODE_CODE_A:y=me.CODE_CODE_A;break;case me.CODE_CODE_C:y=me.CODE_CODE_C;break;case me.CODE_STOP:C=!0;break}break;case me.CODE_CODE_C:if($<100)$<10&&(I+="0"),I+=$;else switch($!==me.CODE_STOP&&(oe=!1),$){case me.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+="");break;case me.CODE_CODE_A:y=me.CODE_CODE_A;break;case me.CODE_CODE_B:y=me.CODE_CODE_B;break;case me.CODE_STOP:C=!0;break}break}ia&&(y=y===me.CODE_CODE_A?me.CODE_CODE_B:me.CODE_CODE_A)}const er=j-D;if(j=s.getNextUnset(j),!s.isRange(j,Math.min(s.getSize(),j+(j-D)/2),!1))throw new Y;if(ue-=de*X,ue%103!==X)throw new M;const Hr=I.length;if(Hr===0)throw new Y;Hr>0&&oe&&(y===me.CODE_CODE_C?I=I.substring(0,Hr-2):I=I.substring(0,Hr-1));const tr=(u[1]+u[0])/2,Et=D+er/2,vn=m.length,cr=new Uint8Array(vn);for(let ia=0;ia<vn;ia++)cr[ia]=m[ia];const ra=[new Oe(tr,r),new Oe(Et,r)];return new ut(I,cr,0,ra,Me.CODE_128,new Date().getTime())}}me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],me.MAX_AVG_VARIANCE=.25,me.MAX_INDIVIDUAL_VARIANCE=.7,me.CODE_SHIFT=98,me.CODE_CODE_C=99,me.CODE_CODE_B=100,me.CODE_CODE_A=101,me.CODE_FNC_1=102,me.CODE_FNC_2=97,me.CODE_FNC_3=96,me.CODE_FNC_4_A=101,me.CODE_FNC_4_B=100,me.CODE_START_A=103,me.CODE_START_B=104,me.CODE_START_C=105,me.CODE_STOP=106;class Kt extends Ot{constructor(r=!1,s=!1){super(),this.usingCheckDigit=r,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,s,a){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=Kt.findAsteriskPattern(s,c),d=s.getNextSet(u[1]),h=s.getSize(),m,y;do{Kt.recordPattern(s,d,c);let V=Kt.toNarrowWidePattern(c);if(V<0)throw new Y;m=Kt.patternToChar(V),this.decodeRowResult+=m,y=d;for(let X of c)d+=X;d=s.getNextSet(d)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let V of c)C+=V;let S=d-y-C;if(d!==h&&S*2<C)throw new Y;if(this.usingCheckDigit){let V=this.decodeRowResult.length-1,X=0;for(let $=0;$<V;$++)X+=Kt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($));if(this.decodeRowResult.charAt(V)!==Kt.ALPHABET_STRING.charAt(X%43))throw new M;this.decodeRowResult=this.decodeRowResult.substring(0,V)}if(this.decodeRowResult.length===0)throw new Y;let I;this.extendedMode?I=Kt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let D=(u[1]+u[0])/2,j=y+C/2;return new ut(I,null,0,[new Oe(D,r),new Oe(j,r)],Me.CODE_39,new Date().getTime())}static findAsteriskPattern(r,s){let a=r.getSize(),c=r.getNextSet(0),u=0,d=c,h=!1,m=s.length;for(let y=c;y<a;y++)if(r.get(y)!==h)s[u]++;else{if(u===m-1){if(this.toNarrowWidePattern(s)===Kt.ASTERISK_ENCODING&&r.isRange(Math.max(0,d-Math.floor((y-d)/2)),d,!1))return[d,y];d+=s[0]+s[1],s.copyWithin(0,2,2+u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,h=!h}throw new Y}static toNarrowWidePattern(r){let s=r.length,a=0,c;do{let u=2147483647;for(let m of r)m<u&&m>a&&(u=m);a=u,c=0;let d=0,h=0;for(let m=0;m<s;m++){let y=r[m];y>a&&(h|=1<<s-1-m,c++,d+=y)}if(c===3){for(let m=0;m<s&&c>0;m++){let y=r[m];if(y>a&&(c--,y*2>=d))return-1}return h}}while(c>3);return-1}static patternToChar(r){for(let s=0;s<Kt.CHARACTER_ENCODINGS.length;s++)if(Kt.CHARACTER_ENCODINGS[s]===r)return Kt.ALPHABET_STRING.charAt(s);if(r===Kt.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(r){let s=r.length,a="";for(let c=0;c<s;c++){let u=r.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let d=r.charAt(c+1),h="\0";switch(u){case"+":if(d>="A"&&d<="Z")h=String.fromCharCode(d.charCodeAt(0)+32);else throw new F;break;case"$":if(d>="A"&&d<="Z")h=String.fromCharCode(d.charCodeAt(0)-64);else throw new F;break;case"%":if(d>="A"&&d<="E")h=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")h=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")h=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")h=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")h="\0";else if(d==="V")h="@";else if(d==="W")h="`";else if(d==="X"||d==="Y"||d==="Z")h="";else throw new F;break;case"/":if(d>="A"&&d<="O")h=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")h=":";else throw new F;break}a+=h,c++}else a+=u}return a}}Kt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Kt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Kt.ASTERISK_ENCODING=148;class ft extends Ot{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,s,a){let c=this.decodeStart(s),u=this.decodeEnd(s),d=new ae;ft.decodeMiddle(s,c[1],u[0],d);let h=d.toString(),m=null;a!=null&&(m=a.get(Z.ALLOWED_LENGTHS)),m==null&&(m=ft.DEFAULT_ALLOWED_LENGTHS);let y=h.length,C=!1,S=0;for(let j of m){if(y===j){C=!0;break}j>S&&(S=j)}if(!C&&y>S&&(C=!0),!C)throw new F;const I=[new Oe(c[1],r),new Oe(u[0],r)];return new ut(h,null,0,I,Me.ITF,new Date().getTime())}static decodeMiddle(r,s,a,c){let u=new Int32Array(10),d=new Int32Array(5),h=new Int32Array(5);for(u.fill(0),d.fill(0),h.fill(0);s<a;){Ot.recordPattern(r,s,u);for(let y=0;y<5;y++){let C=2*y;d[y]=u[C],h[y]=u[C+1]}let m=ft.decodeDigit(d);c.append(m.toString()),m=this.decodeDigit(h),c.append(m.toString()),u.forEach(function(y){s+=y})}}decodeStart(r){let s=ft.skipWhiteSpace(r),a=ft.findGuardPattern(r,s,ft.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a}validateQuietZone(r,s){let a=this.narrowLineWidth*10;a=a<s?a:s;for(let c=s-1;a>0&&c>=0&&!r.get(c);c--)a--;if(a!==0)throw new Y}static skipWhiteSpace(r){const s=r.getSize(),a=r.getNextSet(0);if(a===s)throw new Y;return a}decodeEnd(r){r.reverse();try{let s=ft.skipWhiteSpace(r),a;try{a=ft.findGuardPattern(r,s,ft.END_PATTERN_REVERSED[0])}catch(u){u instanceof Y&&(a=ft.findGuardPattern(r,s,ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);let c=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-c,a}finally{r.reverse()}}static findGuardPattern(r,s,a){let c=a.length,u=new Int32Array(c),d=r.getSize(),h=!1,m=0,y=s;u.fill(0);for(let C=s;C<d;C++)if(r.get(C)!==h)u[m]++;else{if(m===c-1){if(Ot.patternMatchVariance(u,a,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return[y,C];y+=u[0]+u[1],_.arraycopy(u,2,u,0,m-1),u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,h=!h}throw new Y}static decodeDigit(r){let s=ft.MAX_AVG_VARIANCE,a=-1,c=ft.PATTERNS.length;for(let u=0;u<c;u++){let d=ft.PATTERNS[u],h=Ot.patternMatchVariance(r,d,ft.MAX_INDIVIDUAL_VARIANCE);h<s?(s=h,a=u):h===s&&(a=-1)}if(a>=0)return a%10;throw new Y}}ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ft.MAX_AVG_VARIANCE=.38,ft.MAX_INDIVIDUAL_VARIANCE=.5,ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ft.START_PATTERN=Int32Array.from([1,1,1,1]),ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Mt extends Ot{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let s=!1,a,c=0,u=Int32Array.from([0,0,0]);for(;!s;){u=Int32Array.from([0,0,0]),a=Mt.findGuardPattern(r,c,!1,this.START_END_PATTERN,u);let d=a[0];c=a[1];let h=d-(c-d);h>=0&&(s=r.isRange(h,d,!1))}return a}static checkChecksum(r){return Mt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let a=parseInt(r.charAt(s-1),10);return Mt.getStandardUPCEANChecksum(r.substring(0,s-1))===a}static getStandardUPCEANChecksum(r){let s=r.length,a=0;for(let c=s-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new F;a+=u}a*=3;for(let c=s-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new F;a+=u}return(1e3-a)%10}static decodeEnd(r,s){return Mt.findGuardPattern(r,s,!1,Mt.START_END_PATTERN,new Int32Array(Mt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,s,a,c){return this.findGuardPattern(r,s,a,c,new Int32Array(c.length))}static findGuardPattern(r,s,a,c,u){let d=r.getSize();s=a?r.getNextUnset(s):r.getNextSet(s);let h=0,m=s,y=c.length,C=a;for(let S=s;S<d;S++)if(r.get(S)!==C)u[h]++;else{if(h===y-1){if(Ot.patternMatchVariance(u,c,Mt.MAX_INDIVIDUAL_VARIANCE)<Mt.MAX_AVG_VARIANCE)return Int32Array.from([m,S]);m+=u[0]+u[1];let I=u.slice(2,u.length-1);for(let D=0;D<h-1;D++)u[D]=I[D];u[h-1]=0,u[h]=0,h--}else h++;u[h]=1,C=!C}throw new Y}static decodeDigit(r,s,a,c){this.recordPattern(r,a,s);let u=this.MAX_AVG_VARIANCE,d=-1,h=c.length;for(let m=0;m<h;m++){let y=c[m],C=Ot.patternMatchVariance(s,y,Mt.MAX_INDIVIDUAL_VARIANCE);C<u&&(u=C,d=m)}if(d>=0)return d;throw new Y}}Mt.MAX_AVG_VARIANCE=.48,Mt.MAX_INDIVIDUAL_VARIANCE=.7,Mt.START_END_PATTERN=Int32Array.from([1,1,1]),Mt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Mt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Mt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class is{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(s,a,c),d=c.toString(),h=is.parseExtensionString(d),m=[new Oe((a[0]+a[1])/2,r),new Oe(u,r)],y=new ut(d,null,0,m,Me.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(r,s,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=s[1],h=0;for(let y=0;y<5&&d<u;y++){let C=Mt.decodeDigit(r,c,d,Mt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+C%10);for(let S of c)d+=S;C>=10&&(h|=1<<4-y),y!==4&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(a.length!==5)throw new Y;let m=this.determineCheckDigit(h);if(is.extensionChecksum(a.toString())!==m)throw new Y;return d}static extensionChecksum(r){let s=r.length,a=0;for(let c=s-2;c>=0;c-=2)a+=r.charAt(c).charCodeAt(0)-48;a*=3;for(let c=s-1;c>=0;c-=2)a+=r.charAt(c).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(r){for(let s=0;s<10;s++)if(r===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new Y}static parseExtensionString(r){if(r.length!==5)return null;let s=is.parseExtension5String(r);return s==null?null:new Map([[kt.SUGGESTED_PRICE,s]])}static parseExtension5String(r){let s;switch(r.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let a=parseInt(r.substring(1)),c=(a/100).toString(),u=a%100,d=u<10?"0"+u:u.toString();return s+c+"."+d}}class jf{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(s,a,c),d=c.toString(),h=jf.parseExtensionString(d),m=[new Oe((a[0]+a[1])/2,r),new Oe(u,r)],y=new ut(d,null,0,m,Me.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(r,s,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=s[1],h=0;for(let m=0;m<2&&d<u;m++){let y=Mt.decodeDigit(r,c,d,Mt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);for(let C of c)d+=C;y>=10&&(h|=1<<1-m),m!==1&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(a.length!==2)throw new Y;if(parseInt(a.toString())%4!==h)throw new Y;return d}static parseExtensionString(r){return r.length!==2?null:new Map([[kt.ISSUE_NUMBER,parseInt(r)]])}}class ip{static decodeRow(r,s,a){let c=Mt.findGuardPattern(s,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new is().decodeRow(r,s,c)}catch{return new jf().decodeRow(r,s,c)}}}ip.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class lt extends Mt{constructor(){super(),this.decodeRowStringBuffer="",lt.L_AND_G_PATTERNS=lt.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let s=lt.L_PATTERNS[r-10],a=new Int32Array(s.length);for(let c=0;c<s.length;c++)a[c]=s[s.length-c-1];lt.L_AND_G_PATTERNS[r]=a}}decodeRow(r,s,a){let c=lt.findStartGuardPattern(s),u=a==null?null:a.get(Z.NEED_RESULT_POINT_CALLBACK);if(u!=null){const oe=new Oe((c[0]+c[1])/2,r);u.foundPossibleResultPoint(oe)}let d=this.decodeMiddle(s,c,this.decodeRowStringBuffer),h=d.rowOffset,m=d.resultString;if(u!=null){const oe=new Oe(h,r);u.foundPossibleResultPoint(oe)}let y=this.decodeEnd(s,h);if(u!=null){const oe=new Oe((y[0]+y[1])/2,r);u.foundPossibleResultPoint(oe)}let C=y[1],S=C+(C-y[0]);if(S>=s.getSize()||!s.isRange(C,S,!1))throw new Y;let I=m.toString();if(I.length<8)throw new F;if(!lt.checkChecksum(I))throw new M;let D=(c[1]+c[0])/2,j=(y[1]+y[0])/2,V=this.getBarcodeFormat(),X=[new Oe(D,r),new Oe(j,r)],$=new ut(I,null,0,X,V,new Date().getTime()),ue=0;try{let oe=ip.decodeRow(r,s,y[1]);$.putMetadata(kt.UPC_EAN_EXTENSION,oe.getText()),$.putAllMetadata(oe.getResultMetadata()),$.addResultPoints(oe.getResultPoints()),ue=oe.getText().length}catch{}let de=a==null?null:a.get(Z.ALLOWED_EAN_EXTENSIONS);if(de!=null){let oe=!1;for(let tt in de)if(ue.toString()===tt){oe=!0;break}if(!oe)throw new Y}return $}decodeEnd(r,s){return lt.findGuardPattern(r,s,!1,lt.START_END_PATTERN,new Int32Array(lt.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return lt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let a=parseInt(r.charAt(s-1),10);return lt.getStandardUPCEANChecksum(r.substring(0,s-1))===a}static getStandardUPCEANChecksum(r){let s=r.length,a=0;for(let c=s-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new F;a+=u}a*=3;for(let c=s-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new F;a+=u}return(1e3-a)%10}}class lo extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=s[1],h=0;for(let y=0;y<6&&d<u;y++){let C=lt.decodeDigit(r,c,d,lt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+C%10);for(let S of c)d+=S;C>=10&&(h|=1<<5-y)}a=lo.determineFirstDigit(a,h),d=lt.findGuardPattern(r,d,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&d<u;y++){let C=lt.decodeDigit(r,c,d,lt.L_PATTERNS);a+=String.fromCharCode(48+C);for(let S of c)d+=S}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return Me.EAN_13}static determineFirstDigit(r,s){for(let a=0;a<10;a++)if(s===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode(48+a)+r,r;throw new Y}}lo.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class sp extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,a){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=s[1];for(let m=0;m<4&&d<u;m++){let y=lt.decodeDigit(r,c,d,lt.L_PATTERNS);a+=String.fromCharCode(48+y);for(let C of c)d+=C}d=lt.findGuardPattern(r,d,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&d<u;m++){let y=lt.decodeDigit(r,c,d,lt.L_PATTERNS);a+=String.fromCharCode(48+y);for(let C of c)d+=C}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return Me.EAN_8}}class op extends lt{constructor(){super(...arguments),this.ean13Reader=new lo}getBarcodeFormat(){return Me.UPC_A}decode(r,s){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,s,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,s,a))}decodeMiddle(r,s,a){return this.ean13Reader.decodeMiddle(r,s,a)}maybeReturnResult(r){let s=r.getText();if(s.charAt(0)==="0"){let a=new ut(s.substring(1),null,null,r.getResultPoints(),Me.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new Y}reset(){this.ean13Reader.reset()}}class Vr extends lt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,s,a){const c=this.decodeMiddleCounters.map(y=>y);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=r.getSize();let d=s[1],h=0;for(let y=0;y<6&&d<u;y++){const C=Vr.decodeDigit(r,c,d,Vr.L_AND_G_PATTERNS);a+=String.fromCharCode(48+C%10);for(let S of c)d+=S;C>=10&&(h|=1<<5-y)}let m=Vr.determineNumSysAndCheckDigit(a,h);return{rowOffset:d,resultString:m}}decodeEnd(r,s){return Vr.findGuardPatternWithoutCounters(r,s,!0,Vr.MIDDLE_END_PATTERN)}checkChecksum(r){return lt.checkChecksum(Vr.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,s){for(let a=0;a<=1;a++)for(let c=0;c<10;c++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][c]){let u=String.fromCharCode(48+a),d=String.fromCharCode(48+c);return u+r+d}throw Y.getNotFoundInstance()}getBarcodeFormat(){return Me.UPC_E}static convertUPCEtoUPCA(r){const s=r.slice(1,7).split("").map(u=>u.charCodeAt(0)),a=new ae;a.append(r.charAt(0));let c=s[5];switch(c){case 0:case 1:case 2:a.appendChars(s,0,2),a.append(c),a.append("0000"),a.appendChars(s,2,3);break;case 3:a.appendChars(s,0,3),a.append("00000"),a.appendChars(s,3,2);break;case 4:a.appendChars(s,0,4),a.append("00000"),a.append(s[4]);break;default:a.appendChars(s,0,5),a.append("0000"),a.append(c);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()}}Vr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Vr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Uf extends Ot{constructor(r){super();let s=r==null?null:r.get(Z.POSSIBLE_FORMATS),a=[];i(s)?(a.push(new lo),a.push(new op),a.push(new sp),a.push(new Vr)):(s.indexOf(Me.EAN_13)>-1&&a.push(new lo),s.indexOf(Me.UPC_A)>-1&&a.push(new op),s.indexOf(Me.EAN_8)>-1&&a.push(new sp),s.indexOf(Me.UPC_E)>-1&&a.push(new Vr)),this.readers=a}decodeRow(r,s,a){for(let c of this.readers)try{const u=c.decodeRow(r,s,a),d=u.getBarcodeFormat()===Me.EAN_13&&u.getText().charAt(0)==="0",h=a==null?null:a.get(Z.POSSIBLE_FORMATS),m=h==null||h.includes(Me.UPC_A);if(d&&m){const y=u.getRawBytes(),C=new ut(u.getText().substring(1),y,y?y.length:null,u.getResultPoints(),Me.UPC_A);return C.putAllMetadata(u.getResultMetadata()),C}return u}catch{}throw new Y}reset(){for(let r of this.readers)r.reset()}}class _n extends Ot{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,s){for(let a=0;a<s.length;a++)if(Ot.patternMatchVariance(r,s[a],_n.MAX_INDIVIDUAL_VARIANCE)<_n.MAX_AVG_VARIANCE)return a;throw new Y}static count(r){return Qe.sum(new Int32Array(r))}static increment(r,s){let a=0,c=s[0];for(let u=1;u<r.length;u++)s[u]>c&&(c=s[u],a=u);r[a]++}static decrement(r,s){let a=0,c=s[0];for(let u=1;u<r.length;u++)s[u]<c&&(c=s[u],a=u);r[a]--}static isFinderPattern(r){let s=r[0]+r[1],a=s+r[2]+r[3],c=s/a;if(c>=_n.MIN_FINDER_PATTERN_RATIO&&c<=_n.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let h of r)h>d&&(d=h),h<u&&(u=h);return d<10*u}return!1}}_n.MAX_AVG_VARIANCE=.2,_n.MAX_INDIVIDUAL_VARIANCE=.45,_n.MIN_FINDER_PATTERN_RATIO=9.5/12,_n.MAX_FINDER_PATTERN_RATIO=12.5/14;class qo{constructor(r,s){this.value=r,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof qo))return!1;const s=r;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class uu{constructor(r,s,a,c,u){this.value=r,this.startEnd=s,this.value=r,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new Oe(a,u)),this.resultPoints.push(new Oe(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof uu))return!1;const s=r;return this.value===s.value}hashCode(){return this.value}}class di{constructor(){}static getRSSvalue(r,s,a){let c=0;for(let m of r)c+=m;let u=0,d=0,h=r.length;for(let m=0;m<h-1;m++){let y;for(y=1,d|=1<<m;y<r[m];y++,d&=~(1<<m)){let C=di.combins(c-y-1,h-m-2);if(a&&d===0&&c-y-(h-m-1)>=h-m-1&&(C-=di.combins(c-y-(h-m),h-m-2)),h-m-1>1){let S=0;for(let I=c-y-(h-m-2);I>s;I--)S+=di.combins(c-y-I-1,h-m-3);C-=S*(h-1-m)}else c-y>s&&C--;u+=C}c-=y}return u}static combins(r,s){let a,c;r-s>s?(c=s,a=r-s):(c=r-s,a=s);let u=1,d=1;for(let h=r;h>a;h--)u*=h,d<=c&&(u/=d,d++);for(;d<=c;)u/=d,d++;return u}}class VT{static buildBitArray(r){let s=r.length*2-1;r[r.length-1].getRightChar()==null&&(s-=1);let a=12*s,c=new B(a),u=0,h=r[0].getRightChar().getValue();for(let m=11;m>=0;--m)h&1<<m&&c.set(u),u++;for(let m=1;m<r.length;++m){let y=r[m],C=y.getLeftChar().getValue();for(let S=11;S>=0;--S)C&1<<S&&c.set(u),u++;if(y.getRightChar()!=null){let S=y.getRightChar().getValue();for(let I=11;I>=0;--I)S&1<<I&&c.set(u),u++}}return c}}class co{constructor(r,s){s?this.decodedInformation=null:(this.finished=r,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class zf{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class Kn extends zf{constructor(r,s){super(r),this.value=s}getValue(){return this.value}isFNC1(){return this.value===Kn.FNC1}}Kn.FNC1="$";class uo extends zf{constructor(r,s,a){super(r),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Nr extends zf{constructor(r,s,a){if(super(r),s<0||s>10||a<0||a>10)throw new F;this.firstDigit=s,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Nr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Nr.FNC1}isAnyFNC1(){return this.firstDigit===Nr.FNC1||this.secondDigit===Nr.FNC1}}Nr.FNC1=10;class Ie{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new Y;let s=r.substring(0,2);for(let u of Ie.TWO_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(2,u[2],r):Ie.processFixedAI(2,u[1],r);if(r.length<3)throw new Y;let a=r.substring(0,3);for(let u of Ie.THREE_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(3,u[2],r):Ie.processFixedAI(3,u[1],r);for(let u of Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,u[2],r):Ie.processFixedAI(4,u[1],r);if(r.length<4)throw new Y;let c=r.substring(0,4);for(let u of Ie.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,u[2],r):Ie.processFixedAI(4,u[1],r);throw new Y}static processFixedAI(r,s,a){if(a.length<r)throw new Y;let c=a.substring(0,r);if(a.length<r+s)throw new Y;let u=a.substring(r,r+s),d=a.substring(r+s),h="("+c+")"+u,m=Ie.parseFieldsInGeneralPurpose(d);return m==null?h:h+m}static processVariableAI(r,s,a){let c=a.substring(0,r),u;a.length<r+s?u=a.length:u=r+s;let d=a.substring(r,u),h=a.substring(u),m="("+c+")"+d,y=Ie.parseFieldsInGeneralPurpose(h);return y==null?m:m+y}}Ie.VARIABLE_LENGTH=[],Ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ie.VARIABLE_LENGTH,20],["22",Ie.VARIABLE_LENGTH,29],["30",Ie.VARIABLE_LENGTH,8],["37",Ie.VARIABLE_LENGTH,8],["90",Ie.VARIABLE_LENGTH,30],["91",Ie.VARIABLE_LENGTH,30],["92",Ie.VARIABLE_LENGTH,30],["93",Ie.VARIABLE_LENGTH,30],["94",Ie.VARIABLE_LENGTH,30],["95",Ie.VARIABLE_LENGTH,30],["96",Ie.VARIABLE_LENGTH,30],["97",Ie.VARIABLE_LENGTH,3],["98",Ie.VARIABLE_LENGTH,30],["99",Ie.VARIABLE_LENGTH,30]],Ie.THREE_DIGIT_DATA_LENGTH=[["240",Ie.VARIABLE_LENGTH,30],["241",Ie.VARIABLE_LENGTH,30],["242",Ie.VARIABLE_LENGTH,6],["250",Ie.VARIABLE_LENGTH,30],["251",Ie.VARIABLE_LENGTH,30],["253",Ie.VARIABLE_LENGTH,17],["254",Ie.VARIABLE_LENGTH,20],["400",Ie.VARIABLE_LENGTH,30],["401",Ie.VARIABLE_LENGTH,30],["402",17],["403",Ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ie.VARIABLE_LENGTH,20],["421",Ie.VARIABLE_LENGTH,15],["422",3],["423",Ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ie.VARIABLE_LENGTH,15],["391",Ie.VARIABLE_LENGTH,18],["392",Ie.VARIABLE_LENGTH,15],["393",Ie.VARIABLE_LENGTH,18],["703",Ie.VARIABLE_LENGTH,30]],Ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ie.VARIABLE_LENGTH,20],["8003",Ie.VARIABLE_LENGTH,30],["8004",Ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ie.VARIABLE_LENGTH,30],["8008",Ie.VARIABLE_LENGTH,12],["8018",18],["8020",Ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ie.VARIABLE_LENGTH,70],["8200",Ie.VARIABLE_LENGTH,70]];class Ko{constructor(r){this.buffer=new ae,this.information=r}decodeAllCodes(r,s){let a=s,c=null;do{let u=this.decodeGeneralPurposeField(a,c),d=Ie.parseFieldsInGeneralPurpose(u.getNewString());if(d!=null&&r.append(d),u.isRemaining()?c=""+u.getRemainingValue():c=null,a===u.getNewPosition())break;a=u.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let s=r;s<r+3;++s)if(this.information.get(s))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(r,4);return u===0?new Nr(this.information.getSize(),Nr.FNC1,Nr.FNC1):new Nr(this.information.getSize(),u-1,Nr.FNC1)}let s=this.extractNumericValueFromBitArray(r,7),a=(s-8)/11,c=(s-8)%11;return new Nr(r+7,a,c)}extractNumericValueFromBitArray(r,s){return Ko.extractNumericValueFromBitArray(this.information,r,s)}static extractNumericValueFromBitArray(r,s,a){let c=0;for(let u=0;u<a;++u)r.get(s+u)&&(c|=1<<a-u-1);return c}decodeGeneralPurposeField(r,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(r);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new uo(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new uo(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,s;do{let a=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),r=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),r=s.isFinished()):(s=this.parseNumericBlock(),r=s.isFinished()),!(a!==this.current.getPosition())&&!r)break}while(!r);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let s;return r.isSecondDigitFNC1()?s=new uo(this.current.getPosition(),this.buffer.toString()):s=new uo(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new co(!0,s)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let s=new uo(this.current.getPosition(),this.buffer.toString());return new co(!0,s)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new co(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new uo(this.current.getPosition(),this.buffer.toString());return new co(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new co(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new uo(this.current.getPosition(),this.buffer.toString());return new co(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new co(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,7);if(a>=64&&a<116)return!0;if(r+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(r,8);return c>=232&&c<253}decodeIsoIec646(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new Kn(r+5,Kn.FNC1);if(s>=5&&s<15)return new Kn(r+5,"0"+(s-5));let a=this.extractNumericValueFromBitArray(r,7);if(a>=64&&a<90)return new Kn(r+7,""+(a+1));if(a>=90&&a<116)return new Kn(r+7,""+(a+7));let c=this.extractNumericValueFromBitArray(r,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new F}return new Kn(r+8,u)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,6);return a>=16&&a<63}decodeAlphanumeric(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new Kn(r+5,Kn.FNC1);if(s>=5&&s<15)return new Kn(r+5,"0"+(s-5));let a=this.extractNumericValueFromBitArray(r,6);if(a>=32&&a<58)return new Kn(r+6,""+(a+33));let c;switch(a){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new qn("Decoding invalid alphanumeric value: "+a)}return new Kn(r+6,c)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<5&&s+r<this.information.getSize();++s)if(s===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+s))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let s=r;s<r+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<4&&s+r<this.information.getSize();++s)if(this.information.get(r+s))return!1;return!0}}class Vf{constructor(r){this.information=r,this.generalDecoder=new Ko(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class $n extends Vf{constructor(r){super(r)}encodeCompressedGtin(r,s){r.append("(01)");let a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,s,a)}encodeCompressedGtinWithoutAI(r,s,a){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*c,10);u/100===0&&r.append("0"),u/10===0&&r.append("0"),r.append(u)}$n.appendCheckDigit(r,a)}static appendCheckDigit(r,s){let a=0;for(let c=0;c<13;c++){let u=r.charAt(c+s).charCodeAt(0)-48;a+=c&1?u:3*u}a=10-a%10,a===10&&(a=0),r.append(a)}}$n.GTIN_SIZE=40;class $o extends $n{constructor(r){super(r)}parseInformation(){let r=new ae;r.append("(01)");let s=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray($o.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,$o.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(r,$o.HEADER_SIZE+44)}}$o.HEADER_SIZE=4;class du extends Vf{constructor(r){super(r)}parseInformation(){let r=new ae;return this.getGeneralDecoder().decodeAllCodes(r,du.HEADER_SIZE)}}du.HEADER_SIZE=5;class fu extends $n{constructor(r){super(r)}encodeCompressedWeight(r,s,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s,a);this.addWeightCode(r,c);let u=this.checkWeight(c),d=1e5;for(let h=0;h<5;++h)u/d===0&&r.append("0"),d/=10;r.append(u)}}class fi extends fu{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=fi.HEADER_SIZE+fu.GTIN_SIZE+fi.WEIGHT_SIZE)throw new Y;let r=new ae;return this.encodeCompressedGtin(r,fi.HEADER_SIZE),this.encodeCompressedWeight(r,fi.HEADER_SIZE+fu.GTIN_SIZE,fi.WEIGHT_SIZE),r.toString()}}fi.HEADER_SIZE=5,fi.WEIGHT_SIZE=15;class HT extends fi{constructor(r){super(r)}addWeightCode(r,s){r.append("(3103)")}checkWeight(r){return r}}class WT extends fi{constructor(r){super(r)}addWeightCode(r,s){s<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class hi extends $n{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<hi.HEADER_SIZE+$n.GTIN_SIZE)throw new Y;let r=new ae;this.encodeCompressedGtin(r,hi.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(hi.HEADER_SIZE+$n.GTIN_SIZE,hi.LAST_DIGIT_SIZE);r.append("(392"),r.append(s),r.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(hi.HEADER_SIZE+$n.GTIN_SIZE+hi.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()}}hi.HEADER_SIZE=8,hi.LAST_DIGIT_SIZE=2;class jn extends $n{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<jn.HEADER_SIZE+$n.GTIN_SIZE)throw new Y;let r=new ae;this.encodeCompressedGtin(r,jn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(jn.HEADER_SIZE+$n.GTIN_SIZE,jn.LAST_DIGIT_SIZE);r.append("(393"),r.append(s),r.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(jn.HEADER_SIZE+$n.GTIN_SIZE+jn.LAST_DIGIT_SIZE,jn.FIRST_THREE_DIGITS_SIZE);a/100==0&&r.append("0"),a/10==0&&r.append("0"),r.append(a);let c=this.getGeneralDecoder().decodeGeneralPurposeField(jn.HEADER_SIZE+$n.GTIN_SIZE+jn.LAST_DIGIT_SIZE+jn.FIRST_THREE_DIGITS_SIZE,null);return r.append(c.getNewString()),r.toString()}}jn.HEADER_SIZE=8,jn.LAST_DIGIT_SIZE=2,jn.FIRST_THREE_DIGITS_SIZE=10;class Rt extends fu{constructor(r,s,a){super(r),this.dateCode=a,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=Rt.HEADER_SIZE+Rt.GTIN_SIZE+Rt.WEIGHT_SIZE+Rt.DATE_SIZE)throw new Y;let r=new ae;return this.encodeCompressedGtin(r,Rt.HEADER_SIZE),this.encodeCompressedWeight(r,Rt.HEADER_SIZE+Rt.GTIN_SIZE,Rt.WEIGHT_SIZE),this.encodeCompressedDate(r,Rt.HEADER_SIZE+Rt.GTIN_SIZE+Rt.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(s,Rt.DATE_SIZE);if(a==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let c=a%32;a/=32;let u=a%12+1;a/=12;let d=a;d/10==0&&r.append("0"),r.append(d),u/10==0&&r.append("0"),r.append(u),c/10==0&&r.append("0"),r.append(c)}addWeightCode(r,s){r.append("("),r.append(this.firstAIdigits),r.append(s/1e5),r.append(")")}checkWeight(r){return r%1e5}}Rt.HEADER_SIZE=8,Rt.WEIGHT_SIZE=20,Rt.DATE_SIZE=16;function ap(A){try{if(A.get(1))return new $o(A);if(!A.get(2))return new du(A);switch(Ko.extractNumericValueFromBitArray(A,1,4)){case 4:return new HT(A);case 5:return new WT(A)}switch(Ko.extractNumericValueFromBitArray(A,1,5)){case 12:return new hi(A);case 13:return new jn(A)}switch(Ko.extractNumericValueFromBitArray(A,1,7)){case 56:return new Rt(A,"310","11");case 57:return new Rt(A,"320","11");case 58:return new Rt(A,"310","13");case 59:return new Rt(A,"320","13");case 60:return new Rt(A,"310","15");case 61:return new Rt(A,"320","15");case 62:return new Rt(A,"310","17");case 63:return new Rt(A,"320","17")}}catch(r){throw console.log(r),new qn("unknown decoder: "+A)}}class ss{constructor(r,s,a,c){this.leftchar=r,this.rightchar=s,this.finderpattern=a,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,s){return r instanceof ss?ss.equalsOrNull(r.leftchar,s.leftchar)&&ss.equalsOrNull(r.rightchar,s.rightchar)&&ss.equalsOrNull(r.finderpattern,s.finderpattern):!1}static equalsOrNull(r,s){return r===null?s===null:ss.equals(r,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Hf{constructor(r,s,a){this.pairs=r,this.rowNumber=s,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,s){return r instanceof Hf?this.checkEqualitity(r,s)&&r.wasReversed===s.wasReversed:!1}checkEqualitity(r,s){if(!r||!s)return;let a;return r.forEach((c,u)=>{s.forEach(d=>{c.getLeftChar().getValue()===d.getLeftChar().getValue()&&c.getRightChar().getValue()===d.getRightChar().getValue()&&c.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(a=!0)})}),a}}class ie extends _n{constructor(r){super(...arguments),this.pairs=new Array(ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,s,a){this.pairs.length=0,this.startFromEven=!1;try{return ie.constructResult(this.decodeRow2pairs(r,s))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,ie.constructResult(this.decodeRow2pairs(r,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,s){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,r))}catch(u){if(u instanceof Y){if(!this.pairs.length)throw new Y;a=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(r,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new Y}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return r&&(this.rows=this.rows.reverse()),s}checkRows(r,s){for(let a=s;a<this.rows.length;a++){let c=this.rows[a];this.pairs.length=0;for(let d of r)this.pairs.push(d.getPairs());if(this.pairs.push(c.getPairs()),!ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(r);u.push(c);try{return this.checkRows(u,a+1)}catch(d){this.verbose&&console.log(d)}}throw new Y}static isValidSequence(r){for(let s of ie.FINDER_PATTERN_SEQUENCES){if(r.length>s.length)continue;let a=!0;for(let c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!=s[c]){a=!1;break}if(a)return!0}return!1}storeRow(r,s){let a=0,c=!1,u=!1;for(;a<this.rows.length;){let d=this.rows[a];if(d.getRowNumber()>r){u=d.isEquivalent(this.pairs);break}c=d.isEquivalent(this.pairs),a++}u||c||ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Hf(this.pairs,r,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,s){for(let a of s)if(a.getPairs().length!==r.length){for(let c of a.getPairs())for(let u of r)if(ss.equals(c,u))break}}static isPartialRow(r,s){for(let a of s){let c=!0;for(let u of r){let d=!1;for(let h of a.getPairs())if(u.equals(h)){d=!0;break}if(!d){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(r){let s=VT.buildBitArray(r),c=ap(s).parseInformation(),u=r[0].getFinderPattern().getResultPoints(),d=r[r.length-1].getFinderPattern().getResultPoints(),h=[u[0],u[1],d[0],d[1]];return new ut(c,null,null,h,Me.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),s=r.getLeftChar(),a=r.getRightChar();if(a==null)return!1;let c=a.getChecksumPortion(),u=2;for(let h=1;h<this.pairs.size();++h){let m=this.pairs.get(h);c+=m.getLeftChar().getChecksumPortion(),u++;let y=m.getRightChar();y!=null&&(c+=y.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==s.getValue()}static getNextSecondBar(r,s){let a;return r.get(s)?(a=r.getNextUnset(s),a=r.getNextSet(a)):(a=r.getNextSet(s),a=r.getNextUnset(a)),a}retrieveNextPair(r,s,a){let c=s.length%2==0;this.startFromEven&&(c=!c);let u,d=!0,h=-1;do this.findNextPair(r,s,h),u=this.parseFoundFinderPattern(r,a,c),u==null?h=ie.getNextSecondBar(r,this.startEnd[0]):d=!1;while(d);let m=this.decodeDataCharacter(r,u,c,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new Y;let y;try{y=this.decodeDataCharacter(r,u,c,!1)}catch(C){y=null,this.verbose&&console.log(C)}return new ss(m,y,u,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,s,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d;a>=0?d=a:this.isEmptyPair(s)?d=0:d=s[s.length-1].getFinderPattern().getStartEnd()[1];let h=s.length%2!=0;this.startFromEven&&(h=!h);let m=!1;for(;d<u&&(m=!r.get(d),!!m);)d++;let y=0,C=d;for(let S=d;S<u;S++)if(r.get(S)!=m)c[y]++;else{if(y==3){if(h&&ie.reverseCounters(c),ie.isFinderPattern(c)){this.startEnd[0]=C,this.startEnd[1]=S;return}h&&ie.reverseCounters(c),C+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,y--}else y++;c[y]=1,m=!m}throw new Y}static reverseCounters(r){let s=r.length;for(let a=0;a<s/2;++a){let c=r[a];r[a]=r[s-a-1],r[s-a-1]=c}}parseFoundFinderPattern(r,s,a){let c,u,d;if(a){let y=this.startEnd[0]-1;for(;y>=0&&!r.get(y);)y--;y++,c=this.startEnd[0]-y,u=y,d=this.startEnd[1]}else u=this.startEnd[0],d=r.getNextUnset(this.startEnd[1]+1),c=d-this.startEnd[1];let h=this.getDecodeFinderCounters();_.arraycopy(h,0,h,1,h.length-1),h[0]=c;let m;try{m=this.parseFinderValue(h,ie.FINDER_PATTERNS)}catch{return null}return new uu(m,[u,d],u,d,s)}decodeDataCharacter(r,s,a,c){let u=this.getDataCharacterCounters();for(let Et=0;Et<u.length;Et++)u[Et]=0;if(c)ie.recordPatternInReverse(r,s.getStartEnd()[0],u);else{ie.recordPattern(r,s.getStartEnd()[1],u);for(let Et=0,vn=u.length-1;Et<vn;Et++,vn--){let cr=u[Et];u[Et]=u[vn],u[vn]=cr}}let d=17,h=Qe.sum(new Int32Array(u))/d,m=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(h-m)/m>.3)throw new Y;let y=this.getOddCounts(),C=this.getEvenCounts(),S=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Et=0;Et<u.length;Et++){let vn=1*u[Et]/h,cr=vn+.5;if(cr<1){if(vn<.3)throw new Y;cr=1}else if(cr>8){if(vn>8.7)throw new Y;cr=8}let ra=Et/2;Et&1?(C[ra]=cr,I[ra]=vn-cr):(y[ra]=cr,S[ra]=vn-cr)}this.adjustOddEvenCounts(d);let D=4*s.getValue()+(a?0:2)+(c?0:1)-1,j=0,V=0;for(let Et=y.length-1;Et>=0;Et--){if(ie.isNotA1left(s,a,c)){let vn=ie.WEIGHTS[D][2*Et];V+=y[Et]*vn}j+=y[Et]}let X=0;for(let Et=C.length-1;Et>=0;Et--)if(ie.isNotA1left(s,a,c)){let vn=ie.WEIGHTS[D][2*Et+1];X+=C[Et]*vn}let $=V+X;if(j&1||j>13||j<4)throw new Y;let ue=(13-j)/2,de=ie.SYMBOL_WIDEST[ue],oe=9-de,tt=di.getRSSvalue(y,de,!0),He=di.getRSSvalue(C,oe,!1),er=ie.EVEN_TOTAL_SUBSET[ue],Hr=ie.GSUM[ue],tr=tt*er+He+Hr;return new qo(tr,$)}static isNotA1left(r,s,a){return!(r.getValue()==0&&s&&a)}adjustOddEvenCounts(r){let s=Qe.sum(new Int32Array(this.getOddCounts())),a=Qe.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;s>13?u=!0:s<4&&(c=!0);let d=!1,h=!1;a>13?h=!0:a<4&&(d=!0);let m=s+a-r,y=(s&1)==1,C=(a&1)==0;if(m==1)if(y){if(C)throw new Y;u=!0}else{if(!C)throw new Y;h=!0}else if(m==-1)if(y){if(C)throw new Y;c=!0}else{if(!C)throw new Y;d=!0}else if(m==0){if(y){if(!C)throw new Y;s<a?(c=!0,h=!0):(u=!0,d=!0)}else if(C)throw new Y}else throw new Y;if(c){if(u)throw new Y;ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new Y;ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ie.SYMBOL_WIDEST=[7,5,4,3,1],ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ie.GSUM=[0,348,1388,2948,3988],ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ie.FINDER_PAT_A=0,ie.FINDER_PAT_B=1,ie.FINDER_PAT_C=2,ie.FINDER_PAT_D=3,ie.FINDER_PAT_E=4,ie.FINDER_PAT_F=5,ie.FINDER_PATTERN_SEQUENCES=[[ie.FINDER_PAT_A,ie.FINDER_PAT_A],[ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B],[ie.FINDER_PAT_A,ie.FINDER_PAT_C,ie.FINDER_PAT_B,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_C],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F]],ie.MAX_PAIRS=11;class GT extends qo{constructor(r,s,a){super(r,s),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Wt extends _n{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,s,a){const c=this.decodePair(s,!1,r,a);Wt.addOrTally(this.possibleLeftPairs,c),s.reverse();let u=this.decodePair(s,!0,r,a);Wt.addOrTally(this.possibleRightPairs,u),s.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&Wt.checkChecksum(d,h))return Wt.constructResult(d,h)}throw new Y}static addOrTally(r,s){if(s==null)return;let a=!1;for(let c of r)if(c.getValue()===s.getValue()){c.incrementCount(),a=!0;break}a||r.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,s){let a=4537077*r.getValue()+s.getValue(),c=new String(a).toString(),u=new ae;for(let y=13-c.length;y>0;y--)u.append("0");u.append(c);let d=0;for(let y=0;y<13;y++){let C=u.charAt(y).charCodeAt(0)-48;d+=y&1?C:3*C}d=10-d%10,d===10&&(d=0),u.append(d.toString());let h=r.getFinderPattern().getResultPoints(),m=s.getFinderPattern().getResultPoints();return new ut(u.toString(),null,0,[h[0],h[1],m[0],m[1]],Me.RSS_14,new Date().getTime())}static checkChecksum(r,s){let a=(r.getChecksumPortion()+16*s.getChecksumPortion())%79,c=9*r.getFinderPattern().getValue()+s.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,a===c}decodePair(r,s,a,c){try{let u=this.findFinderPattern(r,s),d=this.parseFoundFinderPattern(r,a,s,u),h=c==null?null:c.get(Z.NEED_RESULT_POINT_CALLBACK);if(h!=null){let C=(u[0]+u[1])/2;s&&(C=r.getSize()-1-C),h.foundPossibleResultPoint(new Oe(C,a))}let m=this.decodeDataCharacter(r,d,!0),y=this.decodeDataCharacter(r,d,!1);return new GT(1597*m.getValue()+y.getValue(),m.getChecksumPortion()+4*y.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(r,s,a){let c=this.getDataCharacterCounters();for(let X=0;X<c.length;X++)c[X]=0;if(a)Ot.recordPatternInReverse(r,s.getStartEnd()[0],c);else{Ot.recordPattern(r,s.getStartEnd()[1]+1,c);for(let X=0,$=c.length-1;X<$;X++,$--){let ue=c[X];c[X]=c[$],c[$]=ue}}let u=a?16:15,d=Qe.sum(new Int32Array(c))/u,h=this.getOddCounts(),m=this.getEvenCounts(),y=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let X=0;X<c.length;X++){let $=c[X]/d,ue=Math.floor($+.5);ue<1?ue=1:ue>8&&(ue=8);let de=Math.floor(X/2);X&1?(m[de]=ue,C[de]=$-ue):(h[de]=ue,y[de]=$-ue)}this.adjustOddEvenCounts(a,u);let S=0,I=0;for(let X=h.length-1;X>=0;X--)I*=9,I+=h[X],S+=h[X];let D=0,j=0;for(let X=m.length-1;X>=0;X--)D*=9,D+=m[X],j+=m[X];let V=I+3*D;if(a){if(S&1||S>12||S<4)throw new Y;let X=(12-S)/2,$=Wt.OUTSIDE_ODD_WIDEST[X],ue=9-$,de=di.getRSSvalue(h,$,!1),oe=di.getRSSvalue(m,ue,!0),tt=Wt.OUTSIDE_EVEN_TOTAL_SUBSET[X],He=Wt.OUTSIDE_GSUM[X];return new qo(de*tt+oe+He,V)}else{if(j&1||j>10||j<4)throw new Y;let X=(10-j)/2,$=Wt.INSIDE_ODD_WIDEST[X],ue=9-$,de=di.getRSSvalue(h,$,!0),oe=di.getRSSvalue(m,ue,!1),tt=Wt.INSIDE_ODD_TOTAL_SUBSET[X],He=Wt.INSIDE_GSUM[X];return new qo(oe*tt+de+He,V)}}findFinderPattern(r,s){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=r.getSize(),u=!1,d=0;for(;d<c&&(u=!r.get(d),s!==u);)d++;let h=0,m=d;for(let y=d;y<c;y++)if(r.get(y)!==u)a[h]++;else{if(h===3){if(_n.isFinderPattern(a))return[m,y];m+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,h--}else h++;a[h]=1,u=!u}throw new Y}parseFoundFinderPattern(r,s,a,c){let u=r.get(c[0]),d=c[0]-1;for(;d>=0&&u!==r.get(d);)d--;d++;const h=c[0]-d,m=this.getDecodeFinderCounters(),y=new Int32Array(m.length);_.arraycopy(m,0,y,1,m.length-1),y[0]=h;const C=this.parseFinderValue(y,Wt.FINDER_PATTERNS);let S=d,I=c[1];return a&&(S=r.getSize()-1-S,I=r.getSize()-1-I),new uu(C,[d,c[1]],S,I,s)}adjustOddEvenCounts(r,s){let a=Qe.sum(new Int32Array(this.getOddCounts())),c=Qe.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1,h=!1,m=!1;r?(a>12?d=!0:a<4&&(u=!0),c>12?m=!0:c<4&&(h=!0)):(a>11?d=!0:a<5&&(u=!0),c>10?m=!0:c<4&&(h=!0));let y=a+c-s,C=(a&1)===(r?1:0),S=(c&1)===1;if(y===1)if(C){if(S)throw new Y;d=!0}else{if(!S)throw new Y;m=!0}else if(y===-1)if(C){if(S)throw new Y;u=!0}else{if(!S)throw new Y;h=!0}else if(y===0){if(C){if(!S)throw new Y;a<c?(u=!0,m=!0):(d=!0,h=!0)}else if(S)throw new Y}else throw new Y;if(u){if(d)throw new Y;_n.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&_n.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new Y;_n.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&_n.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Wt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Wt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Wt.OUTSIDE_GSUM=[0,161,961,2015,2715],Wt.INSIDE_GSUM=[0,336,1036,1516],Wt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Wt.INSIDE_ODD_WIDEST=[2,4,6,8],Wt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Jo extends Ot{constructor(r,s){super(),this.readers=[],this.verbose=s===!0;const a=r?r.get(Z.POSSIBLE_FORMATS):null,c=r&&r.get(Z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(Me.EAN_13)||a.includes(Me.UPC_A)||a.includes(Me.EAN_8)||a.includes(Me.UPC_E))&&this.readers.push(new Uf(r)),a.includes(Me.CODE_39)&&this.readers.push(new Kt(c)),a.includes(Me.CODE_128)&&this.readers.push(new me),a.includes(Me.ITF)&&this.readers.push(new ft),a.includes(Me.RSS_14)&&this.readers.push(new Wt),a.includes(Me.RSS_EXPANDED)&&this.readers.push(new ie(this.verbose))):(this.readers.push(new Uf(r)),this.readers.push(new Kt),this.readers.push(new Uf(r)),this.readers.push(new me),this.readers.push(new ft),this.readers.push(new Wt),this.readers.push(new ie(this.verbose)))}decodeRow(r,s,a){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(r,s,a)}catch{}throw new Y}reset(){this.readers.forEach(r=>r.reset())}}class YT extends Vt{constructor(r=500,s){super(new Jo(s),r,s)}}class ht{constructor(r,s,a){this.ecCodewords=r,this.ecBlocks=[s],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ct{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class nt{constructor(r,s,a,c,u,d){this.versionNumber=r,this.symbolSizeRows=s,this.symbolSizeColumns=a,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=d;let h=0;const m=d.getECCodewords(),y=d.getECBlocks();for(let C of y)h+=C.getCount()*(C.getDataCodewords()+m);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,s){if(r&1||s&1)throw new F;for(let a of nt.VERSIONS)if(a.symbolSizeRows===r&&a.symbolSizeColumns===s)return a;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new nt(1,10,10,8,8,new ht(5,new ct(1,3))),new nt(2,12,12,10,10,new ht(7,new ct(1,5))),new nt(3,14,14,12,12,new ht(10,new ct(1,8))),new nt(4,16,16,14,14,new ht(12,new ct(1,12))),new nt(5,18,18,16,16,new ht(14,new ct(1,18))),new nt(6,20,20,18,18,new ht(18,new ct(1,22))),new nt(7,22,22,20,20,new ht(20,new ct(1,30))),new nt(8,24,24,22,22,new ht(24,new ct(1,36))),new nt(9,26,26,24,24,new ht(28,new ct(1,44))),new nt(10,32,32,14,14,new ht(36,new ct(1,62))),new nt(11,36,36,16,16,new ht(42,new ct(1,86))),new nt(12,40,40,18,18,new ht(48,new ct(1,114))),new nt(13,44,44,20,20,new ht(56,new ct(1,144))),new nt(14,48,48,22,22,new ht(68,new ct(1,174))),new nt(15,52,52,24,24,new ht(42,new ct(2,102))),new nt(16,64,64,14,14,new ht(56,new ct(2,140))),new nt(17,72,72,16,16,new ht(36,new ct(4,92))),new nt(18,80,80,18,18,new ht(48,new ct(4,114))),new nt(19,88,88,20,20,new ht(56,new ct(4,144))),new nt(20,96,96,22,22,new ht(68,new ct(4,174))),new nt(21,104,104,24,24,new ht(56,new ct(6,136))),new nt(22,120,120,18,18,new ht(68,new ct(6,175))),new nt(23,132,132,20,20,new ht(62,new ct(8,163))),new nt(24,144,144,22,22,new ht(62,new ct(8,156),new ct(2,155))),new nt(25,8,18,6,16,new ht(7,new ct(1,5))),new nt(26,8,32,6,14,new ht(11,new ct(1,10))),new nt(27,12,26,10,24,new ht(14,new ct(1,16))),new nt(28,12,36,10,16,new ht(18,new ct(1,22))),new nt(29,16,36,14,16,new ht(24,new ct(1,32))),new nt(30,16,48,14,22,new ht(28,new ct(1,49)))]}}nt.VERSIONS=nt.buildVersions();class Wf{constructor(r){const s=r.getHeight();if(s<8||s>144||s&1)throw new F;this.version=Wf.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const s=r.getHeight(),a=r.getWidth();return nt.getVersionForDimensions(s,a)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let s=0,a=4,c=0;const u=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let h=!1,m=!1,y=!1,C=!1;do if(a===u&&c===0&&!h)r[s++]=this.readCorner1(u,d)&255,a-=2,c+=2,h=!0;else if(a===u-2&&c===0&&d&3&&!m)r[s++]=this.readCorner2(u,d)&255,a-=2,c+=2,m=!0;else if(a===u+4&&c===2&&!(d&7)&&!y)r[s++]=this.readCorner3(u,d)&255,a-=2,c+=2,y=!0;else if(a===u-2&&c===0&&(d&7)===4&&!C)r[s++]=this.readCorner4(u,d)&255,a-=2,c+=2,C=!0;else{do a<u&&c>=0&&!this.readMappingMatrix.get(c,a)&&(r[s++]=this.readUtah(a,c,u,d)&255),a-=2,c+=2;while(a>=0&&c<d);a+=1,c+=3;do a>=0&&c<d&&!this.readMappingMatrix.get(c,a)&&(r[s++]=this.readUtah(a,c,u,d)&255),a+=2,c-=2;while(a<u&&c>=0);a+=3,c+=1}while(a<u||c<d);if(s!==this.version.getTotalCodewords())throw new F;return r}readModule(r,s,a,c){return r<0&&(r+=a,s+=4-(a+4&7)),s<0&&(s+=c,r+=4-(c+4&7)),this.readMappingMatrix.set(s,r),this.mappingBitMatrix.get(s,r)}readUtah(r,s,a,c){let u=0;return this.readModule(r-2,s-2,a,c)&&(u|=1),u<<=1,this.readModule(r-2,s-1,a,c)&&(u|=1),u<<=1,this.readModule(r-1,s-2,a,c)&&(u|=1),u<<=1,this.readModule(r-1,s-1,a,c)&&(u|=1),u<<=1,this.readModule(r-1,s,a,c)&&(u|=1),u<<=1,this.readModule(r,s-2,a,c)&&(u|=1),u<<=1,this.readModule(r,s-1,a,c)&&(u|=1),u<<=1,this.readModule(r,s,a,c)&&(u|=1),u}readCorner1(r,s){let a=0;return this.readModule(r-1,0,r,s)&&(a|=1),a<<=1,this.readModule(r-1,1,r,s)&&(a|=1),a<<=1,this.readModule(r-1,2,r,s)&&(a|=1),a<<=1,this.readModule(0,s-2,r,s)&&(a|=1),a<<=1,this.readModule(0,s-1,r,s)&&(a|=1),a<<=1,this.readModule(1,s-1,r,s)&&(a|=1),a<<=1,this.readModule(2,s-1,r,s)&&(a|=1),a<<=1,this.readModule(3,s-1,r,s)&&(a|=1),a}readCorner2(r,s){let a=0;return this.readModule(r-3,0,r,s)&&(a|=1),a<<=1,this.readModule(r-2,0,r,s)&&(a|=1),a<<=1,this.readModule(r-1,0,r,s)&&(a|=1),a<<=1,this.readModule(0,s-4,r,s)&&(a|=1),a<<=1,this.readModule(0,s-3,r,s)&&(a|=1),a<<=1,this.readModule(0,s-2,r,s)&&(a|=1),a<<=1,this.readModule(0,s-1,r,s)&&(a|=1),a<<=1,this.readModule(1,s-1,r,s)&&(a|=1),a}readCorner3(r,s){let a=0;return this.readModule(r-1,0,r,s)&&(a|=1),a<<=1,this.readModule(r-1,s-1,r,s)&&(a|=1),a<<=1,this.readModule(0,s-3,r,s)&&(a|=1),a<<=1,this.readModule(0,s-2,r,s)&&(a|=1),a<<=1,this.readModule(0,s-1,r,s)&&(a|=1),a<<=1,this.readModule(1,s-3,r,s)&&(a|=1),a<<=1,this.readModule(1,s-2,r,s)&&(a|=1),a<<=1,this.readModule(1,s-1,r,s)&&(a|=1),a}readCorner4(r,s){let a=0;return this.readModule(r-3,0,r,s)&&(a|=1),a<<=1,this.readModule(r-2,0,r,s)&&(a|=1),a<<=1,this.readModule(r-1,0,r,s)&&(a|=1),a<<=1,this.readModule(0,s-2,r,s)&&(a|=1),a<<=1,this.readModule(0,s-1,r,s)&&(a|=1),a<<=1,this.readModule(1,s-1,r,s)&&(a|=1),a<<=1,this.readModule(2,s-1,r,s)&&(a|=1),a<<=1,this.readModule(3,s-1,r,s)&&(a|=1),a}extractDataRegion(r){const s=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(r.getHeight()!==s)throw new v("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),d=s/c|0,h=a/u|0,m=d*c,y=h*u,C=new re(y,m);for(let S=0;S<d;++S){const I=S*c;for(let D=0;D<h;++D){const j=D*u;for(let V=0;V<c;++V){const X=S*(c+2)+1+V,$=I+V;for(let ue=0;ue<u;++ue){const de=D*(u+2)+1+ue;if(r.get(de,X)){const oe=j+ue;C.set(oe,$)}}}}}return C}}class Gf{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s){const a=s.getECBlocks();let c=0;const u=a.getECBlocks();for(let V of u)c+=V.getCount();const d=new Array(c);let h=0;for(let V of u)for(let X=0;X<V.getCount();X++){const $=V.getDataCodewords(),ue=a.getECCodewords()+$;d[h++]=new Gf($,new Uint8Array(ue))}const y=d[0].codewords.length-a.getECCodewords(),C=y-1;let S=0;for(let V=0;V<C;V++)for(let X=0;X<h;X++)d[X].codewords[V]=r[S++];const I=s.getVersionNumber()===24,D=I?8:h;for(let V=0;V<D;V++)d[V].codewords[y-1]=r[S++];const j=d[0].codewords.length;for(let V=y;V<j;V++)for(let X=0;X<h;X++){const $=I?(X+8)%h:X,ue=I&&$>7?V-1:V;d[$].codewords[ue]=r[S++]}if(S!==r.length)throw new v;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Yf{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new v(""+r);let s=0,a=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(a>0){const d=8-a,h=r<d?r:d,m=d-h,y=255>>8-h<<m;s=(u[c]&y)>>m,r-=h,a+=h,a===8&&(a=0,c++)}if(r>0){for(;r>=8;)s=s<<8|u[c]&255,c++,r-=8;if(r>0){const d=8-r,h=255>>d<<d;s=s<<r|(u[c]&h)>>d,a+=r}}return this.bitOffset=a,this.byteOffset=c,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var sn;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(sn||(sn={}));class os{static decode(r){const s=new Yf(r),a=new ae,c=new ae,u=new Array;let d=sn.ASCII_ENCODE;do if(d===sn.ASCII_ENCODE)d=this.decodeAsciiSegment(s,a,c);else{switch(d){case sn.C40_ENCODE:this.decodeC40Segment(s,a);break;case sn.TEXT_ENCODE:this.decodeTextSegment(s,a);break;case sn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,a);break;case sn.EDIFACT_ENCODE:this.decodeEdifactSegment(s,a);break;case sn.BASE256_ENCODE:this.decodeBase256Segment(s,a,u);break;default:throw new F}d=sn.ASCII_ENCODE}while(d!==sn.PAD_ENCODE&&s.available()>0);return c.length()>0&&a.append(c.toString()),new Tr(r,a.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(r,s,a){let c=!1;do{let u=r.readBits(8);if(u===0)throw new F;if(u<=128)return c&&(u+=128),s.append(String.fromCharCode(u-1)),sn.ASCII_ENCODE;if(u===129)return sn.PAD_ENCODE;if(u<=229){const d=u-130;d<10&&s.append("0"),s.append(""+d)}else switch(u){case 230:return sn.C40_ENCODE;case 231:return sn.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:s.append("[)>05"),a.insert(0,"");break;case 237:s.append("[)>06"),a.insert(0,"");break;case 238:return sn.ANSIX12_ENCODE;case 239:return sn.TEXT_ENCODE;case 240:return sn.EDIFACT_ENCODE;case 241:break;default:if(u!==254||r.available()!==0)throw new F;break}}while(r.available()>0);return sn.ASCII_ENCODE}static decodeC40Segment(r,s){let a=!1;const c=[];let u=0;do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),c);for(let h=0;h<3;h++){const m=c[h];switch(u){case 0:if(m<3)u=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[m];a?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):s.append(y)}else throw new F;break;case 1:a?(s.append(String.fromCharCode(m+128)),a=!1):s.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[m];a?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):s.append(y)}else switch(m){case 27:s.append("");break;case 30:a=!0;break;default:throw new F}u=0;break;case 3:a?(s.append(String.fromCharCode(m+224)),a=!1):s.append(String.fromCharCode(m+96)),u=0;break;default:throw new F}}}while(r.available()>0)}static decodeTextSegment(r,s){let a=!1,c=[],u=0;do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),c);for(let h=0;h<3;h++){const m=c[h];switch(u){case 0:if(m<3)u=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[m];a?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):s.append(y)}else throw new F;break;case 1:a?(s.append(String.fromCharCode(m+128)),a=!1):s.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[m];a?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):s.append(y)}else switch(m){case 27:s.append("");break;case 30:a=!0;break;default:throw new F}u=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[m];a?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):s.append(y),u=0}else throw new F;break;default:throw new F}}}while(r.available()>0)}static decodeAnsiX12Segment(r,s){const a=[];do{if(r.available()===8)return;const c=r.readBits(8);if(c===254)return;this.parseTwoBytes(c,r.readBits(8),a);for(let u=0;u<3;u++){const d=a[u];switch(d){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(d<14)s.append(String.fromCharCode(d+44));else if(d<40)s.append(String.fromCharCode(d+51));else throw new F;break}}}while(r.available()>0)}static parseTwoBytes(r,s,a){let c=(r<<8)+s-1,u=Math.floor(c/1600);a[0]=u,c-=u*1600,u=Math.floor(c/40),a[1]=u,a[2]=c-u*40}static decodeEdifactSegment(r,s){do{if(r.available()<=16)return;for(let a=0;a<4;a++){let c=r.readBits(6);if(c===31){const u=8-r.getBitOffset();u!==8&&r.readBits(u);return}c&32||(c|=64),s.append(String.fromCharCode(c))}}while(r.available()>0)}static decodeBase256Segment(r,s,a){let c=1+r.getByteOffset();const u=this.unrandomize255State(r.readBits(8),c++);let d;if(u===0?d=r.available()/8|0:u<250?d=u:d=250*(u-249)+this.unrandomize255State(r.readBits(8),c++),d<0)throw new F;const h=new Uint8Array(d);for(let m=0;m<d;m++){if(r.available()<8)throw new F;h[m]=this.unrandomize255State(r.readBits(8),c++)}a.push(h);try{s.append(Ee.decode(h,ee.ISO88591))}catch(m){throw new qn("Platform does not support required encoding: "+m.message)}}static unrandomize255State(r,s){const a=149*s%255+1,c=r-a;return c>=0?c:c+256}}os.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],os.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],os.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],os.TEXT_SHIFT2_SET_CHARS=os.C40_SHIFT2_SET_CHARS,os.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class XT{constructor(){this.rsDecoder=new ui($e.DATA_MATRIX_FIELD_256)}decode(r){const s=new Wf(r),a=s.getVersion(),c=s.readCodewords(),u=Gf.getDataBlocks(c,a);let d=0;for(let y of u)d+=y.getNumDataCodewords();const h=new Uint8Array(d),m=u.length;for(let y=0;y<m;y++){const C=u[y],S=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(S,I);for(let D=0;D<I;D++)h[D*m+y]=S[D]}return os.decode(h)}correctErrors(r,s){const a=new Int32Array(r);try{this.rsDecoder.decode(a,r.length-s)}catch{throw new M}for(let c=0;c<s;c++)r[c]=a[c]}}class $t{constructor(r){this.image=r,this.rectangleDetector=new te(this.image)}detect(){const r=this.rectangleDetector.detect();let s=this.detectSolid1(r);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new Y;s=this.shiftToModuleCenter(s);const a=s[0],c=s[1],u=s[2],d=s[3];let h=this.transitionsBetween(a,d)+1,m=this.transitionsBetween(u,d)+1;(h&1)===1&&(h+=1),(m&1)===1&&(m+=1),4*h<7*m&&4*m<7*h&&(h=m=Math.max(h,m));let y=$t.sampleGrid(this.image,a,c,u,d,h,m);return new U(y,[a,c,u,d])}static shiftPoint(r,s,a){let c=(s.getX()-r.getX())/(a+1),u=(s.getY()-r.getY())/(a+1);return new Oe(r.getX()+c,r.getY()+u)}static moveAway(r,s,a){let c=r.getX(),u=r.getY();return c<s?c-=1:c+=1,u<a?u-=1:u+=1,new Oe(c,u)}detectSolid1(r){let s=r[0],a=r[1],c=r[3],u=r[2],d=this.transitionsBetween(s,a),h=this.transitionsBetween(a,c),m=this.transitionsBetween(c,u),y=this.transitionsBetween(u,s),C=d,S=[u,s,a,c];return C>h&&(C=h,S[0]=s,S[1]=a,S[2]=c,S[3]=u),C>m&&(C=m,S[0]=a,S[1]=c,S[2]=u,S[3]=s),C>y&&(S[0]=c,S[1]=u,S[2]=s,S[3]=a),S}detectSolid2(r){let s=r[0],a=r[1],c=r[2],u=r[3],d=this.transitionsBetween(s,u),h=$t.shiftPoint(a,c,(d+1)*4),m=$t.shiftPoint(c,a,(d+1)*4),y=this.transitionsBetween(h,s),C=this.transitionsBetween(m,u);return y<C?(r[0]=s,r[1]=a,r[2]=c,r[3]=u):(r[0]=a,r[1]=c,r[2]=u,r[3]=s),r}correctTopRight(r){let s=r[0],a=r[1],c=r[2],u=r[3],d=this.transitionsBetween(s,u),h=this.transitionsBetween(a,u),m=$t.shiftPoint(s,a,(h+1)*4),y=$t.shiftPoint(c,a,(d+1)*4);d=this.transitionsBetween(m,u),h=this.transitionsBetween(y,u);let C=new Oe(u.getX()+(c.getX()-a.getX())/(d+1),u.getY()+(c.getY()-a.getY())/(d+1)),S=new Oe(u.getX()+(s.getX()-a.getX())/(h+1),u.getY()+(s.getY()-a.getY())/(h+1));if(!this.isValid(C))return this.isValid(S)?S:null;if(!this.isValid(S))return C;let I=this.transitionsBetween(m,C)+this.transitionsBetween(y,C),D=this.transitionsBetween(m,S)+this.transitionsBetween(y,S);return I>D?C:S}shiftToModuleCenter(r){let s=r[0],a=r[1],c=r[2],u=r[3],d=this.transitionsBetween(s,u)+1,h=this.transitionsBetween(c,u)+1,m=$t.shiftPoint(s,a,h*4),y=$t.shiftPoint(c,a,d*4);d=this.transitionsBetween(m,u)+1,h=this.transitionsBetween(y,u)+1,(d&1)===1&&(d+=1),(h&1)===1&&(h+=1);let C=(s.getX()+a.getX()+c.getX()+u.getX())/4,S=(s.getY()+a.getY()+c.getY()+u.getY())/4;s=$t.moveAway(s,C,S),a=$t.moveAway(a,C,S),c=$t.moveAway(c,C,S),u=$t.moveAway(u,C,S);let I,D;return m=$t.shiftPoint(s,a,h*4),m=$t.shiftPoint(m,u,d*4),I=$t.shiftPoint(a,s,h*4),I=$t.shiftPoint(I,c,d*4),y=$t.shiftPoint(c,u,h*4),y=$t.shiftPoint(y,a,d*4),D=$t.shiftPoint(u,c,h*4),D=$t.shiftPoint(D,s,d*4),[m,I,y,D]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,s,a,c,u,d,h){return Ce.getInstance().sampleGrid(r,d,h,.5,.5,d-.5,.5,d-.5,h-.5,.5,h-.5,s.getX(),s.getY(),u.getX(),u.getY(),c.getX(),c.getY(),a.getX(),a.getY())}transitionsBetween(r,s){let a=Math.trunc(r.getX()),c=Math.trunc(r.getY()),u=Math.trunc(s.getX()),d=Math.trunc(s.getY()),h=Math.abs(d-c)>Math.abs(u-a);if(h){let V=a;a=c,c=V,V=u,u=d,d=V}let m=Math.abs(u-a),y=Math.abs(d-c),C=-m/2,S=c<d?1:-1,I=a<u?1:-1,D=0,j=this.image.get(h?c:a,h?a:c);for(let V=a,X=c;V!==u;V+=I){let $=this.image.get(h?X:V,h?V:X);if($!==j&&(D++,j=$),C+=y,C>0){if(X===d)break;X+=S,C-=m}}return D}}class as{constructor(){this.decoder=new XT}decode(r,s=null){let a,c;if(s!=null&&s.has(Z.PURE_BARCODE)){const y=as.extractPureBits(r.getBlackMatrix());a=this.decoder.decode(y),c=as.NO_POINTS}else{const y=new $t(r.getBlackMatrix()).detect();a=this.decoder.decode(y.getBits()),c=y.getPoints()}const u=a.getRawBytes(),d=new ut(a.getText(),u,8*u.length,c,Me.DATA_MATRIX,_.currentTimeMillis()),h=a.getByteSegments();h!=null&&d.putMetadata(kt.BYTE_SEGMENTS,h);const m=a.getECLevel();return m!=null&&d.putMetadata(kt.ERROR_CORRECTION_LEVEL,m),d}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),a=r.getBottomRightOnBit();if(s==null||a==null)throw new Y;const c=this.moduleSize(s,r);let u=s[1];const d=a[1];let h=s[0];const y=(a[0]-h+1)/c,C=(d-u+1)/c;if(y<=0||C<=0)throw new Y;const S=c/2;u+=S,h+=S;const I=new re(y,C);for(let D=0;D<C;D++){const j=u+D*c;for(let V=0;V<y;V++)r.get(h+V*c,j)&&I.set(V,D)}return I}static moduleSize(r,s){const a=s.getWidth();let c=r[0];const u=r[1];for(;c<a&&s.get(c,u);)c++;if(c===a)throw new Y;const d=c-r[0];if(d===0)throw new Y;return d}}as.NO_POINTS=[];class QT extends Vt{constructor(r=500){super(new as,r)}}var ea;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(ea||(ea={}));class At{constructor(r,s,a){this.value=r,this.stringValue=s,this.bits=a,At.FOR_BITS.set(a,this),At.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return At.L;case"M":return At.M;case"Q":return At.Q;case"H":return At.H;default:throw new w(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof At))return!1;const s=r;return this.value===s.value}static forBits(r){if(r<0||r>=At.FOR_BITS.size)throw new v;return At.FOR_BITS.get(r)}}At.FOR_BITS=new Map,At.FOR_VALUE=new Map,At.L=new At(ea.L,"L",1),At.M=new At(ea.M,"M",0),At.Q=new At(ea.Q,"Q",3),At.H=new At(ea.H,"H",2);class On{constructor(r){this.errorCorrectionLevel=At.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,s){return N.bitCount(r^s)}static decodeFormatInformation(r,s){const a=On.doDecodeFormatInformation(r,s);return a!==null?a:On.doDecodeFormatInformation(r^On.FORMAT_INFO_MASK_QR,s^On.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,s){let a=Number.MAX_SAFE_INTEGER,c=0;for(const u of On.FORMAT_INFO_DECODE_LOOKUP){const d=u[0];if(d===r||d===s)return new On(u[1]);let h=On.numBitsDiffering(r,d);h<a&&(c=u[1],a=h),r!==s&&(h=On.numBitsDiffering(s,d),h<a&&(c=u[1],a=h))}return a<=3?new On(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof On))return!1;const s=r;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}On.FORMAT_INFO_MASK_QR=21522,On.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Q{constructor(r,...s){this.ecCodewordsPerBlock=r,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const s=this.ecBlocks;for(const a of s)r+=a.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class R{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class De{constructor(r,s,...a){this.versionNumber=r,this.alignmentPatternCenters=s,this.ecBlocks=a;let c=0;const u=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();for(const h of d)c+=h.getCount()*(h.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new F;try{return this.getVersionForNumber((r-17)/4)}catch{throw new F}}static getVersionForNumber(r){if(r<1||r>40)throw new v;return De.VERSIONS[r-1]}static decodeVersionInformation(r){let s=Number.MAX_SAFE_INTEGER,a=0;for(let c=0;c<De.VERSION_DECODE_INFO.length;c++){const u=De.VERSION_DECODE_INFO[c];if(u===r)return De.getVersionForNumber(c+7);const d=On.numBitsDiffering(r,u);d<s&&(a=c+7,s=d)}return s<=3?De.getVersionForNumber(a):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),s=new re(r);s.setRegion(0,0,9,9),s.setRegion(r-8,0,8,9),s.setRegion(0,r-8,9,8);const a=this.alignmentPatternCenters.length;for(let c=0;c<a;c++){const u=this.alignmentPatternCenters[c]-2;for(let d=0;d<a;d++)c===0&&(d===0||d===a-1)||c===a-1&&d===0||s.setRegion(this.alignmentPatternCenters[d]-2,u,5,5)}return s.setRegion(6,9,1,r-17),s.setRegion(9,6,r-17,1),this.versionNumber>6&&(s.setRegion(r-11,0,3,6),s.setRegion(0,r-11,6,3)),s}toString(){return""+this.versionNumber}}De.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),De.VERSIONS=[new De(1,new Int32Array(0),new Q(7,new R(1,19)),new Q(10,new R(1,16)),new Q(13,new R(1,13)),new Q(17,new R(1,9))),new De(2,Int32Array.from([6,18]),new Q(10,new R(1,34)),new Q(16,new R(1,28)),new Q(22,new R(1,22)),new Q(28,new R(1,16))),new De(3,Int32Array.from([6,22]),new Q(15,new R(1,55)),new Q(26,new R(1,44)),new Q(18,new R(2,17)),new Q(22,new R(2,13))),new De(4,Int32Array.from([6,26]),new Q(20,new R(1,80)),new Q(18,new R(2,32)),new Q(26,new R(2,24)),new Q(16,new R(4,9))),new De(5,Int32Array.from([6,30]),new Q(26,new R(1,108)),new Q(24,new R(2,43)),new Q(18,new R(2,15),new R(2,16)),new Q(22,new R(2,11),new R(2,12))),new De(6,Int32Array.from([6,34]),new Q(18,new R(2,68)),new Q(16,new R(4,27)),new Q(24,new R(4,19)),new Q(28,new R(4,15))),new De(7,Int32Array.from([6,22,38]),new Q(20,new R(2,78)),new Q(18,new R(4,31)),new Q(18,new R(2,14),new R(4,15)),new Q(26,new R(4,13),new R(1,14))),new De(8,Int32Array.from([6,24,42]),new Q(24,new R(2,97)),new Q(22,new R(2,38),new R(2,39)),new Q(22,new R(4,18),new R(2,19)),new Q(26,new R(4,14),new R(2,15))),new De(9,Int32Array.from([6,26,46]),new Q(30,new R(2,116)),new Q(22,new R(3,36),new R(2,37)),new Q(20,new R(4,16),new R(4,17)),new Q(24,new R(4,12),new R(4,13))),new De(10,Int32Array.from([6,28,50]),new Q(18,new R(2,68),new R(2,69)),new Q(26,new R(4,43),new R(1,44)),new Q(24,new R(6,19),new R(2,20)),new Q(28,new R(6,15),new R(2,16))),new De(11,Int32Array.from([6,30,54]),new Q(20,new R(4,81)),new Q(30,new R(1,50),new R(4,51)),new Q(28,new R(4,22),new R(4,23)),new Q(24,new R(3,12),new R(8,13))),new De(12,Int32Array.from([6,32,58]),new Q(24,new R(2,92),new R(2,93)),new Q(22,new R(6,36),new R(2,37)),new Q(26,new R(4,20),new R(6,21)),new Q(28,new R(7,14),new R(4,15))),new De(13,Int32Array.from([6,34,62]),new Q(26,new R(4,107)),new Q(22,new R(8,37),new R(1,38)),new Q(24,new R(8,20),new R(4,21)),new Q(22,new R(12,11),new R(4,12))),new De(14,Int32Array.from([6,26,46,66]),new Q(30,new R(3,115),new R(1,116)),new Q(24,new R(4,40),new R(5,41)),new Q(20,new R(11,16),new R(5,17)),new Q(24,new R(11,12),new R(5,13))),new De(15,Int32Array.from([6,26,48,70]),new Q(22,new R(5,87),new R(1,88)),new Q(24,new R(5,41),new R(5,42)),new Q(30,new R(5,24),new R(7,25)),new Q(24,new R(11,12),new R(7,13))),new De(16,Int32Array.from([6,26,50,74]),new Q(24,new R(5,98),new R(1,99)),new Q(28,new R(7,45),new R(3,46)),new Q(24,new R(15,19),new R(2,20)),new Q(30,new R(3,15),new R(13,16))),new De(17,Int32Array.from([6,30,54,78]),new Q(28,new R(1,107),new R(5,108)),new Q(28,new R(10,46),new R(1,47)),new Q(28,new R(1,22),new R(15,23)),new Q(28,new R(2,14),new R(17,15))),new De(18,Int32Array.from([6,30,56,82]),new Q(30,new R(5,120),new R(1,121)),new Q(26,new R(9,43),new R(4,44)),new Q(28,new R(17,22),new R(1,23)),new Q(28,new R(2,14),new R(19,15))),new De(19,Int32Array.from([6,30,58,86]),new Q(28,new R(3,113),new R(4,114)),new Q(26,new R(3,44),new R(11,45)),new Q(26,new R(17,21),new R(4,22)),new Q(26,new R(9,13),new R(16,14))),new De(20,Int32Array.from([6,34,62,90]),new Q(28,new R(3,107),new R(5,108)),new Q(26,new R(3,41),new R(13,42)),new Q(30,new R(15,24),new R(5,25)),new Q(28,new R(15,15),new R(10,16))),new De(21,Int32Array.from([6,28,50,72,94]),new Q(28,new R(4,116),new R(4,117)),new Q(26,new R(17,42)),new Q(28,new R(17,22),new R(6,23)),new Q(30,new R(19,16),new R(6,17))),new De(22,Int32Array.from([6,26,50,74,98]),new Q(28,new R(2,111),new R(7,112)),new Q(28,new R(17,46)),new Q(30,new R(7,24),new R(16,25)),new Q(24,new R(34,13))),new De(23,Int32Array.from([6,30,54,78,102]),new Q(30,new R(4,121),new R(5,122)),new Q(28,new R(4,47),new R(14,48)),new Q(30,new R(11,24),new R(14,25)),new Q(30,new R(16,15),new R(14,16))),new De(24,Int32Array.from([6,28,54,80,106]),new Q(30,new R(6,117),new R(4,118)),new Q(28,new R(6,45),new R(14,46)),new Q(30,new R(11,24),new R(16,25)),new Q(30,new R(30,16),new R(2,17))),new De(25,Int32Array.from([6,32,58,84,110]),new Q(26,new R(8,106),new R(4,107)),new Q(28,new R(8,47),new R(13,48)),new Q(30,new R(7,24),new R(22,25)),new Q(30,new R(22,15),new R(13,16))),new De(26,Int32Array.from([6,30,58,86,114]),new Q(28,new R(10,114),new R(2,115)),new Q(28,new R(19,46),new R(4,47)),new Q(28,new R(28,22),new R(6,23)),new Q(30,new R(33,16),new R(4,17))),new De(27,Int32Array.from([6,34,62,90,118]),new Q(30,new R(8,122),new R(4,123)),new Q(28,new R(22,45),new R(3,46)),new Q(30,new R(8,23),new R(26,24)),new Q(30,new R(12,15),new R(28,16))),new De(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new R(3,117),new R(10,118)),new Q(28,new R(3,45),new R(23,46)),new Q(30,new R(4,24),new R(31,25)),new Q(30,new R(11,15),new R(31,16))),new De(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new R(7,116),new R(7,117)),new Q(28,new R(21,45),new R(7,46)),new Q(30,new R(1,23),new R(37,24)),new Q(30,new R(19,15),new R(26,16))),new De(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new R(5,115),new R(10,116)),new Q(28,new R(19,47),new R(10,48)),new Q(30,new R(15,24),new R(25,25)),new Q(30,new R(23,15),new R(25,16))),new De(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new R(13,115),new R(3,116)),new Q(28,new R(2,46),new R(29,47)),new Q(30,new R(42,24),new R(1,25)),new Q(30,new R(23,15),new R(28,16))),new De(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new R(17,115)),new Q(28,new R(10,46),new R(23,47)),new Q(30,new R(10,24),new R(35,25)),new Q(30,new R(19,15),new R(35,16))),new De(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new R(17,115),new R(1,116)),new Q(28,new R(14,46),new R(21,47)),new Q(30,new R(29,24),new R(19,25)),new Q(30,new R(11,15),new R(46,16))),new De(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new R(13,115),new R(6,116)),new Q(28,new R(14,46),new R(23,47)),new Q(30,new R(44,24),new R(7,25)),new Q(30,new R(59,16),new R(1,17))),new De(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new R(12,121),new R(7,122)),new Q(28,new R(12,47),new R(26,48)),new Q(30,new R(39,24),new R(14,25)),new Q(30,new R(22,15),new R(41,16))),new De(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new R(6,121),new R(14,122)),new Q(28,new R(6,47),new R(34,48)),new Q(30,new R(46,24),new R(10,25)),new Q(30,new R(2,15),new R(64,16))),new De(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new R(17,122),new R(4,123)),new Q(28,new R(29,46),new R(14,47)),new Q(30,new R(49,24),new R(10,25)),new Q(30,new R(24,15),new R(46,16))),new De(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new R(4,122),new R(18,123)),new Q(28,new R(13,46),new R(32,47)),new Q(30,new R(48,24),new R(14,25)),new Q(30,new R(42,15),new R(32,16))),new De(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new R(20,117),new R(4,118)),new Q(28,new R(40,47),new R(7,48)),new Q(30,new R(43,24),new R(22,25)),new Q(30,new R(10,15),new R(67,16))),new De(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new R(19,118),new R(6,119)),new Q(28,new R(18,47),new R(31,48)),new Q(30,new R(34,24),new R(34,25)),new Q(30,new R(20,15),new R(61,16)))];var hn;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(hn||(hn={}));class _r{constructor(r,s){this.value=r,this.isMasked=s}unmaskBitMatrix(r,s){for(let a=0;a<s;a++)for(let c=0;c<s;c++)this.isMasked(a,c)&&r.flip(c,a)}}_r.values=new Map([[hn.DATA_MASK_000,new _r(hn.DATA_MASK_000,(A,r)=>(A+r&1)===0)],[hn.DATA_MASK_001,new _r(hn.DATA_MASK_001,(A,r)=>(A&1)===0)],[hn.DATA_MASK_010,new _r(hn.DATA_MASK_010,(A,r)=>r%3===0)],[hn.DATA_MASK_011,new _r(hn.DATA_MASK_011,(A,r)=>(A+r)%3===0)],[hn.DATA_MASK_100,new _r(hn.DATA_MASK_100,(A,r)=>(Math.floor(A/2)+Math.floor(r/3)&1)===0)],[hn.DATA_MASK_101,new _r(hn.DATA_MASK_101,(A,r)=>A*r%6===0)],[hn.DATA_MASK_110,new _r(hn.DATA_MASK_110,(A,r)=>A*r%6<3)],[hn.DATA_MASK_111,new _r(hn.DATA_MASK_111,(A,r)=>(A+r+A*r%3&1)===0)]]);class ZT{constructor(r){const s=r.getHeight();if(s<21||(s&3)!==1)throw new F;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let u=0;u<6;u++)r=this.copyBit(u,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let u=5;u>=0;u--)r=this.copyBit(8,u,r);const s=this.bitMatrix.getHeight();let a=0;const c=s-7;for(let u=s-1;u>=c;u--)a=this.copyBit(8,u,a);for(let u=s-8;u<s;u++)a=this.copyBit(u,8,a);if(this.parsedFormatInfo=On.decodeFormatInformation(r,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),s=Math.floor((r-17)/4);if(s<=6)return De.getVersionForNumber(s);let a=0;const c=r-11;for(let d=5;d>=0;d--)for(let h=r-9;h>=c;h--)a=this.copyBit(h,d,a);let u=De.decodeVersionInformation(a);if(u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;a=0;for(let d=5;d>=0;d--)for(let h=r-9;h>=c;h--)a=this.copyBit(d,h,a);if(u=De.decodeVersionInformation(a),u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;throw new F}copyBit(r,s,a){return(this.isMirror?this.bitMatrix.get(s,r):this.bitMatrix.get(r,s))?a<<1|1:a<<1}readCodewords(){const r=this.readFormatInformation(),s=this.readVersion(),a=_r.values.get(r.getDataMask()),c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c);const u=s.buildFunctionPattern();let d=!0;const h=new Uint8Array(s.getTotalCodewords());let m=0,y=0,C=0;for(let S=c-1;S>0;S-=2){S===6&&S--;for(let I=0;I<c;I++){const D=d?c-1-I:I;for(let j=0;j<2;j++)u.get(S-j,D)||(C++,y<<=1,this.bitMatrix.get(S-j,D)&&(y|=1),C===8&&(h[m++]=y,C=0,y=0))}d=!d}if(m!==s.getTotalCodewords())throw new F;return h}remask(){if(this.parsedFormatInfo===null)return;const r=_r.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let s=0,a=r.getWidth();s<a;s++)for(let c=s+1,u=r.getHeight();c<u;c++)r.get(s,c)!==r.get(c,s)&&(r.flip(c,s),r.flip(s,c))}}class Xf{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s,a){if(r.length!==s.getTotalCodewords())throw new v;const c=s.getECBlocksForLevel(a);let u=0;const d=c.getECBlocks();for(const j of d)u+=j.getCount();const h=new Array(u);let m=0;for(const j of d)for(let V=0;V<j.getCount();V++){const X=j.getDataCodewords(),$=c.getECCodewordsPerBlock()+X;h[m++]=new Xf(X,new Uint8Array($))}const y=h[0].codewords.length;let C=h.length-1;for(;C>=0&&h[C].codewords.length!==y;)C--;C++;const S=y-c.getECCodewordsPerBlock();let I=0;for(let j=0;j<S;j++)for(let V=0;V<m;V++)h[V].codewords[j]=r[I++];for(let j=C;j<m;j++)h[j].codewords[S]=r[I++];const D=h[0].codewords.length;for(let j=S;j<D;j++)for(let V=0;V<m;V++){const X=V<C?j:j+1;h[V].codewords[X]=r[I++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Or;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(Or||(Or={}));class ke{constructor(r,s,a,c){this.value=r,this.stringValue=s,this.characterCountBitsForVersions=a,this.bits=c,ke.FOR_BITS.set(c,this),ke.FOR_VALUE.set(r,this)}static forBits(r){const s=ke.FOR_BITS.get(r);if(s===void 0)throw new v;return s}getCharacterCountBits(r){const s=r.getVersionNumber();let a;return s<=9?a=0:s<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof ke))return!1;const s=r;return this.value===s.value}toString(){return this.stringValue}}ke.FOR_BITS=new Map,ke.FOR_VALUE=new Map,ke.TERMINATOR=new ke(Or.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ke.NUMERIC=new ke(Or.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ke.ALPHANUMERIC=new ke(Or.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ke.STRUCTURED_APPEND=new ke(Or.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ke.BYTE=new ke(Or.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ke.ECI=new ke(Or.ECI,"ECI",Int32Array.from([0,0,0]),7),ke.KANJI=new ke(Or.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ke.FNC1_FIRST_POSITION=new ke(Or.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ke.FNC1_SECOND_POSITION=new ke(Or.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ke.HANZI=new ke(Or.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Lt{static decode(r,s,a,c){const u=new Yf(r);let d=new ae;const h=new Array;let m=-1,y=-1;try{let C=null,S=!1,I;do{if(u.available()<4)I=ke.TERMINATOR;else{const D=u.readBits(4);I=ke.forBits(D)}switch(I){case ke.TERMINATOR:break;case ke.FNC1_FIRST_POSITION:case ke.FNC1_SECOND_POSITION:S=!0;break;case ke.STRUCTURED_APPEND:if(u.available()<16)throw new F;m=u.readBits(8),y=u.readBits(8);break;case ke.ECI:const D=Lt.parseECIValue(u);if(C=G.getCharacterSetECIByValue(D),C===null)throw new F;break;case ke.HANZI:const j=u.readBits(4),V=u.readBits(I.getCharacterCountBits(s));j===Lt.GB2312_SUBSET&&Lt.decodeHanziSegment(u,d,V);break;default:const X=u.readBits(I.getCharacterCountBits(s));switch(I){case ke.NUMERIC:Lt.decodeNumericSegment(u,d,X);break;case ke.ALPHANUMERIC:Lt.decodeAlphanumericSegment(u,d,X,S);break;case ke.BYTE:Lt.decodeByteSegment(u,d,X,C,h,c);break;case ke.KANJI:Lt.decodeKanjiSegment(u,d,X);break;default:throw new F}break}}while(I!==ke.TERMINATOR)}catch{throw new F}return new Tr(r,d.toString(),h.length===0?null:h,a===null?null:a.toString(),m,y)}static decodeHanziSegment(r,s,a){if(a*13>r.available())throw new F;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const d=r.readBits(13);let h=d/96<<8&4294967295|d%96;h<959?h+=41377:h+=42657,c[u]=h>>8&255,c[u+1]=h&255,u+=2,a--}try{s.append(Ee.decode(c,ee.GB2312))}catch(d){throw new F(d)}}static decodeKanjiSegment(r,s,a){if(a*13>r.available())throw new F;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const d=r.readBits(13);let h=d/192<<8&4294967295|d%192;h<7936?h+=33088:h+=49472,c[u]=h>>8,c[u+1]=h,u+=2,a--}try{s.append(Ee.decode(c,ee.SHIFT_JIS))}catch(d){throw new F(d)}}static decodeByteSegment(r,s,a,c,u,d){if(8*a>r.available())throw new F;const h=new Uint8Array(a);for(let y=0;y<a;y++)h[y]=r.readBits(8);let m;c===null?m=ee.guessEncoding(h,d):m=c.getName();try{s.append(Ee.decode(h,m))}catch(y){throw new F(y)}u.push(h)}static toAlphaNumericChar(r){if(r>=Lt.ALPHANUMERIC_CHARS.length)throw new F;return Lt.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,s,a,c){const u=s.length();for(;a>1;){if(r.available()<11)throw new F;const d=r.readBits(11);s.append(Lt.toAlphaNumericChar(Math.floor(d/45))),s.append(Lt.toAlphaNumericChar(d%45)),a-=2}if(a===1){if(r.available()<6)throw new F;s.append(Lt.toAlphaNumericChar(r.readBits(6)))}if(c)for(let d=u;d<s.length();d++)s.charAt(d)==="%"&&(d<s.length()-1&&s.charAt(d+1)==="%"?s.deleteCharAt(d+1):s.setCharAt(d,""))}static decodeNumericSegment(r,s,a){for(;a>=3;){if(r.available()<10)throw new F;const c=r.readBits(10);if(c>=1e3)throw new F;s.append(Lt.toAlphaNumericChar(Math.floor(c/100))),s.append(Lt.toAlphaNumericChar(Math.floor(c/10)%10)),s.append(Lt.toAlphaNumericChar(c%10)),a-=3}if(a===2){if(r.available()<7)throw new F;const c=r.readBits(7);if(c>=100)throw new F;s.append(Lt.toAlphaNumericChar(Math.floor(c/10))),s.append(Lt.toAlphaNumericChar(c%10))}else if(a===1){if(r.available()<4)throw new F;const c=r.readBits(4);if(c>=10)throw new F;s.append(Lt.toAlphaNumericChar(c))}}static parseECIValue(r){const s=r.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const a=r.readBits(8);return(s&63)<<8&4294967295|a}if((s&224)===192){const a=r.readBits(16);return(s&31)<<16&4294967295|a}throw new F}}Lt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Lt.GB2312_SUBSET=1;class lp{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const s=r[0];r[0]=r[2],r[2]=s}}class qT{constructor(){this.rsDecoder=new ui($e.QR_CODE_FIELD_256)}decodeBooleanArray(r,s){return this.decodeBitMatrix(re.parseFromBooleanArray(r),s)}decodeBitMatrix(r,s){const a=new ZT(r);let c=null;try{return this.decodeBitMatrixParser(a,s)}catch(u){c=u}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const u=this.decodeBitMatrixParser(a,s);return u.setOther(new lp(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(r,s){const a=r.readVersion(),c=r.readFormatInformation().getErrorCorrectionLevel(),u=r.readCodewords(),d=Xf.getDataBlocks(u,a,c);let h=0;for(const C of d)h+=C.getNumDataCodewords();const m=new Uint8Array(h);let y=0;for(const C of d){const S=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(S,I);for(let D=0;D<I;D++)m[y++]=S[D]}return Lt.decode(m,a,c,s)}correctErrors(r,s){const a=new Int32Array(r);try{this.rsDecoder.decode(a,r.length-s)}catch{throw new M}for(let c=0;c<s;c++)r[c]=a[c]}}class Qf extends Oe{constructor(r,s,a){super(r,s),this.estimatedModuleSize=a}aboutEquals(r,s,a){if(Math.abs(s-this.getY())<=r&&Math.abs(a-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,s,a){const c=(this.getX()+s)/2,u=(this.getY()+r)/2,d=(this.estimatedModuleSize+a)/2;return new Qf(c,u,d)}}class hu{constructor(r,s,a,c,u,d,h){this.image=r,this.startX=s,this.startY=a,this.width=c,this.height=u,this.moduleSize=d,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,s=this.height,a=this.width,c=r+a,u=this.startY+s/2,d=new Int32Array(3),h=this.image;for(let m=0;m<s;m++){const y=u+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));d[0]=0,d[1]=0,d[2]=0;let C=r;for(;C<c&&!h.get(C,y);)C++;let S=0;for(;C<c;){if(h.get(C,y))if(S===1)d[1]++;else if(S===2){if(this.foundPatternCross(d)){const I=this.handlePossibleCenter(d,y,C);if(I!==null)return I}d[0]=d[2],d[1]=1,d[2]=0,S=1}else d[++S]++;else S===1&&S++,d[S]++;C++}if(this.foundPatternCross(d)){const I=this.handlePossibleCenter(d,y,c);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(r,s){return s-r[2]-r[1]/2}foundPatternCross(r){const s=this.moduleSize,a=s/2;for(let c=0;c<3;c++)if(Math.abs(s-r[c])>=a)return!1;return!0}crossCheckVertical(r,s,a,c){const u=this.image,d=u.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let m=r;for(;m>=0&&u.get(s,m)&&h[1]<=a;)h[1]++,m--;if(m<0||h[1]>a)return NaN;for(;m>=0&&!u.get(s,m)&&h[0]<=a;)h[0]++,m--;if(h[0]>a)return NaN;for(m=r+1;m<d&&u.get(s,m)&&h[1]<=a;)h[1]++,m++;if(m===d||h[1]>a)return NaN;for(;m<d&&!u.get(s,m)&&h[2]<=a;)h[2]++,m++;if(h[2]>a)return NaN;const y=h[0]+h[1]+h[2];return 5*Math.abs(y-c)>=2*c?NaN:this.foundPatternCross(h)?hu.centerFromEnd(h,m):NaN}handlePossibleCenter(r,s,a){const c=r[0]+r[1]+r[2],u=hu.centerFromEnd(r,a),d=this.crossCheckVertical(s,u,2*r[1],c);if(!isNaN(d)){const h=(r[0]+r[1]+r[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(h,d,u))return y.combineEstimate(d,u,h);const m=new Qf(u,d,h);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class Zf extends Oe{constructor(r,s,a,c){super(r,s),this.estimatedModuleSize=a,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,s,a){if(Math.abs(s-this.getY())<=r&&Math.abs(a-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,s,a){const c=this.count+1,u=(this.count*this.getX()+s)/c,d=(this.count*this.getY()+r)/c,h=(this.count*this.estimatedModuleSize+a)/c;return new Zf(u,d,h,c)}}class KT{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class gn{constructor(r,s){this.image=r,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const s=r!=null&&r.get(Z.TRY_HARDER)!==void 0,a=r!=null&&r.get(Z.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),d=c.getWidth();let h=Math.floor(3*u/(4*gn.MAX_MODULES));(h<gn.MIN_SKIP||s)&&(h=gn.MIN_SKIP);let m=!1;const y=new Int32Array(5);for(let S=h-1;S<u&&!m;S+=h){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let I=0;for(let D=0;D<d;D++)if(c.get(D,S))(I&1)===1&&I++,y[I]++;else if(I&1)y[I]++;else if(I===4)if(gn.foundPatternCross(y)){if(this.handlePossibleCenter(y,S,D,a)===!0)if(h=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const V=this.findRowSkip();V>y[2]&&(S+=V-y[2]-h,D=d-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,I=3;continue}I=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,I=3;else y[++I]++;gn.foundPatternCross(y)&&this.handlePossibleCenter(y,S,d,a)===!0&&(h=y[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Oe.orderBestPatterns(C),new KT(C)}static centerFromEnd(r,s){return s-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let s=0;for(let u=0;u<5;u++){const d=r[u];if(d===0)return!1;s+=d}if(s<7)return!1;const a=s/7,c=a/2;return Math.abs(a-r[0])<c&&Math.abs(a-r[1])<c&&Math.abs(3*a-r[2])<3*c&&Math.abs(a-r[3])<c&&Math.abs(a-r[4])<c}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,s,a,c){const u=this.getCrossCheckStateCount();let d=0;const h=this.image;for(;r>=d&&s>=d&&h.get(s-d,r-d);)u[2]++,d++;if(r<d||s<d)return!1;for(;r>=d&&s>=d&&!h.get(s-d,r-d)&&u[1]<=a;)u[1]++,d++;if(r<d||s<d||u[1]>a)return!1;for(;r>=d&&s>=d&&h.get(s-d,r-d)&&u[0]<=a;)u[0]++,d++;if(u[0]>a)return!1;const m=h.getHeight(),y=h.getWidth();for(d=1;r+d<m&&s+d<y&&h.get(s+d,r+d);)u[2]++,d++;if(r+d>=m||s+d>=y)return!1;for(;r+d<m&&s+d<y&&!h.get(s+d,r+d)&&u[3]<a;)u[3]++,d++;if(r+d>=m||s+d>=y||u[3]>=a)return!1;for(;r+d<m&&s+d<y&&h.get(s+d,r+d)&&u[4]<a;)u[4]++,d++;if(u[4]>=a)return!1;const C=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(C-c)<2*c&&gn.foundPatternCross(u)}crossCheckVertical(r,s,a,c){const u=this.image,d=u.getHeight(),h=this.getCrossCheckStateCount();let m=r;for(;m>=0&&u.get(s,m);)h[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(s,m)&&h[1]<=a;)h[1]++,m--;if(m<0||h[1]>a)return NaN;for(;m>=0&&u.get(s,m)&&h[0]<=a;)h[0]++,m--;if(h[0]>a)return NaN;for(m=r+1;m<d&&u.get(s,m);)h[2]++,m++;if(m===d)return NaN;for(;m<d&&!u.get(s,m)&&h[3]<a;)h[3]++,m++;if(m===d||h[3]>=a)return NaN;for(;m<d&&u.get(s,m)&&h[4]<a;)h[4]++,m++;if(h[4]>=a)return NaN;const y=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(y-c)>=2*c?NaN:gn.foundPatternCross(h)?gn.centerFromEnd(h,m):NaN}crossCheckHorizontal(r,s,a,c){const u=this.image,d=u.getWidth(),h=this.getCrossCheckStateCount();let m=r;for(;m>=0&&u.get(m,s);)h[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(m,s)&&h[1]<=a;)h[1]++,m--;if(m<0||h[1]>a)return NaN;for(;m>=0&&u.get(m,s)&&h[0]<=a;)h[0]++,m--;if(h[0]>a)return NaN;for(m=r+1;m<d&&u.get(m,s);)h[2]++,m++;if(m===d)return NaN;for(;m<d&&!u.get(m,s)&&h[3]<a;)h[3]++,m++;if(m===d||h[3]>=a)return NaN;for(;m<d&&u.get(m,s)&&h[4]<a;)h[4]++,m++;if(h[4]>=a)return NaN;const y=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(y-c)>=c?NaN:gn.foundPatternCross(h)?gn.centerFromEnd(h,m):NaN}handlePossibleCenter(r,s,a,c){const u=r[0]+r[1]+r[2]+r[3]+r[4];let d=gn.centerFromEnd(r,a),h=this.crossCheckVertical(s,Math.floor(d),r[2],u);if(!isNaN(h)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(h),r[2],u),!isNaN(d)&&(!c||this.crossCheckDiagonal(Math.floor(h),Math.floor(d),r[2],u)))){const m=u/7;let y=!1;const C=this.possibleCenters;for(let S=0,I=C.length;S<I;S++){const D=C[S];if(D.aboutEquals(m,h,d)){C[S]=D.combineEstimate(h,d,m),y=!0;break}}if(!y){const S=new Zf(d,h,m);C.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const a of this.possibleCenters)if(a.getCount()>=gn.CENTER_QUORUM)if(s==null)s=a;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-a.getX())-Math.abs(s.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,s=0;const a=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=gn.CENTER_QUORUM&&(r++,s+=d.getEstimatedModuleSize());if(r<3)return!1;const c=s/a;let u=0;for(const d of this.possibleCenters)u+=Math.abs(d.getEstimatedModuleSize()-c);return u<=.05*s}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new Y;const s=this.possibleCenters;let a;if(r>3){let c=0,u=0;for(const m of this.possibleCenters){const y=m.getEstimatedModuleSize();c+=y,u+=y*y}a=c/r;let d=Math.sqrt(u/r-a*a);s.sort((m,y)=>{const C=Math.abs(y.getEstimatedModuleSize()-a),S=Math.abs(m.getEstimatedModuleSize()-a);return C<S?-1:C>S?1:0});const h=Math.max(.2*a,d);for(let m=0;m<s.length&&s.length>3;m++){const y=s[m];Math.abs(y.getEstimatedModuleSize()-a)>h&&(s.splice(m,1),m--)}}if(s.length>3){let c=0;for(const u of s)c+=u.getEstimatedModuleSize();a=c/s.length,s.sort((u,d)=>{if(d.getCount()===u.getCount()){const h=Math.abs(d.getEstimatedModuleSize()-a),m=Math.abs(u.getEstimatedModuleSize()-a);return h<m?1:h>m?-1:0}else return d.getCount()-u.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}gn.CENTER_QUORUM=2,gn.MIN_SKIP=3,gn.MAX_MODULES=57;class yl{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(Z.NEED_RESULT_POINT_CALLBACK);const a=new gn(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(a)}processFinderPatternInfo(r){const s=r.getTopLeft(),a=r.getTopRight(),c=r.getBottomLeft(),u=this.calculateModuleSize(s,a,c);if(u<1)throw new Y("No pattern found in proccess finder.");const d=yl.computeDimension(s,a,c,u),h=De.getProvisionalVersionForDimension(d),m=h.getDimensionForVersion()-7;let y=null;if(h.getAlignmentPatternCenters().length>0){const D=a.getX()-s.getX()+c.getX(),j=a.getY()-s.getY()+c.getY(),V=1-3/m,X=Math.floor(s.getX()+V*(D-s.getX())),$=Math.floor(s.getY()+V*(j-s.getY()));for(let ue=4;ue<=16;ue<<=1)try{y=this.findAlignmentInRegion(u,X,$,ue);break}catch(de){if(!(de instanceof Y))throw de}}const C=yl.createTransform(s,a,c,y,d),S=yl.sampleGrid(this.image,C,d);let I;return y===null?I=[c,s,a]:I=[c,s,a,y],new U(S,I)}static createTransform(r,s,a,c,u){const d=u-3.5;let h,m,y,C;return c!==null?(h=c.getX(),m=c.getY(),y=d-3,C=y):(h=s.getX()-r.getX()+a.getX(),m=s.getY()-r.getY()+a.getY(),y=d,C=d),he.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,y,C,3.5,d,r.getX(),r.getY(),s.getX(),s.getY(),h,m,a.getX(),a.getY())}static sampleGrid(r,s,a){return Ce.getInstance().sampleGridWithTransform(r,a,a,s)}static computeDimension(r,s,a,c){const u=Qe.round(Oe.distance(r,s)/c),d=Qe.round(Oe.distance(r,a)/c);let h=Math.floor((u+d)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new Y("Dimensions could be not found.")}return h}calculateModuleSize(r,s,a){return(this.calculateModuleSizeOneWay(r,s)+this.calculateModuleSizeOneWay(r,a))/2}calculateModuleSizeOneWay(r,s){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(s.getX()),Math.floor(s.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(a)?c/7:isNaN(c)?a/7:(a+c)/14}sizeOfBlackWhiteBlackRunBothWays(r,s,a,c){let u=this.sizeOfBlackWhiteBlackRun(r,s,a,c),d=1,h=r-(a-r);h<0?(d=r/(r-h),h=0):h>=this.image.getWidth()&&(d=(this.image.getWidth()-1-r)/(h-r),h=this.image.getWidth()-1);let m=Math.floor(s-(c-s)*d);return d=1,m<0?(d=s/(s-m),m=0):m>=this.image.getHeight()&&(d=(this.image.getHeight()-1-s)/(m-s),m=this.image.getHeight()-1),h=Math.floor(r+(h-r)*d),u+=this.sizeOfBlackWhiteBlackRun(r,s,h,m),u-1}sizeOfBlackWhiteBlackRun(r,s,a,c){const u=Math.abs(c-s)>Math.abs(a-r);if(u){let D=r;r=s,s=D,D=a,a=c,c=D}const d=Math.abs(a-r),h=Math.abs(c-s);let m=-d/2;const y=r<a?1:-1,C=s<c?1:-1;let S=0;const I=a+y;for(let D=r,j=s;D!==I;D+=y){const V=u?j:D,X=u?D:j;if(S===1===this.image.get(V,X)){if(S===2)return Qe.distance(D,j,r,s);S++}if(m+=h,m>0){if(j===c)break;j+=C,m-=d}}return S===2?Qe.distance(a+y,c,r,s):NaN}findAlignmentInRegion(r,s,a,c){const u=Math.floor(c*r),d=Math.max(0,s-u),h=Math.min(this.image.getWidth()-1,s+u);if(h-d<r*3)throw new Y("Alignment top exceeds estimated module size.");const m=Math.max(0,a-u),y=Math.min(this.image.getHeight()-1,a+u);if(y-m<r*3)throw new Y("Alignment bottom exceeds estimated module size.");return new hu(this.image,d,m,h-d,y-m,r,this.resultPointCallback).find()}}class ls{constructor(){this.decoder=new qT}getDecoder(){return this.decoder}decode(r,s){let a,c;if(s!=null&&s.get(Z.PURE_BARCODE)!==void 0){const m=ls.extractPureBits(r.getBlackMatrix());a=this.decoder.decodeBitMatrix(m,s),c=ls.NO_POINTS}else{const m=new yl(r.getBlackMatrix()).detect(s);a=this.decoder.decodeBitMatrix(m.getBits(),s),c=m.getPoints()}a.getOther()instanceof lp&&a.getOther().applyMirroredCorrection(c);const u=new ut(a.getText(),a.getRawBytes(),void 0,c,Me.QR_CODE,void 0),d=a.getByteSegments();d!==null&&u.putMetadata(kt.BYTE_SEGMENTS,d);const h=a.getECLevel();return h!==null&&u.putMetadata(kt.ERROR_CORRECTION_LEVEL,h),a.hasStructuredAppend()&&(u.putMetadata(kt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),u.putMetadata(kt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),u}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),a=r.getBottomRightOnBit();if(s===null||a===null)throw new Y;const c=this.moduleSize(s,r);let u=s[1],d=a[1],h=s[0],m=a[0];if(h>=m||u>=d)throw new Y;if(d-u!==m-h&&(m=h+(d-u),m>=r.getWidth()))throw new Y;const y=Math.round((m-h+1)/c),C=Math.round((d-u+1)/c);if(y<=0||C<=0)throw new Y;if(C!==y)throw new Y;const S=Math.floor(c/2);u+=S,h+=S;const I=h+Math.floor((y-1)*c)-m;if(I>0){if(I>S)throw new Y;h-=I}const D=u+Math.floor((C-1)*c)-d;if(D>0){if(D>S)throw new Y;u-=D}const j=new re(y,C);for(let V=0;V<C;V++){const X=u+Math.floor(V*c);for(let $=0;$<y;$++)r.get(h+Math.floor($*c),X)&&j.set($,V)}return j}static moduleSize(r,s){const a=s.getHeight(),c=s.getWidth();let u=r[0],d=r[1],h=!0,m=0;for(;u<c&&d<a;){if(h!==s.get(u,d)){if(++m===5)break;h=!h}u++,d++}if(u===c||d===a)throw new Y;return(u-r[0])/7}}ls.NO_POINTS=new Array;class Be{PDF417Common(){}static getBitCountSum(r){return Qe.sum(r)}static toIntArray(r){if(r==null||!r.length)return Be.EMPTY_INT_ARRAY;const s=new Int32Array(r.length);let a=0;for(const c of r)s[a++]=c;return s}static getCodeword(r){const s=T.binarySearch(Be.SYMBOL_TABLE,r&262143);return s<0?-1:(Be.CODEWORD_TABLE[s]-1)%Be.NUMBER_OF_CODEWORDS}}Be.NUMBER_OF_CODEWORDS=929,Be.MAX_CODEWORDS_IN_BARCODE=Be.NUMBER_OF_CODEWORDS-1,Be.MIN_ROWS_IN_BARCODE=3,Be.MAX_ROWS_IN_BARCODE=90,Be.MODULES_IN_CODEWORD=17,Be.MODULES_IN_STOP_PATTERN=18,Be.BARS_IN_MODULE=8,Be.EMPTY_INT_ARRAY=new Int32Array([]),Be.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Be.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class $T{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Ze{static detectMultiple(r,s,a){let c=r.getBlackMatrix(),u=Ze.detect(a,c);return u.length||(c=c.clone(),c.rotate180(),u=Ze.detect(a,c)),new $T(c,u)}static detect(r,s){const a=new Array;let c=0,u=0,d=!1;for(;c<s.getHeight();){const h=Ze.findVertices(s,c,u);if(h[0]==null&&h[3]==null){if(!d)break;d=!1,u=0;for(const m of a)m[1]!=null&&(c=Math.trunc(Math.max(c,m[1].getY()))),m[3]!=null&&(c=Math.max(c,Math.trunc(m[3].getY())));c+=Ze.ROW_STEP;continue}if(d=!0,a.push(h),!r)break;h[2]!=null?(u=Math.trunc(h[2].getX()),c=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),c=Math.trunc(h[4].getY()))}return a}static findVertices(r,s,a){const c=r.getHeight(),u=r.getWidth(),d=new Array(8);return Ze.copyToResult(d,Ze.findRowsWithPattern(r,c,u,s,a,Ze.START_PATTERN),Ze.INDEXES_START_PATTERN),d[4]!=null&&(a=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY())),Ze.copyToResult(d,Ze.findRowsWithPattern(r,c,u,s,a,Ze.STOP_PATTERN),Ze.INDEXES_STOP_PATTERN),d}static copyToResult(r,s,a){for(let c=0;c<a.length;c++)r[a[c]]=s[c]}static findRowsWithPattern(r,s,a,c,u,d){const h=new Array(4);let m=!1;const y=new Int32Array(d.length);for(;c<s;c+=Ze.ROW_STEP){let S=Ze.findGuardPattern(r,u,c,a,!1,d,y);if(S!=null){for(;c>0;){const I=Ze.findGuardPattern(r,u,--c,a,!1,d,y);if(I!=null)S=I;else{c++;break}}h[0]=new Oe(S[0],c),h[1]=new Oe(S[1],c),m=!0;break}}let C=c+1;if(m){let S=0,I=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;C<s;C++){const D=Ze.findGuardPattern(r,I[0],C,a,!1,d,y);if(D!=null&&Math.abs(I[0]-D[0])<Ze.MAX_PATTERN_DRIFT&&Math.abs(I[1]-D[1])<Ze.MAX_PATTERN_DRIFT)I=D,S=0;else{if(S>Ze.SKIPPED_ROW_COUNT_MAX)break;S++}}C-=S+1,h[2]=new Oe(I[0],C),h[3]=new Oe(I[1],C)}return C-c<Ze.BARCODE_MIN_HEIGHT&&T.fill(h,null),h}static findGuardPattern(r,s,a,c,u,d,h){T.fillWithin(h,0,h.length,0);let m=s,y=0;for(;r.get(m,a)&&m>0&&y++<Ze.MAX_PIXEL_DRIFT;)m--;let C=m,S=0,I=d.length;for(let D=u;C<c;C++)if(r.get(C,a)!==D)h[S]++;else{if(S===I-1){if(Ze.patternMatchVariance(h,d,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return new Int32Array([m,C]);m+=h[0]+h[1],_.arraycopy(h,2,h,0,S-1),h[S-1]=0,h[S]=0,S--}else S++;h[S]=1,D=!D}return S===I-1&&Ze.patternMatchVariance(h,d,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE?new Int32Array([m,C-1]):null}static patternMatchVariance(r,s,a){let c=r.length,u=0,d=0;for(let y=0;y<c;y++)u+=r[y],d+=s[y];if(u<d)return 1/0;let h=u/d;a*=h;let m=0;for(let y=0;y<c;y++){let C=r[y],S=s[y]*h,I=C>S?C-S:S-C;if(I>a)return 1/0;m+=I}return m/u}}Ze.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ze.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ze.MAX_AVG_VARIANCE=.42,Ze.MAX_INDIVIDUAL_VARIANCE=.8,Ze.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ze.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ze.MAX_PIXEL_DRIFT=3,Ze.MAX_PATTERN_DRIFT=5,Ze.SKIPPED_ROW_COUNT_MAX=25,Ze.ROW_STEP=5,Ze.BARCODE_MIN_HEIGHT=10;class yn{constructor(r,s){if(s.length===0)throw new v;this.field=r;let a=s.length;if(a>1&&s[0]===0){let c=1;for(;c<a&&s[c]===0;)c++;c===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-c),_.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let s=this.coefficients[0],a=this.coefficients.length;for(let c=1;c<a;c++)s=this.field.add(this.field.multiply(r,s),this.coefficients[c]);return s}add(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,a=r.coefficients;if(s.length>a.length){let d=s;s=a,a=d}let c=new Int32Array(a.length),u=a.length-s.length;_.arraycopy(a,0,c,0,u);for(let d=u;d<a.length;d++)c[d]=this.field.add(s[d-u],a[d]);return new yn(this.field,c)}subtract(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof yn?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new yn(this.field,new Int32Array([0]));let s=this.coefficients,a=s.length,c=r.coefficients,u=c.length,d=new Int32Array(a+u-1);for(let h=0;h<a;h++){let m=s[h];for(let y=0;y<u;y++)d[h+y]=this.field.add(d[h+y],this.field.multiply(m,c[y]))}return new yn(this.field,d)}negative(){let r=this.coefficients.length,s=new Int32Array(r);for(let a=0;a<r;a++)s[a]=this.field.subtract(0,this.coefficients[a]);return new yn(this.field,s)}multiplyScalar(r){if(r===0)return new yn(this.field,new Int32Array([0]));if(r===1)return this;let s=this.coefficients.length,a=new Int32Array(s);for(let c=0;c<s;c++)a[c]=this.field.multiply(this.coefficients[c],r);return new yn(this.field,a)}multiplyByMonomial(r,s){if(r<0)throw new v;if(s===0)return new yn(this.field,new Int32Array([0]));let a=this.coefficients.length,c=new Int32Array(a+r);for(let u=0;u<a;u++)c[u]=this.field.multiply(this.coefficients[u],s);return new yn(this.field,c)}toString(){let r=new ae;for(let s=this.getDegree();s>=0;s--){let a=this.getCoefficient(s);a!==0&&(a<0?(r.append(" - "),a=-a):r.length()>0&&r.append(" + "),(s===0||a!==1)&&r.append(a),s!==0&&(s===1?r.append("x"):(r.append("x^"),r.append(s))))}return r.toString()}}class JT{add(r,s){return(r+s)%this.modulus}subtract(r,s){return(this.modulus+r-s)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new v;return this.logTable[r]}inverse(r){if(r===0)throw new ci;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class qf extends JT{constructor(r,s){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let a=1;for(let c=0;c<r;c++)this.expTable[c]=a,a=a*s%r;for(let c=0;c<r-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new yn(this,new Int32Array([0])),this.one=new yn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new v;if(s===0)return this.zero;let a=new Int32Array(r+1);return a[0]=s,new yn(this,a)}}qf.PDF417_GF=new qf(Be.NUMBER_OF_CODEWORDS,3);class cp{constructor(){this.field=qf.PDF417_GF}decode(r,s,a){let c=new yn(this.field,r),u=new Int32Array(s),d=!1;for(let j=s;j>0;j--){let V=c.evaluateAt(this.field.exp(j));u[s-j]=V,V!==0&&(d=!0)}if(!d)return 0;let h=this.field.getOne();if(a!=null)for(const j of a){let V=this.field.exp(r.length-1-j),X=new yn(this.field,new Int32Array([this.field.subtract(0,V),1]));h=h.multiply(X)}let m=new yn(this.field,u),y=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),m,s),C=y[0],S=y[1],I=this.findErrorLocations(C),D=this.findErrorMagnitudes(S,C,I);for(let j=0;j<I.length;j++){let V=r.length-1-this.field.log(I[j]);if(V<0)throw M.getChecksumInstance();r[V]=this.field.subtract(r[V],D[j])}return I.length}runEuclideanAlgorithm(r,s,a){if(r.getDegree()<s.getDegree()){let I=r;r=s,s=I}let c=r,u=s,d=this.field.getZero(),h=this.field.getOne();for(;u.getDegree()>=Math.round(a/2);){let I=c,D=d;if(c=u,d=h,c.isZero())throw M.getChecksumInstance();u=I;let j=this.field.getZero(),V=c.getCoefficient(c.getDegree()),X=this.field.inverse(V);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let $=u.getDegree()-c.getDegree(),ue=this.field.multiply(u.getCoefficient(u.getDegree()),X);j=j.add(this.field.buildMonomial($,ue)),u=u.subtract(c.multiplyByMonomial($,ue))}h=j.multiply(d).subtract(D).negative()}let m=h.getCoefficient(0);if(m===0)throw M.getChecksumInstance();let y=this.field.inverse(m),C=h.multiply(y),S=u.multiply(y);return[C,S]}findErrorLocations(r){let s=r.getDegree(),a=new Int32Array(s),c=0;for(let u=1;u<this.field.getSize()&&c<s;u++)r.evaluateAt(u)===0&&(a[c]=this.field.inverse(u),c++);if(c!==s)throw M.getChecksumInstance();return a}findErrorMagnitudes(r,s,a){let c=s.getDegree(),u=new Int32Array(c);for(let y=1;y<=c;y++)u[c-y]=this.field.multiply(y,s.getCoefficient(y));let d=new yn(this.field,u),h=a.length,m=new Int32Array(h);for(let y=0;y<h;y++){let C=this.field.inverse(a[y]),S=this.field.subtract(0,r.evaluateAt(C)),I=this.field.inverse(d.evaluateAt(C));m[y]=this.field.multiply(S,I)}return m}}class fo{constructor(r,s,a,c,u){r instanceof fo?this.constructor_2(r):this.constructor_1(r,s,a,c,u)}constructor_1(r,s,a,c,u){const d=s==null||a==null,h=c==null||u==null;if(d&&h)throw new Y;d?(s=new Oe(0,c.getY()),a=new Oe(0,u.getY())):h&&(c=new Oe(r.getWidth()-1,s.getY()),u=new Oe(r.getWidth()-1,a.getY())),this.image=r,this.topLeft=s,this.bottomLeft=a,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(s.getX(),a.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(s.getY(),c.getY())),this.maxY=Math.trunc(Math.max(a.getY(),u.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,s){return r==null?s:s==null?r:new fo(r.image,r.topLeft,r.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(r,s,a){let c=this.topLeft,u=this.bottomLeft,d=this.topRight,h=this.bottomRight;if(r>0){let m=a?this.topLeft:this.topRight,y=Math.trunc(m.getY()-r);y<0&&(y=0);let C=new Oe(m.getX(),y);a?c=C:d=C}if(s>0){let m=a?this.bottomLeft:this.bottomRight,y=Math.trunc(m.getY()+s);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let C=new Oe(m.getX(),y);a?u=C:h=C}return new fo(this.image,c,u,d,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class e4{constructor(r,s,a,c){this.columnCount=r,this.errorCorrectionLevel=c,this.rowCountUpperPart=s,this.rowCountLowerPart=a,this.rowCount=s+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class wl{constructor(){this.buffer=""}static form(r,s){let a=-1;function c(d,h,m,y,C,S){if(d==="%%")return"%";if(s[++a]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,D;switch(S){case"s":D=s[a];break;case"c":D=s[a][0];break;case"f":D=parseFloat(s[a]).toFixed(d);break;case"p":D=parseFloat(s[a]).toPrecision(d);break;case"e":D=parseFloat(s[a]).toExponential(d);break;case"x":D=parseInt(s[a]).toString(I||16);break;case"d":D=parseFloat(parseInt(s[a],I||10).toPrecision(d)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(I);let j=parseInt(m),V=m&&m[0]+""=="0"?"0":" ";for(;D.length<j;)D=h!==void 0?D+V:V+D;return D}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}format(r,...s){this.buffer+=wl.form(r,s)}toString(){return this.buffer}}class vl{constructor(r){this.boundingBox=new fo(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let s=this.getCodeword(r);if(s!=null)return s;for(let a=1;a<vl.MAX_NEARBY_DISTANCE;a++){let c=this.imageRowToCodewordIndex(r)-a;if(c>=0&&(s=this.codewords[c],s!=null)||(c=this.imageRowToCodewordIndex(r)+a,c<this.codewords.length&&(s=this.codewords[c],s!=null)))return s}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,s){this.codewords[this.imageRowToCodewordIndex(r)]=s}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new wl;let s=0;for(const a of this.codewords){if(a==null){r.format("%3d:    |   %n",s++);continue}r.format("%3d: %3d|%3d%n",s++,a.getRowNumber(),a.getValue())}return r.toString()}}vl.MAX_NEARBY_DISTANCE=5;class Cl{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let s=this.values.get(r);s==null&&(s=0),s++,this.values.set(r,s)}getValue(){let r=-1,s=new Array;for(const[a,c]of this.values.entries()){const u={getKey:()=>a,getValue:()=>c};u.getValue()>r?(r=u.getValue(),s=[],s.push(u.getKey())):u.getValue()===r&&s.push(u.getKey())}return Be.toIntArray(s)}getConfidence(r){return this.values.get(r)}}class up extends vl{constructor(r,s){super(r),this._isLeft=s}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,r);let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=-1,y=1,C=0;for(let S=d;S<h;S++){if(s[S]==null)continue;let I=s[S],D=I.getRowNumber()-m;if(D===0)C++;else if(D===1)y=Math.max(y,C),C=1,m=I.getRowNumber();else if(D<0||I.getRowNumber()>=r.getRowCount()||D>S)s[S]=null;else{let j;y>2?j=(y-2)*D:j=D;let V=j>=S;for(let X=1;X<=j&&!V;X++)V=s[S-X]!=null;V?s[S]=null:(m=I.getRowNumber(),C=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let s=new Int32Array(r.getRowCount());for(let a of this.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=s.length)continue;s[c]++}return s}adjustIncompleteIndicatorColumnRowNumbers(r){let s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),h=this.getCodewords(),m=-1;for(let y=u;y<d;y++){if(h[y]==null)continue;let C=h[y];C.setRowNumberAsRowIndicatorColumn();let S=C.getRowNumber()-m;S===0||(S===1?m=C.getRowNumber():C.getRowNumber()>=r.getRowCount()?h[y]=null:m=C.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),s=new Cl,a=new Cl,c=new Cl,u=new Cl;for(let h of r){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let m=h.getValue()%30,y=h.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:a.setValue(m*3+1);break;case 1:u.setValue(m/3),c.setValue(m%3);break;case 2:s.setValue(m+1);break}}if(s.getValue().length===0||a.getValue().length===0||c.getValue().length===0||u.getValue().length===0||s.getValue()[0]<1||a.getValue()[0]+c.getValue()[0]<Be.MIN_ROWS_IN_BARCODE||a.getValue()[0]+c.getValue()[0]>Be.MAX_ROWS_IN_BARCODE)return null;let d=new e4(s.getValue()[0],a.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(r,d),d}removeIncorrectCodewords(r,s){for(let a=0;a<r.length;a++){let c=r[a];if(r[a]==null)continue;let u=c.getValue()%30,d=c.getRowNumber();if(d>s.getRowCount()){r[a]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:u*3+1!==s.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(u/3)!==s.getErrorCorrectionLevel()||u%3!==s.getRowCountLowerPart())&&(r[a]=null);break;case 2:u+1!==s.getColumnCount()&&(r[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class El{constructor(r,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Be.MAX_CODEWORDS_IN_BARCODE,s;do s=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let a=this.detectionResultColumns[s].getCodewords();for(let c=0;c<a.length;c++)a[c]!=null&&(a[c].hasValidRowNumber()||this.adjustRowNumbers(s,c,a))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++)if(r[a]!=null&&s[a]!=null&&r[a].getRowNumber()===s[a].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[a];u!=null&&(u.setRowNumber(r[a].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<s.length;a++){if(s[a]==null)continue;let c=s[a].getRowNumber(),u=0;for(let d=this.barcodeColumnCount+1;d>0&&u<this.ADJUST_ROW_NUMBER_SKIP;d--){let h=this.detectionResultColumns[d].getCodewords()[a];h!=null&&(u=El.adjustRowNumberIfValid(c,u,h),h.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,s=this.detectionResultColumns[0].getCodewords();for(let a=0;a<s.length;a++){if(s[a]==null)continue;let c=s[a].getRowNumber(),u=0;for(let d=1;d<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;d++){let h=this.detectionResultColumns[d].getCodewords()[a];h!=null&&(u=El.adjustRowNumberIfValid(c,u,h),h.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,s,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(r)?(a.setRowNumber(r),s=0):++s),s}adjustRowNumbers(r,s,a){if(!this.detectionResultColumns[r-1])return;let c=a[s],u=this.detectionResultColumns[r-1].getCodewords(),d=u;this.detectionResultColumns[r+1]!=null&&(d=this.detectionResultColumns[r+1].getCodewords());let h=new Array(14);h[2]=u[s],h[3]=d[s],s>0&&(h[0]=a[s-1],h[4]=u[s-1],h[5]=d[s-1]),s>1&&(h[8]=a[s-2],h[10]=u[s-2],h[11]=d[s-2]),s<a.length-1&&(h[1]=a[s+1],h[6]=u[s+1],h[7]=d[s+1]),s<a.length-2&&(h[9]=a[s+2],h[12]=u[s+2],h[13]=d[s+2]);for(let m of h)if(El.adjustRowNumber(c,m))return}static adjustRowNumber(r,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===r.getBucket()?(r.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,s){this.detectionResultColumns[r]=s}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new wl;for(let a=0;a<r.getCodewords().length;a++){s.format("CW %3d:",a);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){s.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[a];if(u==null){s.format("    |   ");continue}s.format(" %3d|%3d",u.getRowNumber(),u.getValue())}s.format("%n")}return s.toString()}}class Al{constructor(r,s,a,c){this.rowNumber=Al.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(s),this.bucket=Math.trunc(a),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==Al.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}Al.BARCODE_ROW_UNKNOWN=-1;class Jn{static initialize(){for(let r=0;r<Be.SYMBOL_TABLE.length;r++){let s=Be.SYMBOL_TABLE[r],a=s&1;for(let c=0;c<Be.BARS_IN_MODULE;c++){let u=0;for(;(s&1)===a;)u+=1,s>>=1;a=s&1,Jn.RATIOS_TABLE[r]||(Jn.RATIOS_TABLE[r]=new Array(Be.BARS_IN_MODULE)),Jn.RATIOS_TABLE[r][Be.BARS_IN_MODULE-c-1]=Math.fround(u/Be.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let s=Jn.getDecodedCodewordValue(Jn.sampleBitCounts(r));return s!==-1?s:Jn.getClosestDecodedValue(r)}static sampleBitCounts(r){let s=Qe.sum(r),a=new Int32Array(Be.BARS_IN_MODULE),c=0,u=0;for(let d=0;d<Be.MODULES_IN_CODEWORD;d++){let h=s/(2*Be.MODULES_IN_CODEWORD)+d*s/Be.MODULES_IN_CODEWORD;u+r[c]<=h&&(u+=r[c],c++),a[c]++}return a}static getDecodedCodewordValue(r){let s=Jn.getBitValue(r);return Be.getCodeword(s)===-1?-1:s}static getBitValue(r){let s=0;for(let a=0;a<r.length;a++)for(let c=0;c<r[a];c++)s=s<<1|(a%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(r){let s=Qe.sum(r),a=new Array(Be.BARS_IN_MODULE);if(s>1)for(let d=0;d<a.length;d++)a[d]=Math.fround(r[d]/s);let c=xl.MAX_VALUE,u=-1;this.bSymbolTableReady||Jn.initialize();for(let d=0;d<Jn.RATIOS_TABLE.length;d++){let h=0,m=Jn.RATIOS_TABLE[d];for(let y=0;y<Be.BARS_IN_MODULE;y++){let C=Math.fround(m[y]-a[y]);if(h+=Math.fround(C*C),h>=c)break}h<c&&(c=h,u=Be.SYMBOL_TABLE[d])}return u}}Jn.bSymbolTableReady=!1,Jn.RATIOS_TABLE=new Array(Be.SYMBOL_TABLE.length).map(A=>new Array(Be.BARS_IN_MODULE));class dp{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class fp{static parseLong(r,s=void 0){return parseInt(r,s)}}class hp extends p{}hp.kind="NullPointerException";class t4{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,s,a){if(r==null)throw new hp;if(s<0||s>r.length||a<0||s+a>r.length||s+a<0)throw new k;if(a===0)return;for(let c=0;c<a;c++)this.write(r[s+c])}flush(){}close(){}}class n4 extends p{}class r4 extends t4{constructor(r=32){if(super(),this.count=0,r<0)throw new v("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let a=this.buf.length<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new n4;a=N.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,a)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,s,a){if(s<0||s>r.length||a<0||s+a-r.length>0)throw new k;this.ensureCapacity(this.count+a),_.arraycopy(r,s,this.buf,this.count,a),this.count+=a}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var vt;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(vt||(vt={}));function gp(){if(typeof window<"u")return window.BigInt||null;if(typeof Tl<"u")return Tl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let gu;function cs(A){if(typeof gu>"u"&&(gu=gp()),gu===null)throw new Error("BigInt is not supported!");return gu(A)}function i4(){let A=[];A[0]=cs(1);let r=cs(900);A[1]=r;for(let s=2;s<16;s++)A[s]=A[s-1]*r;return A}class K{static decode(r,s){let a=new ae(""),c=G.ISO8859_1;a.enableDecoding(c);let u=1,d=r[u++],h=new dp;for(;u<r[0];){switch(d){case K.TEXT_COMPACTION_MODE_LATCH:u=K.textCompaction(r,u,a);break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:u=K.byteCompaction(d,r,c,u,a);break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[u++]);break;case K.NUMERIC_COMPACTION_MODE_LATCH:u=K.numericCompaction(r,u,a);break;case K.ECI_CHARSET:G.getCharacterSetECIByValue(r[u++]);break;case K.ECI_GENERAL_PURPOSE:u+=2;break;case K.ECI_USER_DEFINED:u++;break;case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=K.decodeMacroBlock(r,u,h);break;case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:throw new F;default:u--,u=K.textCompaction(r,u,a);break}if(u<r.length)d=r[u++];else throw F.getFormatInstance()}if(a.length()===0)throw F.getFormatInstance();let m=new Tr(null,a.toString(),null,s);return m.setOther(h),m}static decodeMacroBlock(r,s,a){if(s+K.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw F.getFormatInstance();let c=new Int32Array(K.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<K.NUMBER_OF_SEQUENCE_CODEWORDS;h++,s++)c[h]=r[s];a.setSegmentIndex(N.parseInt(K.decodeBase900toBase10(c,K.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ae;s=K.textCompaction(r,s,u),a.setFileId(u.toString());let d=-1;for(r[s]===K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=s+1);s<r[0];)switch(r[s]){case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,r[s]){case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new ae;s=K.textCompaction(r,s+1,h),a.setFileName(h.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new ae;s=K.textCompaction(r,s+1,m),a.setSender(m.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new ae;s=K.textCompaction(r,s+1,y),a.setAddressee(y.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new ae;s=K.numericCompaction(r,s+1,C),a.setSegmentCount(N.parseInt(C.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let S=new ae;s=K.numericCompaction(r,s+1,S),a.setTimestamp(fp.parseLong(S.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new ae;s=K.numericCompaction(r,s+1,I),a.setChecksum(N.parseInt(I.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let D=new ae;s=K.numericCompaction(r,s+1,D),a.setFileSize(fp.parseLong(D.toString()));break;default:throw F.getFormatInstance()}break;case K.MACRO_PDF417_TERMINATOR:s++,a.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(d!==-1){let h=s-d;a.isLastSegment()&&h--,a.setOptionalData(T.copyOfRange(r,d,d+h))}return s}static textCompaction(r,s,a){let c=new Int32Array((r[0]-s)*2),u=new Int32Array((r[0]-s)*2),d=0,h=!1;for(;s<r[0]&&!h;){let m=r[s++];if(m<K.TEXT_COMPACTION_MODE_LATCH)c[d]=m/30,c[d+1]=m%30,d+=2;else switch(m){case K.TEXT_COMPACTION_MODE_LATCH:c[d++]=K.TEXT_COMPACTION_MODE_LATCH;break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:s--,h=!0;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[d]=K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=r[s++],u[d]=m,d++;break}}return K.decodeTextCompaction(c,u,d,a),s}static decodeTextCompaction(r,s,a,c){let u=vt.ALPHA,d=vt.ALPHA,h=0;for(;h<a;){let m=r[h],y="";switch(u){case vt.ALPHA:if(m<26)y=String.fromCharCode(65+m);else switch(m){case 26:y=" ";break;case K.LL:u=vt.LOWER;break;case K.ML:u=vt.MIXED;break;case K.PS:d=u,u=vt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.LOWER:if(m<26)y=String.fromCharCode(97+m);else switch(m){case 26:y=" ";break;case K.AS:d=u,u=vt.ALPHA_SHIFT;break;case K.ML:u=vt.MIXED;break;case K.PS:d=u,u=vt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.MIXED:if(m<K.PL)y=K.MIXED_CHARS[m];else switch(m){case K.PL:u=vt.PUNCT;break;case 26:y=" ";break;case K.LL:u=vt.LOWER;break;case K.AL:u=vt.ALPHA;break;case K.PS:d=u,u=vt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.PUNCT:if(m<K.PAL)y=K.PUNCT_CHARS[m];else switch(m){case K.PAL:u=vt.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.ALPHA_SHIFT:if(u=d,m<26)y=String.fromCharCode(65+m);else switch(m){case 26:y=" ";break;case K.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break;case vt.PUNCT_SHIFT:if(u=d,m<K.PAL)y=K.PUNCT_CHARS[m];else switch(m){case K.PAL:u=vt.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=vt.ALPHA;break}break}y!==""&&c.append(y),h++}}static byteCompaction(r,s,a,c,u){let d=new r4,h=0,m=0,y=!1;switch(r){case K.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),S=s[c++];for(;c<s[0]&&!y;)switch(C[h++]=S,m=900*m+S,S=s[c++],S){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:c--,y=!0;break;default:if(h%5===0&&h>0){for(let I=0;I<6;++I)d.write(Number(cs(m)>>cs(8*(5-I))));m=0,h=0}break}c===s[0]&&S<K.TEXT_COMPACTION_MODE_LATCH&&(C[h++]=S);for(let I=0;I<h;I++)d.write(C[I]);break;case K.BYTE_COMPACTION_MODE_LATCH_6:for(;c<s[0]&&!y;){let I=s[c++];if(I<K.TEXT_COMPACTION_MODE_LATCH)h++,m=900*m+I;else switch(I){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:c--,y=!0;break}if(h%5===0&&h>0){for(let D=0;D<6;++D)d.write(Number(cs(m)>>cs(8*(5-D))));m=0,h=0}}break}return u.append(Ee.decode(d.toByteArray(),a)),c}static numericCompaction(r,s,a){let c=0,u=!1,d=new Int32Array(K.MAX_NUMERIC_CODEWORDS);for(;s<r[0]&&!u;){let h=r[s++];if(s===r[0]&&(u=!0),h<K.TEXT_COMPACTION_MODE_LATCH)d[c]=h,c++;else switch(h){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:s--,u=!0;break}(c%K.MAX_NUMERIC_CODEWORDS===0||h===K.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(a.append(K.decodeBase900toBase10(d,c)),c=0)}return s}static decodeBase900toBase10(r,s){let a=cs(0);for(let u=0;u<s;u++)a+=K.EXP900[s-u-1]*cs(r[u]);let c=a.toString();if(c.charAt(0)!=="1")throw new F;return c.substring(1)}}K.TEXT_COMPACTION_MODE_LATCH=900,K.BYTE_COMPACTION_MODE_LATCH=901,K.NUMERIC_COMPACTION_MODE_LATCH=902,K.BYTE_COMPACTION_MODE_LATCH_6=924,K.ECI_USER_DEFINED=925,K.ECI_GENERAL_PURPOSE=926,K.ECI_CHARSET=927,K.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,K.MACRO_PDF417_TERMINATOR=922,K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,K.MAX_NUMERIC_CODEWORDS=15,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,K.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,K.PL=25,K.LL=27,K.AS=27,K.ML=28,K.AL=28,K.PS=29,K.PAL=29,K.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,K.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",K.EXP900=gp()?i4():[],K.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Je{constructor(){}static decode(r,s,a,c,u,d,h){let m=new fo(r,s,a,c,u),y=null,C=null,S;for(let j=!0;;j=!1){if(s!=null&&(y=Je.getRowIndicatorColumn(r,m,s,!0,d,h)),c!=null&&(C=Je.getRowIndicatorColumn(r,m,c,!1,d,h)),S=Je.merge(y,C),S==null)throw Y.getNotFoundInstance();let V=S.getBoundingBox();if(j&&V!=null&&(V.getMinY()<m.getMinY()||V.getMaxY()>m.getMaxY()))m=V;else break}S.setBoundingBox(m);let I=S.getBarcodeColumnCount()+1;S.setDetectionResultColumn(0,y),S.setDetectionResultColumn(I,C);let D=y!=null;for(let j=1;j<=I;j++){let V=D?j:I-j;if(S.getDetectionResultColumn(V)!==void 0)continue;let X;V===0||V===I?X=new up(m,V===0):X=new vl(m),S.setDetectionResultColumn(V,X);let $=-1,ue=$;for(let de=m.getMinY();de<=m.getMaxY();de++){if($=Je.getStartColumn(S,V,de,D),$<0||$>m.getMaxX()){if(ue===-1)continue;$=ue}let oe=Je.detectCodeword(r,m.getMinX(),m.getMaxX(),D,$,de,d,h);oe!=null&&(X.setCodeword(de,oe),ue=$,d=Math.min(d,oe.getWidth()),h=Math.max(h,oe.getWidth()))}}return Je.createDecoderResult(S)}static merge(r,s){if(r==null&&s==null)return null;let a=Je.getBarcodeMetadata(r,s);if(a==null)return null;let c=fo.merge(Je.adjustBoundingBox(r),Je.adjustBoundingBox(s));return new El(a,c)}static adjustBoundingBox(r){if(r==null)return null;let s=r.getRowHeights();if(s==null)return null;let a=Je.getMax(s),c=0;for(let h of s)if(c+=a-h,h>0)break;let u=r.getCodewords();for(let h=0;c>0&&u[h]==null;h++)c--;let d=0;for(let h=s.length-1;h>=0&&(d+=a-s[h],!(s[h]>0));h--);for(let h=u.length-1;d>0&&u[h]==null;h--)d--;return r.getBoundingBox().addMissingRows(c,d,r.isLeft())}static getMax(r){let s=-1;for(let a of r)s=Math.max(s,a);return s}static getBarcodeMetadata(r,s){let a;if(r==null||(a=r.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let c;return s==null||(c=s.getBarcodeMetadata())==null?a:a.getColumnCount()!==c.getColumnCount()&&a.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&a.getRowCount()!==c.getRowCount()?null:a}static getRowIndicatorColumn(r,s,a,c,u,d){let h=new up(s,c);for(let m=0;m<2;m++){let y=m===0?1:-1,C=Math.trunc(Math.trunc(a.getX()));for(let S=Math.trunc(Math.trunc(a.getY()));S<=s.getMaxY()&&S>=s.getMinY();S+=y){let I=Je.detectCodeword(r,0,r.getWidth(),c,C,S,u,d);I!=null&&(h.setCodeword(S,I),c?C=I.getStartX():C=I.getEndX())}}return h}static adjustCodewordCount(r,s){let a=s[0][1],c=a.getValue(),u=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-Je.getNumberOfECCodeWords(r.getBarcodeECLevel());if(c.length===0){if(u<1||u>Be.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();a.setValue(u)}else c[0]!==u&&a.setValue(u)}static createDecoderResult(r){let s=Je.createBarcodeMatrix(r);Je.adjustCodewordCount(r,s);let a=new Array,c=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),u=[],d=new Array;for(let m=0;m<r.getBarcodeRowCount();m++)for(let y=0;y<r.getBarcodeColumnCount();y++){let C=s[m][y+1].getValue(),S=m*r.getBarcodeColumnCount()+y;C.length===0?a.push(S):C.length===1?c[S]=C[0]:(d.push(S),u.push(C))}let h=new Array(u.length);for(let m=0;m<h.length;m++)h[m]=u[m];return Je.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),c,Be.toIntArray(a),Be.toIntArray(d),h)}static createDecoderResultFromAmbiguousValues(r,s,a,c,u){let d=new Int32Array(c.length),h=100;for(;h-- >0;){for(let m=0;m<d.length;m++)s[c[m]]=u[m][d[m]];try{return Je.decodeCodewords(s,r,a)}catch(m){if(!(m instanceof M))throw m}if(d.length===0)throw M.getChecksumInstance();for(let m=0;m<d.length;m++)if(d[m]<u[m].length-1){d[m]++;break}else if(d[m]=0,m===d.length-1)throw M.getChecksumInstance()}throw M.getChecksumInstance()}static createBarcodeMatrix(r){let s=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let c=0;c<s.length;c++)for(let u=0;u<s[c].length;u++)s[c][u]=new Cl;let a=0;for(let c of r.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=0){if(d>=s.length)continue;s[d][a].setValue(u.getValue())}}}a++}return s}static isValidBarcodeColumn(r,s){return s>=0&&s<=r.getBarcodeColumnCount()+1}static getStartColumn(r,s,a,c){let u=c?1:-1,d=null;if(Je.isValidBarcodeColumn(r,s-u)&&(d=r.getDetectionResultColumn(s-u).getCodeword(a)),d!=null)return c?d.getEndX():d.getStartX();if(d=r.getDetectionResultColumn(s).getCodewordNearby(a),d!=null)return c?d.getStartX():d.getEndX();if(Je.isValidBarcodeColumn(r,s-u)&&(d=r.getDetectionResultColumn(s-u).getCodewordNearby(a)),d!=null)return c?d.getEndX():d.getStartX();let h=0;for(;Je.isValidBarcodeColumn(r,s-u);){s-=u;for(let m of r.getDetectionResultColumn(s).getCodewords())if(m!=null)return(c?m.getEndX():m.getStartX())+u*h*(m.getEndX()-m.getStartX());h++}return c?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,s,a,c,u,d,h,m){u=Je.adjustCodewordStartColumn(r,s,a,c,u,d);let y=Je.getModuleBitCount(r,s,a,c,u,d);if(y==null)return null;let C,S=Qe.sum(y);if(c)C=u+S;else{for(let j=0;j<y.length/2;j++){let V=y[j];y[j]=y[y.length-1-j],y[y.length-1-j]=V}C=u,u=C-S}if(!Je.checkCodewordSkew(S,h,m))return null;let I=Jn.getDecodedValue(y),D=Be.getCodeword(I);return D===-1?null:new Al(u,C,Je.getCodewordBucketNumber(I),D)}static getModuleBitCount(r,s,a,c,u,d){let h=u,m=new Int32Array(8),y=0,C=c?1:-1,S=c;for(;(c?h<a:h>=s)&&y<m.length;)r.get(h,d)===S?(m[y]++,h+=C):(y++,S=!S);return y===m.length||h===(c?a:s)&&y===m.length-1?m:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,s,a,c,u,d){let h=u,m=c?-1:1;for(let y=0;y<2;y++){for(;(c?h>=s:h<a)&&c===r.get(h,d);){if(Math.abs(u-h)>Je.CODEWORD_SKEW_SIZE)return u;h+=m}m=-m,c=!c}return h}static checkCodewordSkew(r,s,a){return s-Je.CODEWORD_SKEW_SIZE<=r&&r<=a+Je.CODEWORD_SKEW_SIZE}static decodeCodewords(r,s,a){if(r.length===0)throw F.getFormatInstance();let c=1<<s+1,u=Je.correctErrors(r,a,c);Je.verifyCodewordCount(r,c);let d=K.decode(r,""+s);return d.setErrorsCorrected(u),d.setErasures(a.length),d}static correctErrors(r,s,a){if(s!=null&&s.length>a/2+Je.MAX_ERRORS||a<0||a>Je.MAX_EC_CODEWORDS)throw M.getChecksumInstance();return Je.errorCorrection.decode(r,a,s)}static verifyCodewordCount(r,s){if(r.length<4)throw F.getFormatInstance();let a=r[0];if(a>r.length)throw F.getFormatInstance();if(a===0)if(s<r.length)r[0]=r.length-s;else throw F.getFormatInstance()}static getBitCountForCodeword(r){let s=new Int32Array(8),a=0,c=s.length-1;for(;!((r&1)!==a&&(a=r&1,c--,c<0));)s[c]++,r>>=1;return s}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return Je.getCodewordBucketNumber(Je.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let s=new wl;for(let a=0;a<r.length;a++){s.format("Row %2d: ",a);for(let c=0;c<r[a].length;c++){let u=r[a][c];u.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}s.format("%n")}return s.toString()}}Je.CODEWORD_SKEW_SIZE=2,Je.MAX_ERRORS=3,Je.MAX_EC_CODEWORDS=512,Je.errorCorrection=new cp;class wn{decode(r,s=null){let a=wn.decode(r,s,!1);if(a==null||a.length===0||a[0]==null)throw Y.getNotFoundInstance();return a[0]}decodeMultiple(r,s=null){try{return wn.decode(r,s,!0)}catch(a){throw a instanceof F||a instanceof M?Y.getNotFoundInstance():a}}static decode(r,s,a){const c=new Array,u=Ze.detectMultiple(r,s,a);for(const d of u.getPoints()){const h=Je.decode(u.getBits(),d[4],d[5],d[6],d[7],wn.getMinCodewordWidth(d),wn.getMaxCodewordWidth(d)),m=new ut(h.getText(),h.getRawBytes(),void 0,d,Me.PDF_417);m.putMetadata(kt.ERROR_CORRECTION_LEVEL,h.getECLevel());const y=h.getOther();y!=null&&m.putMetadata(kt.PDF417_EXTRA_METADATA,y),c.push(m)}return c.map(d=>d)}static getMaxWidth(r,s){return r==null||s==null?0:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMinWidth(r,s){return r==null||s==null?N.MAX_VALUE:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(wn.getMaxWidth(r[0],r[4]),wn.getMaxWidth(r[6],r[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.max(wn.getMaxWidth(r[1],r[5]),wn.getMaxWidth(r[7],r[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(wn.getMinWidth(r[0],r[4]),wn.getMinWidth(r[6],r[2])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN),Math.min(wn.getMinWidth(r[1],r[5]),wn.getMinWidth(r[7],r[3])*Be.MODULES_IN_CODEWORD/Be.MODULES_IN_STOP_PATTERN)))}reset(){}}class pu extends p{}pu.kind="ReaderException";class pp{constructor(r,s){this.verbose=r===!0,s&&this.setHints(s)}decode(r,s){return s&&this.setHints(s),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const s=!i(r)&&r.get(Z.TRY_HARDER)===!0,a=i(r)?null:r.get(Z.POSSIBLE_FORMATS),c=new Array;if(!i(a)){const u=a.some(d=>d===Me.UPC_A||d===Me.UPC_E||d===Me.EAN_13||d===Me.EAN_8||d===Me.CODABAR||d===Me.CODE_39||d===Me.CODE_93||d===Me.CODE_128||d===Me.ITF||d===Me.RSS_14||d===Me.RSS_EXPANDED);u&&!s&&c.push(new Jo(r,this.verbose)),a.includes(Me.QR_CODE)&&c.push(new ls),a.includes(Me.DATA_MATRIX)&&c.push(new as),a.includes(Me.AZTEC)&&c.push(new qt),a.includes(Me.PDF_417)&&c.push(new wn),u&&s&&c.push(new Jo(r,this.verbose))}c.length===0&&(s||c.push(new Jo(r,this.verbose)),c.push(new ls),c.push(new as),c.push(new qt),c.push(new wn),s&&c.push(new Jo(r,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new pu("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(r,this.hints)}catch(a){if(a instanceof pu)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class s4 extends Vt{constructor(r=null,s=500){const a=new pp;a.setHints(r),super(a,s)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class o4 extends Vt{constructor(r=500){super(new wn,r)}}class a4 extends Vt{constructor(r=500){super(new ls,r)}}var Kf;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(Kf||(Kf={}));var on=Kf;class $f{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new Zt(r,Int32Array.from([1])))}buildGenerator(r){const s=this.cachedGenerators;if(r>=s.length){let a=s[s.length-1];const c=this.field;for(let u=s.length;u<=r;u++){const d=a.multiply(new Zt(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));s.push(d),a=d}}return s[r]}encode(r,s){if(s===0)throw new v("No error correction bytes");const a=r.length-s;if(a<=0)throw new v("No data bytes provided");const c=this.buildGenerator(s),u=new Int32Array(a);_.arraycopy(r,0,u,0,a);let d=new Zt(this.field,u);d=d.multiplyByMonomial(s,1);const m=d.divide(c)[1].getCoefficients(),y=s-m.length;for(let C=0;C<y;C++)r[a+C]=0;_.arraycopy(m,0,r,a+y,m.length)}}class Gt{constructor(){}static applyMaskPenaltyRule1(r){return Gt.applyMaskPenaltyRule1Internal(r,!0)+Gt.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let s=0;const a=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let d=0;d<u-1;d++){const h=a[d];for(let m=0;m<c-1;m++){const y=h[m];y===h[m+1]&&y===a[d+1][m]&&y===a[d+1][m+1]&&s++}}return Gt.N2*s}static applyMaskPenaltyRule3(r){let s=0;const a=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let d=0;d<u;d++)for(let h=0;h<c;h++){const m=a[d];h+6<c&&m[h]===1&&m[h+1]===0&&m[h+2]===1&&m[h+3]===1&&m[h+4]===1&&m[h+5]===0&&m[h+6]===1&&(Gt.isWhiteHorizontal(m,h-4,h)||Gt.isWhiteHorizontal(m,h+7,h+11))&&s++,d+6<u&&a[d][h]===1&&a[d+1][h]===0&&a[d+2][h]===1&&a[d+3][h]===1&&a[d+4][h]===1&&a[d+5][h]===0&&a[d+6][h]===1&&(Gt.isWhiteVertical(a,h,d-4,d)||Gt.isWhiteVertical(a,h,d+7,d+11))&&s++}return s*Gt.N3}static isWhiteHorizontal(r,s,a){s=Math.max(s,0),a=Math.min(a,r.length);for(let c=s;c<a;c++)if(r[c]===1)return!1;return!0}static isWhiteVertical(r,s,a,c){a=Math.max(a,0),c=Math.min(c,r.length);for(let u=a;u<c;u++)if(r[u][s]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let s=0;const a=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let m=0;m<u;m++){const y=a[m];for(let C=0;C<c;C++)y[C]===1&&s++}const d=r.getHeight()*r.getWidth();return Math.floor(Math.abs(s*2-d)*10/d)*Gt.N4}static getDataMaskBit(r,s,a){let c,u;switch(r){case 0:c=a+s&1;break;case 1:c=a&1;break;case 2:c=s%3;break;case 3:c=(a+s)%3;break;case 4:c=Math.floor(a/2)+Math.floor(s/3)&1;break;case 5:u=a*s,c=(u&1)+u%3;break;case 6:u=a*s,c=(u&1)+u%3&1;break;case 7:u=a*s,c=u%3+(a+s&1)&1;break;default:throw new v("Invalid mask pattern: "+r)}return c===0}static applyMaskPenaltyRule1Internal(r,s){let a=0;const c=s?r.getHeight():r.getWidth(),u=s?r.getWidth():r.getHeight(),d=r.getArray();for(let h=0;h<c;h++){let m=0,y=-1;for(let C=0;C<u;C++){const S=s?d[h][C]:d[C][h];S===y?m++:(m>=5&&(a+=Gt.N1+(m-5)),m=1,y=S)}m>=5&&(a+=Gt.N1+(m-5))}return a}}Gt.N1=3,Gt.N2=3,Gt.N3=40,Gt.N4=10;class mu{constructor(r,s){this.width=r,this.height=s;const a=new Array(s);for(let c=0;c!==s;c++)a[c]=new Uint8Array(r);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(r,s){return this.bytes[s][r]}getArray(){return this.bytes}setNumber(r,s,a){this.bytes[s][r]=a}setBoolean(r,s,a){this.bytes[s][r]=a?1:0}clear(r){for(const s of this.bytes)T.fill(s,r)}equals(r){if(!(r instanceof mu))return!1;const s=r;if(this.width!==s.width||this.height!==s.height)return!1;for(let a=0,c=this.height;a<c;++a){const u=this.bytes[a],d=s.bytes[a];for(let h=0,m=this.width;h<m;++h)if(u[h]!==d[h])return!1}return!0}toString(){const r=new ae;for(let s=0,a=this.height;s<a;++s){const c=this.bytes[s];for(let u=0,d=this.width;u<d;++u)switch(c[u]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class ho{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new ae;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<ho.NUM_MASK_PATTERNS}}ho.NUM_MASK_PATTERNS=8;class Ct extends p{}Ct.kind="WriterException";class Pe{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,s,a,c,u){Pe.clearMatrix(u),Pe.embedBasicPatterns(a,u),Pe.embedTypeInfo(s,c,u),Pe.maybeEmbedVersionInfo(a,u),Pe.embedDataBits(r,c,u)}static embedBasicPatterns(r,s){Pe.embedPositionDetectionPatternsAndSeparators(s),Pe.embedDarkDotAtLeftBottomCorner(s),Pe.maybeEmbedPositionAdjustmentPatterns(r,s),Pe.embedTimingPatterns(s)}static embedTypeInfo(r,s,a){const c=new B;Pe.makeTypeInfoBits(r,s,c);for(let u=0,d=c.getSize();u<d;++u){const h=c.get(c.getSize()-1-u),m=Pe.TYPE_INFO_COORDINATES[u],y=m[0],C=m[1];if(a.setBoolean(y,C,h),u<8){const S=a.getWidth()-u-1;a.setBoolean(S,8,h)}else{const I=a.getHeight()-7+(u-8);a.setBoolean(8,I,h)}}}static maybeEmbedVersionInfo(r,s){if(r.getVersionNumber()<7)return;const a=new B;Pe.makeVersionInfoBits(r,a);let c=6*3-1;for(let u=0;u<6;++u)for(let d=0;d<3;++d){const h=a.get(c);c--,s.setBoolean(u,s.getHeight()-11+d,h),s.setBoolean(s.getHeight()-11+d,u,h)}}static embedDataBits(r,s,a){let c=0,u=-1,d=a.getWidth()-1,h=a.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);h>=0&&h<a.getHeight();){for(let m=0;m<2;++m){const y=d-m;if(!Pe.isEmpty(a.get(y,h)))continue;let C;c<r.getSize()?(C=r.get(c),++c):C=!1,s!==255&&Gt.getDataMaskBit(s,y,h)&&(C=!C),a.setBoolean(y,h,C)}h+=u}u=-u,h+=u,d-=2}if(c!==r.getSize())throw new Ct("Not all bits consumed: "+c+"/"+r.getSize())}static findMSBSet(r){return 32-N.numberOfLeadingZeros(r)}static calculateBCHCode(r,s){if(s===0)throw new v("0 polynomial");const a=Pe.findMSBSet(s);for(r<<=a-1;Pe.findMSBSet(r)>=a;)r^=s<<Pe.findMSBSet(r)-a;return r}static makeTypeInfoBits(r,s,a){if(!ho.isValidMaskPattern(s))throw new Ct("Invalid mask pattern");const c=r.getBits()<<3|s;a.appendBits(c,5);const u=Pe.calculateBCHCode(c,Pe.TYPE_INFO_POLY);a.appendBits(u,10);const d=new B;if(d.appendBits(Pe.TYPE_INFO_MASK_PATTERN,15),a.xor(d),a.getSize()!==15)throw new Ct("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(r,s){s.appendBits(r.getVersionNumber(),6);const a=Pe.calculateBCHCode(r.getVersionNumber(),Pe.VERSION_INFO_POLY);if(s.appendBits(a,12),s.getSize()!==18)throw new Ct("should not happen but we got: "+s.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let s=8;s<r.getWidth()-8;++s){const a=(s+1)%2;Pe.isEmpty(r.get(s,6))&&r.setNumber(s,6,a),Pe.isEmpty(r.get(6,s))&&r.setNumber(6,s,a)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new Ct;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,s,a){for(let c=0;c<8;++c){if(!Pe.isEmpty(a.get(r+c,s)))throw new Ct;a.setNumber(r+c,s,0)}}static embedVerticalSeparationPattern(r,s,a){for(let c=0;c<7;++c){if(!Pe.isEmpty(a.get(r,s+c)))throw new Ct;a.setNumber(r,s+c,0)}}static embedPositionAdjustmentPattern(r,s,a){for(let c=0;c<5;++c){const u=Pe.POSITION_ADJUSTMENT_PATTERN[c];for(let d=0;d<5;++d)a.setNumber(r+d,s+c,u[d])}}static embedPositionDetectionPattern(r,s,a){for(let c=0;c<7;++c){const u=Pe.POSITION_DETECTION_PATTERN[c];for(let d=0;d<7;++d)a.setNumber(r+d,s+c,u[d])}}static embedPositionDetectionPatternsAndSeparators(r){const s=Pe.POSITION_DETECTION_PATTERN[0].length;Pe.embedPositionDetectionPattern(0,0,r),Pe.embedPositionDetectionPattern(r.getWidth()-s,0,r),Pe.embedPositionDetectionPattern(0,r.getWidth()-s,r);const a=8;Pe.embedHorizontalSeparationPattern(0,a-1,r),Pe.embedHorizontalSeparationPattern(r.getWidth()-a,a-1,r),Pe.embedHorizontalSeparationPattern(0,r.getWidth()-a,r);const c=7;Pe.embedVerticalSeparationPattern(c,0,r),Pe.embedVerticalSeparationPattern(r.getHeight()-c-1,0,r),Pe.embedVerticalSeparationPattern(c,r.getHeight()-c,r)}static maybeEmbedPositionAdjustmentPatterns(r,s){if(r.getVersionNumber()<2)return;const a=r.getVersionNumber()-1,c=Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let u=0,d=c.length;u!==d;u++){const h=c[u];if(h>=0)for(let m=0;m!==d;m++){const y=c[m];y>=0&&Pe.isEmpty(s.get(y,h))&&Pe.embedPositionAdjustmentPattern(y-2,h-2,s)}}}}Pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pe.VERSION_INFO_POLY=7973,Pe.TYPE_INFO_POLY=1335,Pe.TYPE_INFO_MASK_PATTERN=21522;class l4{constructor(r,s){this.dataBytes=r,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class bt{constructor(){}static calculateMaskPenalty(r){return Gt.applyMaskPenaltyRule1(r)+Gt.applyMaskPenaltyRule2(r)+Gt.applyMaskPenaltyRule3(r)+Gt.applyMaskPenaltyRule4(r)}static encode(r,s,a=null){let c=bt.DEFAULT_BYTE_MODE_ENCODING;const u=a!==null&&a.get(on.CHARACTER_SET)!==void 0;u&&(c=a.get(on.CHARACTER_SET).toString());const d=this.chooseMode(r,c),h=new B;if(d===ke.BYTE&&(u||bt.DEFAULT_BYTE_MODE_ENCODING!==c)){const de=G.getCharacterSetECIByName(c);de!==void 0&&this.appendECI(de,h)}this.appendModeInfo(d,h);const m=new B;this.appendBytes(r,d,m,c);let y;if(a!==null&&a.get(on.QR_VERSION)!==void 0){const de=Number.parseInt(a.get(on.QR_VERSION).toString(),10);y=De.getVersionForNumber(de);const oe=this.calculateBitsNeeded(d,h,m,y);if(!this.willFit(oe,y,s))throw new Ct("Data too big for requested version")}else y=this.recommendVersion(s,d,h,m);const C=new B;C.appendBitArray(h);const S=d===ke.BYTE?m.getSizeInBytes():r.length;this.appendLengthInfo(S,y,d,C),C.appendBitArray(m);const I=y.getECBlocksForLevel(s),D=y.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(D,C);const j=this.interleaveWithECBytes(C,y.getTotalCodewords(),D,I.getNumBlocks()),V=new ho;V.setECLevel(s),V.setMode(d),V.setVersion(y);const X=y.getDimensionForVersion(),$=new mu(X,X),ue=this.chooseMaskPattern(j,s,y,$);return V.setMaskPattern(ue),Pe.buildMatrix(j,s,y,ue,$),V.setMatrix($),V}static recommendVersion(r,s,a,c){const u=this.calculateBitsNeeded(s,a,c,De.getVersionForNumber(1)),d=this.chooseVersion(u,r),h=this.calculateBitsNeeded(s,a,c,d);return this.chooseVersion(h,r)}static calculateBitsNeeded(r,s,a,c){return s.getSize()+r.getCharacterCountBits(c)+a.getSize()}static getAlphanumericCode(r){return r<bt.ALPHANUMERIC_TABLE.length?bt.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,s=null){if(G.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(r))return ke.KANJI;let a=!1,c=!1;for(let u=0,d=r.length;u<d;++u){const h=r.charAt(u);if(bt.isDigit(h))a=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)c=!0;else return ke.BYTE}return c?ke.ALPHANUMERIC:a?ke.NUMERIC:ke.BYTE}static isOnlyDoubleByteKanji(r){let s;try{s=Ee.encode(r,G.SJIS)}catch{return!1}const a=s.length;if(a%2!==0)return!1;for(let c=0;c<a;c+=2){const u=s[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(r,s,a,c){let u=Number.MAX_SAFE_INTEGER,d=-1;for(let h=0;h<ho.NUM_MASK_PATTERNS;h++){Pe.buildMatrix(r,s,a,h,c);let m=this.calculateMaskPenalty(c);m<u&&(u=m,d=h)}return d}static chooseVersion(r,s){for(let a=1;a<=40;a++){const c=De.getVersionForNumber(a);if(bt.willFit(r,c,s))return c}throw new Ct("Data too big")}static willFit(r,s,a){const c=s.getTotalCodewords(),d=s.getECBlocksForLevel(a).getTotalECCodewords(),h=c-d,m=(r+7)/8;return h>=m}static terminateBits(r,s){const a=r*8;if(s.getSize()>a)throw new Ct("data bits cannot fit in the QR Code"+s.getSize()+" > "+a);for(let d=0;d<4&&s.getSize()<a;++d)s.appendBit(!1);const c=s.getSize()&7;if(c>0)for(let d=c;d<8;d++)s.appendBit(!1);const u=r-s.getSizeInBytes();for(let d=0;d<u;++d)s.appendBits(d&1?17:236,8);if(s.getSize()!==a)throw new Ct("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,s,a,c,u,d){if(c>=a)throw new Ct("Block ID too large");const h=r%a,m=a-h,y=Math.floor(r/a),C=y+1,S=Math.floor(s/a),I=S+1,D=y-S,j=C-I;if(D!==j)throw new Ct("EC bytes mismatch");if(a!==m+h)throw new Ct("RS blocks mismatch");if(r!==(S+D)*m+(I+j)*h)throw new Ct("Total bytes mismatch");c<m?(u[0]=S,d[0]=D):(u[0]=I,d[0]=j)}static interleaveWithECBytes(r,s,a,c){if(r.getSizeInBytes()!==a)throw new Ct("Number of bits and data bytes does not match");let u=0,d=0,h=0;const m=new Array;for(let C=0;C<c;++C){const S=new Int32Array(1),I=new Int32Array(1);bt.getNumDataBytesAndNumECBytesForBlockID(s,a,c,C,S,I);const D=S[0],j=new Uint8Array(D);r.toBytes(8*u,j,0,D);const V=bt.generateECBytes(j,I[0]);m.push(new l4(j,V)),d=Math.max(d,D),h=Math.max(h,V.length),u+=S[0]}if(a!==u)throw new Ct("Data bytes does not match offset");const y=new B;for(let C=0;C<d;++C)for(const S of m){const I=S.getDataBytes();C<I.length&&y.appendBits(I[C],8)}for(let C=0;C<h;++C)for(const S of m){const I=S.getErrorCorrectionBytes();C<I.length&&y.appendBits(I[C],8)}if(s!==y.getSizeInBytes())throw new Ct("Interleaving error: "+s+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(r,s){const a=r.length,c=new Int32Array(a+s);for(let d=0;d<a;d++)c[d]=r[d]&255;new $f($e.QR_CODE_FIELD_256).encode(c,s);const u=new Uint8Array(s);for(let d=0;d<s;d++)u[d]=c[a+d];return u}static appendModeInfo(r,s){s.appendBits(r.getBits(),4)}static appendLengthInfo(r,s,a,c){const u=a.getCharacterCountBits(s);if(r>=1<<u)throw new Ct(r+" is bigger than "+((1<<u)-1));c.appendBits(r,u)}static appendBytes(r,s,a,c){switch(s){case ke.NUMERIC:bt.appendNumericBytes(r,a);break;case ke.ALPHANUMERIC:bt.appendAlphanumericBytes(r,a);break;case ke.BYTE:bt.append8BitBytes(r,a,c);break;case ke.KANJI:bt.appendKanjiBytes(r,a);break;default:throw new Ct("Invalid mode: "+s)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const s=bt.getDigit(r);return s>=0&&s<=9}static appendNumericBytes(r,s){const a=r.length;let c=0;for(;c<a;){const u=bt.getDigit(r.charAt(c));if(c+2<a){const d=bt.getDigit(r.charAt(c+1)),h=bt.getDigit(r.charAt(c+2));s.appendBits(u*100+d*10+h,10),c+=3}else if(c+1<a){const d=bt.getDigit(r.charAt(c+1));s.appendBits(u*10+d,7),c+=2}else s.appendBits(u,4),c++}}static appendAlphanumericBytes(r,s){const a=r.length;let c=0;for(;c<a;){const u=bt.getAlphanumericCode(r.charCodeAt(c));if(u===-1)throw new Ct;if(c+1<a){const d=bt.getAlphanumericCode(r.charCodeAt(c+1));if(d===-1)throw new Ct;s.appendBits(u*45+d,11),c+=2}else s.appendBits(u,6),c++}}static append8BitBytes(r,s,a){let c;try{c=Ee.encode(r,a)}catch(u){throw new Ct(u)}for(let u=0,d=c.length;u!==d;u++){const h=c[u];s.appendBits(h,8)}}static appendKanjiBytes(r,s){let a;try{a=Ee.encode(r,G.SJIS)}catch(u){throw new Ct(u)}const c=a.length;for(let u=0;u<c;u+=2){const d=a[u]&255,h=a[u+1]&255,m=d<<8&4294967295|h;let y=-1;if(m>=33088&&m<=40956?y=m-33088:m>=57408&&m<=60351&&(y=m-49472),y===-1)throw new Ct("Invalid byte sequence");const C=(y>>8)*192+(y&255);s.appendBits(C,13)}}static appendECI(r,s){s.appendBits(ke.ECI.getBits(),4),s.appendBits(r.getValue(),8)}}bt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),bt.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class go{write(r,s,a,c=null){if(r.length===0)throw new v("Found empty contents");if(s<0||a<0)throw new v("Requested dimensions are too small: "+s+"x"+a);let u=At.L,d=go.QUIET_ZONE_SIZE;c!==null&&(c.get(on.ERROR_CORRECTION)!==void 0&&(u=At.fromString(c.get(on.ERROR_CORRECTION).toString())),c.get(on.MARGIN)!==void 0&&(d=Number.parseInt(c.get(on.MARGIN).toString(),10)));const h=bt.encode(r,u,c);return this.renderResult(h,s,a,d)}writeToDom(r,s,a,c,u=null){typeof r=="string"&&(r=document.querySelector(r));const d=this.write(s,a,c,u);r&&r.appendChild(d)}renderResult(r,s,a,c){const u=r.getMatrix();if(u===null)throw new qn;const d=u.getWidth(),h=u.getHeight(),m=d+c*2,y=h+c*2,C=Math.max(s,m),S=Math.max(a,y),I=Math.min(Math.floor(C/m),Math.floor(S/y)),D=Math.floor((C-d*I)/2),j=Math.floor((S-h*I)/2),V=this.createSVGElement(C,S);for(let X=0,$=j;X<h;X++,$+=I)for(let ue=0,de=D;ue<d;ue++,de+=I)if(u.get(ue,X)===1){const oe=this.createSvgRectElement(de,$,I,I);V.appendChild(oe)}return V}createSVGElement(r,s){const a=document.createElementNS(go.SVG_NS,"svg");return a.setAttributeNS(null,"height",r.toString()),a.setAttributeNS(null,"width",s.toString()),a}createSvgRectElement(r,s,a,c){const u=document.createElementNS(go.SVG_NS,"rect");return u.setAttributeNS(null,"x",r.toString()),u.setAttributeNS(null,"y",s.toString()),u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}go.QUIET_ZONE_SIZE=4,go.SVG_NS="http://www.w3.org/2000/svg";class ta{encode(r,s,a,c,u){if(r.length===0)throw new v("Found empty contents");if(s!==Me.QR_CODE)throw new v("Can only encode QR_CODE, but got "+s);if(a<0||c<0)throw new v(`Requested dimensions are too small: ${a}x${c}`);let d=At.L,h=ta.QUIET_ZONE_SIZE;u!==null&&(u.get(on.ERROR_CORRECTION)!==void 0&&(d=At.fromString(u.get(on.ERROR_CORRECTION).toString())),u.get(on.MARGIN)!==void 0&&(h=Number.parseInt(u.get(on.MARGIN).toString(),10)));const m=bt.encode(r,d,u);return ta.renderResult(m,a,c,h)}static renderResult(r,s,a,c){const u=r.getMatrix();if(u===null)throw new qn;const d=u.getWidth(),h=u.getHeight(),m=d+c*2,y=h+c*2,C=Math.max(s,m),S=Math.max(a,y),I=Math.min(Math.floor(C/m),Math.floor(S/y)),D=Math.floor((C-d*I)/2),j=Math.floor((S-h*I)/2),V=new re(C,S);for(let X=0,$=j;X<h;X++,$+=I)for(let ue=0,de=D;ue<d;ue++,de+=I)u.get(ue,X)===1&&V.setRegion(de,$,I,I);return V}}ta.QUIET_ZONE_SIZE=4;class c4{encode(r,s,a,c,u){let d;switch(s){case Me.QR_CODE:d=new ta;break;default:throw new v("No encoder available for format "+s)}return d.encode(r,s,a,c,u)}}class gi extends ne{constructor(r,s,a,c,u,d,h,m){if(super(d,h),this.yuvData=r,this.dataWidth=s,this.dataHeight=a,this.left=c,this.top=u,c+d>s||u+h>a)throw new v("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(d,h)}getRow(r,s){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));const c=(r+this.top)*this.dataWidth+this.left;return _.arraycopy(this.yuvData,c,s,0,a),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.yuvData;const a=r*s,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return _.arraycopy(this.yuvData,u,c,0,a),c;for(let d=0;d<s;d++){const h=d*r;_.arraycopy(this.yuvData,u,c,h,r),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,s,a,c){return new gi(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+s,a,c,!1)}renderThumbnail(){const r=this.getWidth()/gi.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/gi.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*s),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let d=0;d<s;d++){const h=d*r;for(let m=0;m<r;m++){const y=c[u+m*gi.THUMBNAIL_SCALE_FACTOR]&255;a[h+m]=4278190080|y*65793}u+=this.dataWidth*gi.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/gi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/gi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,s){const a=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<s;c++,u+=this.dataWidth){const d=u+r/2;for(let h=u,m=u+r-1;h<d;h++,m--){const y=a[h];a[h]=a[m],a[m]=y}}}invert(){return new pe(this)}}gi.THUMBNAIL_SCALE_FACTOR=2;class Jf extends ne{constructor(r,s,a,c,u,d,h){if(super(s,a),this.dataWidth=c,this.dataHeight=u,this.left=d,this.top=h,r.BYTES_PER_ELEMENT===4){const m=s*a,y=new Uint8ClampedArray(m);for(let C=0;C<m;C++){const S=r[C],I=S>>16&255,D=S>>7&510,j=S&255;y[C]=(I+D+j)/4&255}this.luminances=y}else this.luminances=r;if(c===void 0&&(this.dataWidth=s),u===void 0&&(this.dataHeight=a),d===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+a>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(r,s){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));const c=(r+this.top)*this.dataWidth+this.left;return _.arraycopy(this.luminances,c,s,0,a),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.luminances;const a=r*s,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return _.arraycopy(this.luminances,u,c,0,a),c;for(let d=0;d<s;d++){const h=d*r;_.arraycopy(this.luminances,u,c,h,r),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,s,a,c){return new Jf(this.luminances,a,c,this.dataWidth,this.dataHeight,this.left+r,this.top+s)}invert(){return new pe(this)}}class mp extends G{static forName(r){return this.getCharacterSetECIByName(r)}}class eh{}eh.ISO_8859_1=G.ISO8859_1;class xp{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class yp{static singletonList(r){return[r]}static min(r,s){return r.sort(s)[0]}}class u4{constructor(r){this.previous=r}getPrevious(){return this.previous}}class na extends u4{constructor(r,s,a){super(r),this.value=s,this.bitCount=a}appendTo(r,s){r.appendBits(this.value,this.bitCount)}add(r,s){return new na(this,r,s)}addBinaryShift(r,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new na(this,r,s)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+N.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class th extends na{constructor(r,s,a){super(r,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=a}appendTo(r,s){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(s[this.binaryShiftStart+a],8)}addBinaryShift(r,s){return new th(this,r,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function d4(A,r,s){return new th(A,r,s)}function Sl(A,r,s){return new na(A,r,s)}const f4=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],us=0,xu=1,Mr=2,wp=3,pi=4,h4=new na(null,0,0),nh=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function g4(A){for(let r of A)T.fill(r,-1);return A[us][pi]=0,A[xu][pi]=0,A[xu][us]=28,A[wp][pi]=0,A[Mr][pi]=0,A[Mr][us]=15,A}const vp=g4(T.createInt32Array(6,6));class mi{constructor(r,s,a,c){this.token=r,this.mode=s,this.binaryShiftByteCount=a,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,s){let a=this.bitCount,c=this.token;if(r!==this.mode){let d=nh[this.mode][r];c=Sl(c,d&65535,d>>16),a+=d>>16}let u=r===Mr?4:5;return c=Sl(c,s,u),new mi(c,r,0,a+u)}shiftAndAppend(r,s){let a=this.token,c=this.mode===Mr?4:5;return a=Sl(a,vp[this.mode][r],c),a=Sl(a,s,5),new mi(a,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(r){let s=this.token,a=this.mode,c=this.bitCount;if(this.mode===pi||this.mode===Mr){let h=nh[a][us];s=Sl(s,h&65535,h>>16),c+=h>>16,a=us}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new mi(s,a,this.binaryShiftByteCount+1,c+u);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(r+1)),d}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=d4(s,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new mi(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let s=this.bitCount+(nh[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?s+=mi.calculateBinaryShiftCost(r)-mi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(s+=10),s<=r.bitCount}toBitArray(r){let s=[];for(let c=this.endBinaryShift(r.length).token;c!==null;c=c.getPrevious())s.unshift(c);let a=new B;for(const c of s)c.appendTo(a,r);return a}toString(){return ee.format("%s bits=%d bytes=%d",f4[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}mi.INITIAL_STATE=new mi(h4,us,0,0);function p4(A){const r=ee.getCharCode(" "),s=ee.getCharCode("."),a=ee.getCharCode(",");A[us][r]=1;const c=ee.getCharCode("Z"),u=ee.getCharCode("A");for(let I=u;I<=c;I++)A[us][I]=I-u+2;A[xu][r]=1;const d=ee.getCharCode("z"),h=ee.getCharCode("a");for(let I=h;I<=d;I++)A[xu][I]=I-h+2;A[Mr][r]=1;const m=ee.getCharCode("9"),y=ee.getCharCode("0");for(let I=y;I<=m;I++)A[Mr][I]=I-y+2;A[Mr][a]=12,A[Mr][s]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<C.length;I++)A[wp][ee.getCharCode(C[I])]=I;const S=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<S.length;I++)ee.getCharCode(S[I])>0&&(A[pi][ee.getCharCode(S[I])]=I);return A}const rh=p4(T.createInt32Array(5,256));class bl{constructor(r){this.text=r}encode(){const r=ee.getCharCode(" "),s=ee.getCharCode(`
`);let a=yp.singletonList(mi.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let d,h=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case ee.getCharCode("\r"):d=h===s?2:0;break;case ee.getCharCode("."):d=h===r?3:0;break;case ee.getCharCode(","):d=h===r?4:0;break;case ee.getCharCode(":"):d=h===r?5:0;break;default:d=0}d>0?(a=bl.updateStateListForPair(a,u,d),u++):a=this.updateStateListForChar(a,u)}return yp.min(a,(u,d)=>u.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,s){const a=[];for(let c of r)this.updateStateForChar(c,s,a);return bl.simplifyStates(a)}updateStateForChar(r,s,a){let c=this.text[s]&255,u=rh[r.getMode()][c]>0,d=null;for(let h=0;h<=pi;h++){let m=rh[h][c];if(m>0){if(d==null&&(d=r.endBinaryShift(s)),!u||h===r.getMode()||h===Mr){const y=d.latchAndAppend(h,m);a.push(y)}if(!u&&vp[r.getMode()][h]>=0){const y=d.shiftAndAppend(h,m);a.push(y)}}}if(r.getBinaryShiftByteCount()>0||rh[r.getMode()][c]===0){let h=r.addBinaryShiftChar(s);a.push(h)}}static updateStateListForPair(r,s,a){const c=[];for(let u of r)this.updateStateForPair(u,s,a,c);return this.simplifyStates(c)}static updateStateForPair(r,s,a,c){let u=r.endBinaryShift(s);if(c.push(u.latchAndAppend(pi,a)),r.getMode()!==pi&&c.push(u.shiftAndAppend(pi,a)),a===3||a===4){let d=u.latchAndAppend(Mr,16-a).latchAndAppend(Mr,1);c.push(d)}if(r.getBinaryShiftByteCount()>0){let d=r.addBinaryShiftChar(s).addBinaryShiftChar(s+1);c.push(d)}}static simplifyStates(r){let s=[];for(const a of r){let c=!0;for(const u of s){if(u.isBetterThanOrEqualTo(a)){c=!1;break}a.isBetterThanOrEqualTo(u)&&(s=s.filter(d=>d!==u))}c&&s.push(a)}return s}}class ot{constructor(){}static encodeBytes(r){return ot.encode(r,ot.DEFAULT_EC_PERCENT,ot.DEFAULT_AZTEC_LAYERS)}static encode(r,s,a){let c=new bl(r).encode(),u=N.truncDivision(c.getSize()*s,100)+11,d=c.getSize()+u,h,m,y,C,S;if(a!==ot.DEFAULT_AZTEC_LAYERS){if(h=a<0,m=Math.abs(a),m>(h?ot.MAX_NB_BITS_COMPACT:ot.MAX_NB_BITS))throw new v(ee.format("Illegal value %s for layers",a));y=ot.totalBitsInLayer(m,h),C=ot.WORD_SIZE[m];let oe=y-y%C;if(S=ot.stuffBits(c,C),S.getSize()+u>oe)throw new v("Data to large for user specified layer");if(h&&S.getSize()>C*64)throw new v("Data to large for user specified layer")}else{C=0,S=null;for(let oe=0;;oe++){if(oe>ot.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(h=oe<=3,m=h?oe+1:oe,y=ot.totalBitsInLayer(m,h),d>y)continue;(S==null||C!==ot.WORD_SIZE[m])&&(C=ot.WORD_SIZE[m],S=ot.stuffBits(c,C));let tt=y-y%C;if(!(h&&S.getSize()>C*64)&&S.getSize()+u<=tt)break}}let I=ot.generateCheckWords(S,y,C),D=S.getSize()/C,j=ot.generateModeMessage(h,m,D),V=(h?11:14)+m*4,X=new Int32Array(V),$;if(h){$=V;for(let oe=0;oe<X.length;oe++)X[oe]=oe}else{$=V+1+2*N.truncDivision(N.truncDivision(V,2)-1,15);let oe=N.truncDivision(V,2),tt=N.truncDivision($,2);for(let He=0;He<oe;He++){let er=He+N.truncDivision(He,15);X[oe-He-1]=tt-er-1,X[oe+He]=tt+er+1}}let ue=new re($);for(let oe=0,tt=0;oe<m;oe++){let He=(m-oe)*4+(h?9:12);for(let er=0;er<He;er++){let Hr=er*2;for(let tr=0;tr<2;tr++)I.get(tt+Hr+tr)&&ue.set(X[oe*2+tr],X[oe*2+er]),I.get(tt+He*2+Hr+tr)&&ue.set(X[oe*2+er],X[V-1-oe*2-tr]),I.get(tt+He*4+Hr+tr)&&ue.set(X[V-1-oe*2-tr],X[V-1-oe*2-er]),I.get(tt+He*6+Hr+tr)&&ue.set(X[V-1-oe*2-er],X[oe*2+tr])}tt+=He*8}if(ot.drawModeMessage(ue,h,$,j),h)ot.drawBullsEye(ue,N.truncDivision($,2),5);else{ot.drawBullsEye(ue,N.truncDivision($,2),7);for(let oe=0,tt=0;oe<N.truncDivision(V,2)-1;oe+=15,tt+=16)for(let He=N.truncDivision($,2)&1;He<$;He+=2)ue.set(N.truncDivision($,2)-tt,He),ue.set(N.truncDivision($,2)+tt,He),ue.set(He,N.truncDivision($,2)-tt),ue.set(He,N.truncDivision($,2)+tt)}let de=new xp;return de.setCompact(h),de.setSize($),de.setLayers(m),de.setCodeWords(D),de.setMatrix(ue),de}static drawBullsEye(r,s,a){for(let c=0;c<a;c+=2)for(let u=s-c;u<=s+c;u++)r.set(u,s-c),r.set(u,s+c),r.set(s-c,u),r.set(s+c,u);r.set(s-a,s-a),r.set(s-a+1,s-a),r.set(s-a,s-a+1),r.set(s+a,s-a),r.set(s+a,s-a+1),r.set(s+a,s+a-1)}static generateModeMessage(r,s,a){let c=new B;return r?(c.appendBits(s-1,2),c.appendBits(a-1,6),c=ot.generateCheckWords(c,28,4)):(c.appendBits(s-1,5),c.appendBits(a-1,11),c=ot.generateCheckWords(c,40,4)),c}static drawModeMessage(r,s,a,c){let u=N.truncDivision(a,2);if(s)for(let d=0;d<7;d++){let h=u-3+d;c.get(d)&&r.set(h,u-5),c.get(d+7)&&r.set(u+5,h),c.get(20-d)&&r.set(h,u+5),c.get(27-d)&&r.set(u-5,h)}else for(let d=0;d<10;d++){let h=u-5+d+N.truncDivision(d,5);c.get(d)&&r.set(h,u-7),c.get(d+10)&&r.set(u+7,h),c.get(29-d)&&r.set(h,u+7),c.get(39-d)&&r.set(u-7,h)}}static generateCheckWords(r,s,a){let c=r.getSize()/a,u=new $f(ot.getGF(a)),d=N.truncDivision(s,a),h=ot.bitsToWords(r,a,d);u.encode(h,d-c);let m=s%a,y=new B;y.appendBits(0,m);for(const C of Array.from(h))y.appendBits(C,a);return y}static bitsToWords(r,s,a){let c=new Int32Array(a),u,d;for(u=0,d=r.getSize()/s;u<d;u++){let h=0;for(let m=0;m<s;m++)h|=r.get(u*s+m)?1<<s-m-1:0;c[u]=h}return c}static getGF(r){switch(r){case 4:return $e.AZTEC_PARAM;case 6:return $e.AZTEC_DATA_6;case 8:return $e.AZTEC_DATA_8;case 10:return $e.AZTEC_DATA_10;case 12:return $e.AZTEC_DATA_12;default:throw new v("Unsupported word size "+r)}}static stuffBits(r,s){let a=new B,c=r.getSize(),u=(1<<s)-2;for(let d=0;d<c;d+=s){let h=0;for(let m=0;m<s;m++)(d+m>=c||r.get(d+m))&&(h|=1<<s-1-m);(h&u)===u?(a.appendBits(h&u,s),d--):h&u?a.appendBits(h,s):(a.appendBits(h|1,s),d--)}return a}static totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}ot.DEFAULT_EC_PERCENT=33,ot.DEFAULT_AZTEC_LAYERS=0,ot.MAX_NB_BITS=32,ot.MAX_NB_BITS_COMPACT=4,ot.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class yu{encode(r,s,a,c){return this.encodeWithHints(r,s,a,c,null)}encodeWithHints(r,s,a,c,u){let d=eh.ISO_8859_1,h=ot.DEFAULT_EC_PERCENT,m=ot.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(on.CHARACTER_SET)&&(d=mp.forName(u.get(on.CHARACTER_SET).toString())),u.has(on.ERROR_CORRECTION)&&(h=N.parseInt(u.get(on.ERROR_CORRECTION).toString())),u.has(on.AZTEC_LAYERS)&&(m=N.parseInt(u.get(on.AZTEC_LAYERS).toString()))),yu.encodeLayers(r,s,a,c,d,h,m)}static encodeLayers(r,s,a,c,u,d,h){if(s!==Me.AZTEC)throw new v("Can only encode AZTEC, but got "+s);let m=ot.encode(ee.getBytes(r,u),d,h);return yu.renderResult(m,a,c)}static renderResult(r,s,a){let c=r.getMatrix();if(c==null)throw new qn;let u=c.getWidth(),d=c.getHeight(),h=Math.max(s,u),m=Math.max(a,d),y=Math.min(h/u,m/d),C=(h-u*y)/2,S=(m-d*y)/2,I=new re(h,m);for(let D=0,j=S;D<d;D++,j+=y)for(let V=0,X=C;V<u;V++,X+=y)c.get(V,D)&&I.setRegion(X,j,y,y);return I}}n.AbstractExpandedDecoder=Vf,n.ArgumentException=w,n.ArithmeticException=ci,n.AztecCode=xp,n.AztecCodeReader=qt,n.AztecCodeWriter=yu,n.AztecDecoder=dt,n.AztecDetector=Pt,n.AztecDetectorResult=q,n.AztecEncoder=ot,n.AztecHighLevelEncoder=bl,n.AztecPoint=je,n.BarcodeFormat=Me,n.Binarizer=P,n.BinaryBitmap=b,n.BitArray=B,n.BitMatrix=re,n.BitSource=Yf,n.BrowserAztecCodeReader=Ff,n.BrowserBarcodeReader=YT,n.BrowserCodeReader=Vt,n.BrowserDatamatrixCodeReader=QT,n.BrowserMultiFormatReader=s4,n.BrowserPDF417Reader=o4,n.BrowserQRCodeReader=a4,n.BrowserQRCodeSvgWriter=go,n.CharacterSetECI=G,n.ChecksumException=M,n.Code128Reader=me,n.Code39Reader=Kt,n.DataMatrixDecodedBitStreamParser=os,n.DataMatrixReader=as,n.DecodeHintType=Z,n.DecoderResult=Tr,n.DefaultGridSampler=fe,n.DetectorResult=U,n.EAN13Reader=lo,n.EncodeHintType=on,n.Exception=p,n.FormatException=F,n.GenericGF=$e,n.GenericGFPoly=Zt,n.GlobalHistogramBinarizer=Ae,n.GridSampler=ve,n.GridSamplerInstance=Ce,n.HTMLCanvasElementLuminanceSource=Te,n.HybridBinarizer=xe,n.ITFReader=ft,n.IllegalArgumentException=v,n.IllegalStateException=qn,n.InvertedLuminanceSource=pe,n.LuminanceSource=ne,n.MathUtils=Qe,n.MultiFormatOneDReader=Jo,n.MultiFormatReader=pp,n.MultiFormatWriter=c4,n.NotFoundException=Y,n.OneDReader=Ot,n.PDF417DecodedBitStreamParser=K,n.PDF417DecoderErrorCorrection=cp,n.PDF417Reader=wn,n.PDF417ResultMetadata=dp,n.PerspectiveTransform=he,n.PlanarYUVLuminanceSource=gi,n.QRCodeByteMatrix=mu,n.QRCodeDataMask=_r,n.QRCodeDecodedBitStreamParser=Lt,n.QRCodeDecoderErrorCorrectionLevel=At,n.QRCodeDecoderFormatInformation=On,n.QRCodeEncoder=bt,n.QRCodeEncoderQRCode=ho,n.QRCodeMaskUtil=Gt,n.QRCodeMatrixUtil=Pe,n.QRCodeMode=ke,n.QRCodeReader=ls,n.QRCodeVersion=De,n.QRCodeWriter=ta,n.RGBLuminanceSource=Jf,n.RSS14Reader=Wt,n.RSSExpandedReader=ie,n.ReaderException=pu,n.ReedSolomonDecoder=ui,n.ReedSolomonEncoder=$f,n.ReedSolomonException=Ir,n.Result=ut,n.ResultMetadataType=kt,n.ResultPoint=Oe,n.StringUtils=ee,n.UnsupportedOperationException=ge,n.VideoInputDevice=ze,n.WhiteRectangleDetector=te,n.WriterException=Ct,n.ZXingArrays=T,n.ZXingCharset=mp,n.ZXingInteger=N,n.ZXingStandardCharsets=eh,n.ZXingStringBuilder=ae,n.ZXingStringEncoding=Ee,n.ZXingSystem=_,n.createAbstractExpandedDecoder=ap,Object.defineProperty(n,"__esModule",{value:!0})})})(v0,v0.exports);var Nt=v0.exports;const f5=E0(Nt),h5=Kv({__proto__:null,default:f5},[Nt]);var Vx=function(){function e(t,n,i){if(this.formatMap=new Map([[Ne.QR_CODE,Nt.BarcodeFormat.QR_CODE],[Ne.AZTEC,Nt.BarcodeFormat.AZTEC],[Ne.CODABAR,Nt.BarcodeFormat.CODABAR],[Ne.CODE_39,Nt.BarcodeFormat.CODE_39],[Ne.CODE_93,Nt.BarcodeFormat.CODE_93],[Ne.CODE_128,Nt.BarcodeFormat.CODE_128],[Ne.DATA_MATRIX,Nt.BarcodeFormat.DATA_MATRIX],[Ne.MAXICODE,Nt.BarcodeFormat.MAXICODE],[Ne.ITF,Nt.BarcodeFormat.ITF],[Ne.EAN_13,Nt.BarcodeFormat.EAN_13],[Ne.EAN_8,Nt.BarcodeFormat.EAN_8],[Ne.PDF_417,Nt.BarcodeFormat.PDF_417],[Ne.RSS_14,Nt.BarcodeFormat.RSS_14],[Ne.RSS_EXPANDED,Nt.BarcodeFormat.RSS_EXPANDED],[Ne.UPC_A,Nt.BarcodeFormat.UPC_A],[Ne.UPC_E,Nt.BarcodeFormat.UPC_E],[Ne.UPC_EAN_EXTENSION,Nt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!h5)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var o=this.createZXingFormats(t),l=new Map;l.set(Nt.DecodeHintType.POSSIBLE_FORMATS,o),l.set(Nt.DecodeHintType.TRY_HARDER,!1),this.hints=l}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,o){try{i(n.decode(t))}catch(l){o(l)}})},e.prototype.decode=function(t){var n=new Nt.MultiFormatReader(this.verbose,this.hints),i=new Nt.HTMLCanvasElementLuminanceSource(t),o=new Nt.BinaryBitmap(new Nt.HybridBinarizer(i)),l=n.decode(o);return{text:l.text,format:NT.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,o){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,o=t;i<o.length;i++){var l=o[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),g5=function(e,t,n,i){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(i.next(w))}catch(v){f(v)}}function x(w){try{p(i.throw(w))}catch(v){f(v)}}function p(w){w.done?l(w.value):o(w.value).then(g,x)}p((i=i.apply(e,t||[])).next())})},p5=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return x([p,w])}}function x(p){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(i=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Hx=function(){function e(t,n,i){if(this.formatMap=new Map([[Ne.QR_CODE,"qr_code"],[Ne.AZTEC,"aztec"],[Ne.CODABAR,"codabar"],[Ne.CODE_39,"code_39"],[Ne.CODE_93,"code_93"],[Ne.CODE_128,"code_128"],[Ne.DATA_MATRIX,"data_matrix"],[Ne.ITF,"itf"],[Ne.EAN_13,"ean_13"],[Ne.EAN_8,"ean_8"],[Ne.PDF_417,"pdf417"],[Ne.UPC_A,"upc_a"],[Ne.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var o=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return g5(this,void 0,void 0,function(){var n,i;return p5(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:NT.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,o=0,l=t;o<l.length;o++){var f=l[o],g=f.boundingBox.width*f.boundingBox.height;g>i&&(i=g,n=f)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,o=t;i<o.length;i++){var l=o[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,o){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Wx=function(e,t,n,i){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(i.next(w))}catch(v){f(v)}}function x(w){try{p(i.throw(w))}catch(v){f(v)}}function p(w){w.done?l(w.value):o(w.value).then(g,x)}p((i=i.apply(e,t||[])).next())})},Gx=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return x([p,w])}}function x(p){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(i=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},m5=function(){function e(t,n,i,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&Hx.isSupported()?(this.primaryDecoder=new Hx(t,i,o),this.secondaryDecoder=new Vx(t,i,o)):this.primaryDecoder=new Vx(t,i,o)}return e.prototype.decodeAsync=function(t){return Wx(this,void 0,void 0,function(){var n;return Gx(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Wx(this,void 0,void 0,function(){var n,i;return Gx(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,o.sent()];case 3:if(i=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var o=i[n];t+=o}var l=t/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),np=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),tf=function(e,t,n,i){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(i.next(w))}catch(v){f(v)}}function x(w){try{p(i.throw(w))}catch(v){f(v)}}function p(w){w.done?l(w.value):o(w.value).then(g,x)}p((i=i.apply(e,t||[])).next())})},nf=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return x([p,w])}}function x(p){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(i=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},RT=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),x5=function(e){np(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var o={advanced:[i]};return this.track.applyConstraints(o)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(RT),y5=function(e){np(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(x5),w5=function(e){np(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(RT),v5=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new y5(this.track)},e.prototype.torchFeature=function(){return new w5(this.track)},e}(),C5=function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,o=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,o),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,o){return tf(this,void 0,void 0,function(){var l,f;return nf(this,function(g){switch(g.label){case 0:return l=new e(t,n,o),i.aspectRatio?(f={aspectRatio:i.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:g.sent(),g.label=2;case 2:return l.setupSurface(),[2,l]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return tf(this,void 0,void 0,function(){return nf(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var o=t.mediaStream.getVideoTracks(),l=o.length,f=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++f,f>=l&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new v5(this.getFirstTrackOrFail())},e}(),E5=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return tf(this,void 0,void 0,function(){return nf(this,function(o){return[2,C5.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return tf(this,void 0,void 0,function(){var n,i;return nf(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=o.sent(),[2,new e(i)]}})})},e}(),Yx=function(e,t,n,i){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(i.next(w))}catch(v){f(v)}}function x(w){try{p(i.throw(w))}catch(v){f(v)}}function p(w){w.done?l(w.value):o(w.value).then(g,x)}p((i=i.apply(e,t||[])).next())})},Xx=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return x([p,w])}}function x(p){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(i=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},A5=function(){function e(){}return e.failIfNotSupported=function(){return Yx(this,void 0,void 0,function(){return Xx(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Yx(this,void 0,void 0,function(){return Xx(this,function(n){return[2,E5.create(t)]})})},e}(),S5=function(e,t,n,i){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(i.next(w))}catch(v){f(v)}}function x(w){try{p(i.throw(w))}catch(v){f(v)}}function p(w){w.done?l(w.value):o(w.value).then(g,x)}p((i=i.apply(e,t||[])).next())})},b5=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return x([p,w])}}function x(p){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(i=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},T5=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Aa.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Aa.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return S5(this,void 0,void 0,function(){var t,n,i,o,l,f,g;return b5(this,function(x){switch(x.label){case 0:return t=function(p){for(var w=p.getVideoTracks(),v=0,b=w;v<b.length;v++){var M=b[v];M.enabled=!1,M.stop(),p.removeTrack(M)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=x.sent(),o=[],l=0,f=i;l<f.length;l++)g=f[l],g.kind==="videoinput"&&o.push({id:g.deviceId,label:g.label});return t(n),[2,o]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(l){for(var f=[],g=0,x=l;g<x.length;g++){var p=x[g];p.kind==="video"&&f.push({id:p.id,label:p.label})}t(f)},o=MediaStreamTrack;o.getSources(i)})},e}(),Xt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Xt||(Xt={}));var I5=function(){function e(){this.state=Xt.NOT_STARTED,this.onGoingTransactionNewState=Xt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Xt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Xt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Xt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Xt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Xt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Xt.UNKNOWN:throw"Transition from unknown is not allowed";case Xt.NOT_STARTED:this.failIfNewStateIs(t,[Xt.PAUSED]);break;case Xt.SCANNING:break;case Xt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,o=n;i<o.length;i++){var l=o[i];if(t===l)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),N5=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Xt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Xt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Xt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Xt.PAUSED},e}(),_5=function(){function e(){}return e.create=function(){return new N5(new I5)},e}(),O5=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),ur=function(e){O5(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Qr),M5=function(){function e(t,n){this.logger=n,this.fps=ur.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ur.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?MT.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!wi(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Qx=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new OT(this.verbose),this.qrcode=new m5(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=_5.create()}return e.prototype.start=function(t,n,i,o){var l=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;o?f=o:f=this.verbose?this.logger.log:function(){};var g=M5.create(n,this.logger);this.clearElement();var x=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=x,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:ur.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var v=this,b=this.stateManagerProxy.startTransition(Xt.SCANNING);return new Promise(function(M,P){var _=p?g.videoConstraints:v.createVideoConstraints(t);if(!_){b.cancel(),P("videoConstraints should be defined");return}var k={};(!p||g.aspectRatio)&&(k.aspectRatio=g.aspectRatio);var O={onRenderSurfaceReady:function(T,N){v.setupUi(T,N,g),v.isScanning=!0,v.foreverScan(g,i,f)}};A5.failIfNotSupported().then(function(T){T.create(_).then(function(N){return N.render(l.element,k,O).then(function(B){v.renderedCamera=B,b.execute(),M(null)}).catch(function(B){b.cancel(),P(B)})}).catch(function(N){b.cancel(),P(Aa.errorGettingUserMedia(N))})}).catch(function(T){b.cancel(),P(Aa.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Xt.PAUSED),this.showPausedState(),(wi(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Xt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Xt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var l=document.getElementById(ur.SHADED_REGION_ELEMENT_ID);l&&t.element.removeChild(l)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),i(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(wi(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,l){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var g=f.width,x=f.height,p=document.getElementById(i.elementId),w=p.clientWidth?p.clientWidth:ur.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:x,ur.FILE_SCAN_MIN_HEIGHT),b=i.computeCanvasDrawConfig(g,x,w,v);if(n){var M=i.createCanvasElement(w,v,"qr-canvas-visible");M.style.display="inline-block",p.appendChild(M);var P=M.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=w,P.canvas.height=v,P.drawImage(f,0,0,g,x,b.x,b.y,b.width,b.height)}var _=ur.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(f.width,b.width),O=Math.max(f.height,b.height),T=k+2*_,N=O+2*_,B=i.createCanvasElement(T,N);p.appendChild(B);var W=B.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=T,W.canvas.height=N,W.drawImage(f,0,0,g,x,_,_,k,O);try{i.qrcode.decodeRobustlyAsync(B).then(function(Z){o(Ux.createFromQrcodeResult(Z))}).catch(l)}catch(Z){l("QR code parse error, error = ".concat(Z))}},f.onerror=l,f.onabort=l,f.onstalled=l,f.onsuspend=l,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return T5.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!MT.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Ne.QR_CODE,Ne.AZTEC,Ne.CODABAR,Ne.CODE_39,Ne.CODE_93,Ne.CODE_128,Ne.DATA_MATRIX,Ne.MAXICODE,Ne.ITF,Ne.EAN_13,Ne.EAN_8,Ne.PDF_417,Ne.RSS_14,Ne.RSS_EXPANDED,Ne.UPC_A,Ne.UPC_E,Ne.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],o=0,l=t.formatsToSupport;o<l.length;o++){var f=l[o];u5(f)?i.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(wi(t))return!0;if(!wi(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(wi(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return wi(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var o=this,l=i.qrbox;this.validateQrboxConfig(l);var f=this.toQrdimensions(t,n,l),g=function(p){if(p<ur.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ur.MIN_QR_BOX_SIZE,"px.")},x=function(p){return p>t&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};g(f.width),g(f.height),f.width=x(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var o=wi(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(o);var l=this.toQrdimensions(t,n,o);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=i.isShadedBoxEnabled()&&l.height<=n,g={x:0,y:0,width:t,height:n},x=f?this.getShadedRegionBounds(t,n,l):g,p=this.createCanvasElement(x.width,x.height),w={willReadFrequently:!0},v=p.getContext("2d",w);v.canvas.width=x.width,v.canvas.height=x.height,this.element.append(p),f&&this.possiblyInsertShadingElement(this.element,t,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=v,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Aa.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return t(o.text,Ux.createFromQrcodeResult(o)),i.possiblyUpdateShaders(!0),!0}).catch(function(o){i.possiblyUpdateShaders(!1);var l=Aa.codeParseError(o);return n(l,_T.createFrom(l)),!1})},e.prototype.foreverScan=function(t,n,i){var o=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),f=l.videoWidth/l.clientWidth,g=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*f,p=this.qrRegion.height*g,w=this.qrRegion.x*f,v=this.qrRegion.y*g;this.context.drawImage(l,w,v,x,p,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(t,n,i)},o.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(M){!M&&t.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,i).finally(function(){b()})):b()}).catch(function(M){o.logger.logError("Error happend while scanning context",M),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",o={user:!0,environment:!0},l="exact",f=function(P){if(P in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var p=t.facingMode;if(typeof p=="string"){if(f(p))return{facingMode:p}}else if(typeof p=="object")if(l in p){if(f(p["".concat(l)]))return{facingMode:{exact:p["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var w=typeof p;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(l in v)return{deviceId:{exact:v["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var b=typeof v;throw"Invalid type of 'deviceId' = ".concat(b)}}}var M=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(M)},e.prototype.computeCanvasDrawConfig=function(t,n,i,o){if(t<=i&&n<=o){var l=(i-t)/2,f=(o-n)/2;return{x:l,y:f,width:t,height:n}}else{var g=t,x=n;return t>i&&(n=i/t*n,t=i),n>o&&(t=o/n*t,n=o),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,o)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?ur.BORDER_SHADER_MATCH_COLOR:ur.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var o=t,l=n,f=document.createElement("canvas");return f.style.width="".concat(o,"px"),f.style.height="".concat(l,"px"),f.style.display="none",f.id=wi(i)?"qr-canvas":i,f},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,o){if(!(n-o.width<1||i-o.height<1)){var l=document.createElement("div");l.style.position="absolute";var f=(n-o.width)/2,g=(i-o.height)/2;if(l.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(ur.SHADED_REGION_ELEMENT_ID),n-o.width<11||i-o.height<11)this.hasBorderShaders=!1;else{var x=5,p=40;this.insertShaderBorders(l,p,x,-x,null,0,!0),this.insertShaderBorders(l,p,x,-x,null,0,!1),this.insertShaderBorders(l,p,x,null,-x,0,!0),this.insertShaderBorders(l,p,x,null,-x,0,!1),this.insertShaderBorders(l,x,p+x,-x,null,-x,!0),this.insertShaderBorders(l,x,p+x,null,-x,-x,!0),this.insertShaderBorders(l,x,p+x,-x,null,-x,!1),this.insertShaderBorders(l,x,p+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(l)}},e.prototype.insertShaderBorders=function(t,n,i,o,l,f,g){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=ur.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(i,"px"),o!==null&&(x.style.top="".concat(o,"px")),l!==null&&(x.style.bottom="".concat(l,"px")),g?x.style.left="".concat(f,"px"):x.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),rp="data:image/svg+xml;base64,",R5=rp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",D5=rp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Zx=rp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",k5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",qx=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),P5=function(){function e(){this.data=qx.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=qx.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),L5=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=zx.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var i=document.createElement("br"),o=document.createElement("br");this.infoDiv.appendChild(i),this.infoDiv.appendChild(o);var l=document.createElement("a");l.innerText=zx.reportIssues(),l.href="https://github.com/mebjas/html5-qrcode/issues",l.target="new",l.style.color="white",this.infoDiv.appendChild(l),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),B5=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Zx,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(i){return n.onHoverIn()},this.infoIcon.onmouseout=function(i){return n.onHoverOut()},this.infoIcon.onclick=function(i){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=k5,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Zx,this.infoIcon.style.opacity="0.6")},e}(),F5=function(){function e(){var t=this;this.infoDiv=new L5,this.infoIcon=new B5(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),j5=function(e,t,n,i){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(i.next(w))}catch(v){f(v)}}function x(w){try{p(i.throw(w))}catch(v){f(v)}}function p(w){w.done?l(w.value):o(w.value).then(g,x)}p((i=i.apply(e,t||[])).next())})},U5=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return x([p,w])}}function x(p){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(i=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Kx=function(){function e(){}return e.hasPermissions=function(){return j5(this,void 0,void 0,function(){var t,n,i,o;return U5(this,function(l){switch(l.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=l.sent(),n=0,i=t;n<i.length;n++)if(o=i[n],o.kind==="videoinput"&&o.label)return[2,!0];return[2,!1]}})})},e}(),ps=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var i=n[t];if(e.isCameraScanType(i))return!0}return!1},e.isCameraScanType=function(t){return t===io.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===io.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Qr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Qr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var i=0,o=t;i<o.length;i++){var l=o[i];if(!Qr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(l))throw"Unsupported scan type ".concat(l)}return t},e}(),xr=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Xi=function(){function e(){}return e.createElement=function(t,n){var i=document.createElement(t);return i.id=n,i.classList.add(xr.ALL_ELEMENT_CLASS),t==="button"&&i.setAttribute("type","button"),i},e}(),DT=function(e,t,n,i){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(i.next(w))}catch(v){f(v)}}function x(w){try{p(i.throw(w))}catch(v){f(v)}}function p(w){w.done?l(w.value):o(w.value).then(g,x)}p((i=i.apply(e,t||[])).next())})},kT=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return x([p,w])}}function x(p){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(i=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},$x=function(){function e(t,n,i){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=i}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return DT(this,void 0,void 0,function(){var t,n;return kT(this,function(i){switch(i.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return i.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=i.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?yt.torchOffButton():yt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var i=t?yt.torchOnFailedMessage():yt.torchOffFailedMessage();n&&(i+="; Error = "+n),this.onTorchActionFailureCallback(i)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),z5=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Xi.createElement("button",xr.TORCH_BUTTON_ID),this.torchController=new $x(t,this,n)}return e.prototype.render=function(t,n){var i=this;this.torchButton.innerText=yt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var o=this;this.torchButton.addEventListener("click",function(l){return DT(i,void 0,void 0,function(){return kT(this,function(f){switch(f.label){case 0:return[4,o.torchController.flipState()];case 1:return f.sent(),o.torchController.isTorchEnabled()?(o.torchButton.classList.remove(xr.TORCH_BUTTON_CLASS_TORCH_OFF),o.torchButton.classList.add(xr.TORCH_BUTTON_CLASS_TORCH_ON)):(o.torchButton.classList.remove(xr.TORCH_BUTTON_CLASS_TORCH_ON),o.torchButton.classList.add(xr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new $x(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=yt.torchOnButton(),this.torchController.reset()},e.create=function(t,n,i,o){var l=new e(n,o);return l.render(t,i),l},e}(),V5=function(){function e(t,n,i){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var o=document.createElement("label");o.setAttribute("for",this.getFileScanInputId()),o.style.display="inline-block",this.fileBasedScanRegion.appendChild(o),this.fileSelectionButton=Xi.createElement("button",xr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){o.click()}),o.append(this.fileSelectionButton),this.fileScanInput=Xi.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",o.appendChild(this.fileScanInput);var l=this;this.fileScanInput.addEventListener("change",function(g){if(!(g==null||g.target==null)){var x=g.target;if(!(x.files&&x.files.length===0)){var p=x.files,w=p[0],v=w.name;l.setImageNameToButton(v),i(w)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(g){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder();var x=g.dataTransfer;if(x){var p=x.files;if(!p||p.length===0)return;for(var w=!1,v=0;v<p.length;++v){var b=p.item(v);if(b){var M=/image.*/;if(b.type.match(M)){w=!0;var P=b.name;l.setImageNameToButton(P),i(b),f.innerText=yt.dragAndDropMessage();break}}}w||(f.innerText=yt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=yt.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var i=t.substring(0,8),o=t.length,l=t.substring(o-8,o);t="".concat(i,"....").concat(l)}var f=yt.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=f},e.prototype.setInitialValueToButton=function(){var t=yt.fileSelectionChooseImage()+" - "+yt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,i){var o=new e(t,n,i);return o},e}(),H5=function(){function e(t){this.selectElement=Xi.createElement("select",xr.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var i=this.cameras.length;if(i===0)throw new Error("No cameras found");if(i===1)n.style.display="none";else{var o=yt.selectCamera();n.innerText="".concat(o," (").concat(this.cameras.length,")  ")}for(var l=1,f=0,g=this.cameras;f<g.length;f++){var x=g[f],p=x.id,w=x.label==null?p:x.label;(!w||w==="")&&(w=[yt.anonymousCameraPrefix(),l++].join(" "));var v=document.createElement("option");v.value=p,v.innerText=w,this.options.push(v),this.selectElement.appendChild(v)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,i=this.options;n<i.length;n++){var o=i[n];if(o.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var i=new e(n);return i.render(t),i},e}(),W5=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Xi.createElement("input",xr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var i=yt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.rangeText.style.marginRight="10px";var o=this;this.rangeInput.addEventListener("input",function(){return o.onValueChange()}),this.rangeInput.addEventListener("change",function(){return o.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=yt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,i,o){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=o.toString(),this.rangeInput.value=i.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var i=new e;return i.render(t,n),i},e}(),dr;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(dr||(dr={}));function G5(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function Y5(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var X5=function(){function e(t,n,i){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=i===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new ps(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new OT(this.verbose),this.persistedDataManager=new P5,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var i=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(l,f){if(t)t(l,f);else{if(i.lastMatchFound===l)return;i.lastMatchFound=l,i.setHeaderMessage(yt.lastMatch(l),dr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(l,f){n&&n(l,f)};var o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id=".concat(this.elementId," not found");o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new Qx(this.getScanRegionId(),Y5(this.config,this.verbose))},e.prototype.pause=function(t){(wi(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var i=document.getElementById(t.elementId);i&&(i.innerHTML="",t.resetBasicLayout(i))};return this.html5Qrcode?new Promise(function(i,o){if(!t.html5Qrcode){i();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(l){if(!t.html5Qrcode){i();return}t.html5Qrcode.clear(),n(),i()}).catch(function(l){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",l),o(l)}):(t.html5Qrcode.clear(),n(),i())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Qr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Qr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Qr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Qr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Qr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Qr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Qr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),i=this.getScanRegionId();n.id=i,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),ps.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var o=document.createElement("div"),l=this.getDashboardId();o.id=l,o.style.width="100%",t.appendChild(o),this.setupInitialDashboard(o)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var i=new F5;i.renderInto(n);var o=document.createElement("div");o.id=this.getHeaderMessageContainerId(),o.style.display="none",o.style.textAlign="center",o.style.fontSize="14px",o.style.padding="2px 10px",o.style.margin="4px",o.style.borderTop="1px solid #f6f6f6",n.appendChild(o)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,i){var o=this;o.showHideScanTypeSwapLink(!1),o.setHeaderMessage(yt.cameraPermissionRequesting());var l=function(){i||o.createPermissionButton(t,n)};Qx.getCameras().then(function(f){o.persistedDataManager.setHasPermission(!0),o.showHideScanTypeSwapLink(!0),o.resetHeaderMessage(),f&&f.length>0?(t.removeChild(n),o.renderCameraSelection(f)):(o.setHeaderMessage(yt.noCameraFound(),dr.STATUS_WARNING),l())}).catch(function(f){o.persistedDataManager.setHasPermission(!1),i?i.disabled=!1:l(),o.setHeaderMessage(f,dr.STATUS_WARNING),o.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var i=this,o=Xi.createElement("button",this.getCameraPermissionButtonId());o.innerText=yt.cameraPermissionTitle(),o.addEventListener("click",function(){o.disabled=!0,i.createCameraListUi(t,n,o)}),n.appendChild(o)},e.prototype.createPermissionsUi=function(t,n){var i=this;if(ps.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Kx.hasPermissions().then(function(o){o?i.createCameraListUi(t,n):(i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n))}).catch(function(o){i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var i=document.createElement("div");i.id=this.getDashboardSectionCameraScanRegionId(),i.style.display=ps.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(i);var o=document.createElement("div");o.style.textAlign="center",i.appendChild(o),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(i,o),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=ps.isFileScanType(this.currentScanType),i=this,o=function(l){if(!i.html5Qrcode)throw"html5Qrcode not defined";ps.isFileScanType(i.currentScanType)&&(i.setHeaderMessage(yt.loadingImage()),i.html5Qrcode.scanFileV2(l,!0).then(function(f){i.resetHeaderMessage(),i.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){i.setHeaderMessage(f,dr.STATUS_WARNING),i.qrCodeErrorCallback(f,_T.createFrom(f))}))};this.fileSelectionUi=V5.create(t,n,o)},e.prototype.renderCameraSelection=function(t){var n=this,i=this,o=document.getElementById(this.getDashboardSectionCameraScanRegionId());o.style.textAlign="center";var l=W5.create(o,!1),f=function(_){var k=_.zoomFeature();if(k.isSupported()){l.setOnCameraZoomValueChangeCallback(function(T){k.apply(T)});var O=1;n.config.defaultZoomValueIfSupported&&(O=n.config.defaultZoomValueIfSupported),O=d5(O,k.min(),k.max()),l.setValues(k.min(),k.max(),O,k.step()),l.show()}},g=H5.create(o,t),x=document.createElement("span"),p=Xi.createElement("button",xr.CAMERA_START_BUTTON_ID);p.innerText=yt.scanButtonStartScanningText(),x.appendChild(p);var w=Xi.createElement("button",xr.CAMERA_STOP_BUTTON_ID);w.innerText=yt.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,x.appendChild(w);var v,b=function(_){if(!_.torchFeature().isSupported()){v&&v.hide();return}v?v.updateTorchCapability(_.torchFeature()):v=z5.create(x,_.torchFeature(),{display:"none",marginLeft:"5px"},function(k){i.setHeaderMessage(k,dr.STATUS_WARNING)}),v.show()};o.appendChild(x);var M=function(_){_||(p.style.display="none"),p.innerText=yt.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,_&&(p.style.display="inline-block")};if(p.addEventListener("click",function(_){p.innerText=yt.scanButtonScanningStarting(),g.disable(),p.disabled=!0,p.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!1),i.resetHeaderMessage();var k=g.getValue();i.persistedDataManager.setLastUsedCameraId(k),i.html5Qrcode.start(k,G5(i.config),i.qrCodeSuccessCallback,i.qrCodeErrorCallback).then(function(O){w.disabled=!1,w.style.display="inline-block",M(!1);var T=i.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&b(T),n.config.showZoomSliderIfSupported===!0&&f(T)}).catch(function(O){i.showHideScanTypeSwapLink(!0),g.enable(),M(!0),i.setHeaderMessage(O,dr.STATUS_WARNING)})}),g.hasSingleItem()&&p.click(),w.addEventListener("click",function(_){if(!i.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,i.html5Qrcode.stop().then(function(k){n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!0),g.enable(),p.disabled=!1,w.style.display="none",p.style.display="inline-block",v&&(v.reset(),v.hide()),l.removeOnCameraZoomValueChangeCallback(),l.hide(),i.insertCameraScanImageToScanRegion()}).catch(function(k){w.disabled=!1,i.setHeaderMessage(k,dr.STATUS_WARNING)})}),i.persistedDataManager.getLastUsedCameraId()){var P=i.persistedDataManager.getLastUsedCameraId();g.hasValue(P)?(g.setValue(P),p.click()):i.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=yt.textIfCameraScanSelected(),i=yt.textIfFileScanSelected(),o=document.getElementById(this.getDashboardSectionId()),l=document.createElement("div");l.style.textAlign="center";var f=Xi.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=ps.isCameraScanType(this.currentScanType)?n:i,f.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,ps.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),f.innerText=i,t.currentScanType=io.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),f.innerText=n,t.currentScanType=io.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),l.appendChild(f),o.appendChild(l)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Kx.hasPermissions().then(function(i){if(i){var o=document.getElementById(n.getCameraPermissionButtonId());if(!o)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";o.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(i){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=dr.STATUS_DEFAULT);var i=this.getHeaderMessageDiv();switch(i.innerText=t,i.style.display="block",n){case dr.STATUS_SUCCESS:i.style.background="rgba(106, 175, 80, 0.26)",i.style.color="#477735";break;case dr.STATUS_WARNING:i.style.background="rgba(203, 36, 49, 0.14)",i.style.color="#cb2431";break;case dr.STATUS_DEFAULT:default:i.style.background="rgba(0, 0, 0, 0)",i.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=R5,this.cameraScanImage.alt=yt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=D5,this.fileScanImage.alt=yt.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return xr.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return xr.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const Q5=({onScan:e,fps:t=10,qrbox:n=250})=>{const i=L.useRef(`qr-reader-${Math.random().toString(36).slice(2,9)}`),o=L.useRef(null);return L.useEffect(()=>{if(typeof window>"u")return;const l=i.current,f={fps:t};typeof n=="number"?f.qrbox={width:n,height:n}:f.qrbox=n;const g=new X5(l,f,!1);return g.render(x=>{try{e(x)}catch(p){console.error("onScan callback error:",p)}},x=>{}),o.current=g,()=>{if(o.current){try{o.current.clear()}catch{}o.current=null}}},[e,t,n]),E.jsx("div",{id:i.current})};async function Z5(e){return await ru("POST","/api/scan",{qrCode:e})}function q5(){return E.jsx(K5,{})}function K5(){const[,e]=Pi(),{toast:t}=iu(),[n,i]=L.useState(!0),o=nu({mutationFn:f=>Z5(f),onSuccess:f=>{t({title:f.type==="checkin"?"Check-in Successful":"Check-out Successful",description:f.message}),i(!1),setTimeout(()=>i(!0),1200)},onError:f=>{t({title:"Scan failed",description:f.message,variant:"destructive"})}}),l=f=>{o.isPending||o.mutate(f)};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-accent/10 p-4 md:p-8",children:E.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[E.jsxs(Pn,{variant:"ghost",onClick:()=>e("/home"),"data-testid":"button-back-home",children:[E.jsx(Ng,{className:"size-4 mr-2"}),"Back to Home"]}),E.jsxs(bn,{className:"p-6 md:p-8 space-y-6",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:E.jsx(Dd,{className:"size-6 text-primary"})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-xl md:text-2xl font-bold tracking-tight",children:"QR Code Scanner"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan vehicle QR codes for check-in and check-out"})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("div",{className:"rounded-lg overflow-hidden",children:n&&E.jsx(Q5,{onScan:l})}),E.jsx("div",{className:"bg-accent/20 p-4 rounded-lg",children:E.jsx("p",{className:"text-sm text-center",children:"Position the QR code within the frame to scan"})}),E.jsx(Pn,{variant:"outline",className:"w-full h-12",onClick:()=>i(f=>!f),children:n?"Stop Scanner":"Start Scanner"})]})]})]})})}const PT=L.forwardRef(({className:e,...t},n)=>E.jsx("div",{className:"relative w-full overflow-auto",children:E.jsx("table",{ref:n,className:mt("w-full caption-bottom text-sm",e),...t})}));PT.displayName="Table";const LT=L.forwardRef(({className:e,...t},n)=>E.jsx("thead",{ref:n,className:mt("[&_tr]:border-b",e),...t}));LT.displayName="TableHeader";const BT=L.forwardRef(({className:e,...t},n)=>E.jsx("tbody",{ref:n,className:mt("[&_tr:last-child]:border-0",e),...t}));BT.displayName="TableBody";const $5=L.forwardRef(({className:e,...t},n)=>E.jsx("tfoot",{ref:n,className:mt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));$5.displayName="TableFooter";const C0=L.forwardRef(({className:e,...t},n)=>E.jsx("tr",{ref:n,className:mt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));C0.displayName="TableRow";const ys=L.forwardRef(({className:e,...t},n)=>E.jsx("th",{ref:n,className:mt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ys.displayName="TableHead";const ws=L.forwardRef(({className:e,...t},n)=>E.jsx("td",{ref:n,className:mt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ws.displayName="TableCell";const J5=L.forwardRef(({className:e,...t},n)=>E.jsx("caption",{ref:n,className:mt("mt-4 text-sm text-muted-foreground",e),...t}));J5.displayName="TableCaption";function li(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Xo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const FT=6048e5,ek=864e5;let tk={};function Bf(){return tk}function Wc(e,t){var g,x,p,w;const n=Bf(),i=(t==null?void 0:t.weekStartsOn)??((x=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((w=(p=n.locale)==null?void 0:p.options)==null?void 0:w.weekStartsOn)??0,o=li(e),l=o.getDay(),f=(l<i?7:0)+l-i;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function rf(e){return Wc(e,{weekStartsOn:1})}function jT(e){const t=li(e),n=t.getFullYear(),i=Xo(e,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const o=rf(i),l=Xo(e,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const f=rf(l);return t.getTime()>=o.getTime()?n+1:t.getTime()>=f.getTime()?n:n-1}function Jx(e){const t=li(e);return t.setHours(0,0,0,0),t}function ey(e){const t=li(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function nk(e,t){const n=Jx(e),i=Jx(t),o=+n-ey(n),l=+i-ey(i);return Math.round((o-l)/ek)}function rk(e){const t=jT(e),n=Xo(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),rf(n)}function ik(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function sk(e){if(!ik(e)&&typeof e!="number")return!1;const t=li(e);return!isNaN(Number(t))}function ok(e){const t=li(e),n=Xo(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ak={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lk=(e,t,n)=>{let i;const o=ak[e];return typeof o=="string"?i=o:t===1?i=o.one:i=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Gh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ck={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fk={date:Gh({formats:ck,defaultWidth:"full"}),time:Gh({formats:uk,defaultWidth:"full"}),dateTime:Gh({formats:dk,defaultWidth:"full"})},hk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gk=(e,t,n,i)=>hk[e];function jl(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let o;if(i==="formatting"&&e.formattingValues){const f=e.defaultFormattingWidth||e.defaultWidth,g=n!=null&&n.width?String(n.width):f;o=e.formattingValues[g]||e.formattingValues[f]}else{const f=e.defaultWidth,g=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[g]||e.values[f]}const l=e.argumentCallback?e.argumentCallback(t):t;return o[l]}}const pk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ck=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ek={ordinalNumber:Ck,era:jl({values:pk,defaultWidth:"wide"}),quarter:jl({values:mk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:jl({values:xk,defaultWidth:"wide"}),day:jl({values:yk,defaultWidth:"wide"}),dayPeriod:jl({values:wk,defaultWidth:"wide",formattingValues:vk,defaultFormattingWidth:"wide"})};function Ul(e){return(t,n={})=>{const i=n.width,o=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],l=t.match(o);if(!l)return null;const f=l[0],g=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],x=Array.isArray(g)?Sk(g,v=>v.test(f)):Ak(g,v=>v.test(f));let p;p=e.valueCallback?e.valueCallback(x):x,p=n.valueCallback?n.valueCallback(p):p;const w=t.slice(f.length);return{value:p,rest:w}}}function Ak(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Sk(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function bk(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const o=i[0],l=t.match(e.parsePattern);if(!l)return null;let f=e.valueCallback?e.valueCallback(l[0]):l[0];f=n.valueCallback?n.valueCallback(f):f;const g=t.slice(o.length);return{value:f,rest:g}}}const Tk=/^(\d+)(th|st|nd|rd)?/i,Ik=/\d+/i,Nk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_k={any:[/^b/i,/^(a|c)/i]},Ok={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mk={any:[/1/i,/2/i,/3/i,/4/i]},Rk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Pk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fk={ordinalNumber:bk({matchPattern:Tk,parsePattern:Ik,valueCallback:e=>parseInt(e,10)}),era:Ul({matchPatterns:Nk,defaultMatchWidth:"wide",parsePatterns:_k,defaultParseWidth:"any"}),quarter:Ul({matchPatterns:Ok,defaultMatchWidth:"wide",parsePatterns:Mk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ul({matchPatterns:Rk,defaultMatchWidth:"wide",parsePatterns:Dk,defaultParseWidth:"any"}),day:Ul({matchPatterns:kk,defaultMatchWidth:"wide",parsePatterns:Pk,defaultParseWidth:"any"}),dayPeriod:Ul({matchPatterns:Lk,defaultMatchWidth:"any",parsePatterns:Bk,defaultParseWidth:"any"})},jk={code:"en-US",formatDistance:lk,formatLong:fk,formatRelative:gk,localize:Ek,match:Fk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Uk(e){const t=li(e);return nk(t,ok(t))+1}function zk(e){const t=li(e),n=+rf(t)-+rk(t);return Math.round(n/FT)+1}function UT(e,t){var w,v,b,M;const n=li(e),i=n.getFullYear(),o=Bf(),l=(t==null?void 0:t.firstWeekContainsDate)??((v=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:v.firstWeekContainsDate)??o.firstWeekContainsDate??((M=(b=o.locale)==null?void 0:b.options)==null?void 0:M.firstWeekContainsDate)??1,f=Xo(e,0);f.setFullYear(i+1,0,l),f.setHours(0,0,0,0);const g=Wc(f,t),x=Xo(e,0);x.setFullYear(i,0,l),x.setHours(0,0,0,0);const p=Wc(x,t);return n.getTime()>=g.getTime()?i+1:n.getTime()>=p.getTime()?i:i-1}function Vk(e,t){var g,x,p,w;const n=Bf(),i=(t==null?void 0:t.firstWeekContainsDate)??((x=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??n.firstWeekContainsDate??((w=(p=n.locale)==null?void 0:p.options)==null?void 0:w.firstWeekContainsDate)??1,o=UT(e,t),l=Xo(e,0);return l.setFullYear(o,0,i),l.setHours(0,0,0,0),Wc(l,t)}function Hk(e,t){const n=li(e),i=+Wc(n,t)-+Vk(n,t);return Math.round(i/FT)+1}function xt(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const ms={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return xt(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):xt(n+1,2)},d(e,t){return xt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return xt(e.getHours()%12||12,t.length)},H(e,t){return xt(e.getHours(),t.length)},m(e,t){return xt(e.getMinutes(),t.length)},s(e,t){return xt(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),o=Math.trunc(i*Math.pow(10,n-3));return xt(o,t.length)}},la={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ty={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),o=i>0?i:1-i;return n.ordinalNumber(o,{unit:"year"})}return ms.y(e,t)},Y:function(e,t,n,i){const o=UT(e,i),l=o>0?o:1-o;if(t==="YY"){const f=l%100;return xt(f,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):xt(l,t.length)},R:function(e,t){const n=jT(e);return xt(n,t.length)},u:function(e,t){const n=e.getFullYear();return xt(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return xt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return xt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return ms.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return xt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const o=Hk(e,i);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):xt(o,t.length)},I:function(e,t,n){const i=zk(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):xt(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ms.d(e,t)},D:function(e,t,n){const i=Uk(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):xt(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const o=e.getDay(),l=(o-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return xt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const o=e.getDay(),l=(o-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return xt(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),o=i===0?7:i;switch(t){case"i":return String(o);case"ii":return xt(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let o;switch(i===12?o=la.noon:i===0?o=la.midnight:o=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let o;switch(i>=17?o=la.evening:i>=12?o=la.afternoon:i>=4?o=la.morning:o=la.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return ms.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ms.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):xt(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):xt(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ms.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ms.s(e,t)},S:function(e,t){return ms.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return ry(i);case"XXXX":case"XX":return xo(i);case"XXXXX":case"XXX":default:return xo(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return ry(i);case"xxxx":case"xx":return xo(i);case"xxxxx":case"xxx":default:return xo(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ny(i,":");case"OOOO":default:return"GMT"+xo(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ny(i,":");case"zzzz":default:return"GMT"+xo(i,":")}},t:function(e,t,n){const i=Math.trunc(e.getTime()/1e3);return xt(i,t.length)},T:function(e,t,n){const i=e.getTime();return xt(i,t.length)}};function ny(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),o=Math.trunc(i/60),l=i%60;return l===0?n+String(o):n+String(o)+t+xt(l,2)}function ry(e,t){return e%60===0?(e>0?"-":"+")+xt(Math.abs(e)/60,2):xo(e,t)}function xo(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),o=xt(Math.trunc(i/60),2),l=xt(i%60,2);return n+o+t+l}const iy=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},zT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Wk=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],o=n[2];if(!o)return iy(e,t);let l;switch(i){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",iy(i,t)).replace("{{time}}",zT(o,t))},Gk={p:zT,P:Wk},Yk=/^D+$/,Xk=/^Y+$/,Qk=["D","DD","YY","YYYY"];function Zk(e){return Yk.test(e)}function qk(e){return Xk.test(e)}function Kk(e,t,n){const i=$k(e,t,n);if(console.warn(i),Qk.includes(e))throw new RangeError(i)}function $k(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,e7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,t7=/^'([^]*?)'?$/,n7=/''/g,r7=/[a-zA-Z]/;function Yh(e,t,n){var w,v,b,M;const i=Bf(),o=i.locale??jk,l=i.firstWeekContainsDate??((v=(w=i.locale)==null?void 0:w.options)==null?void 0:v.firstWeekContainsDate)??1,f=i.weekStartsOn??((M=(b=i.locale)==null?void 0:b.options)==null?void 0:M.weekStartsOn)??0,g=li(e);if(!sk(g))throw new RangeError("Invalid time value");let x=t.match(e7).map(P=>{const _=P[0];if(_==="p"||_==="P"){const k=Gk[_];return k(P,o.formatLong)}return P}).join("").match(Jk).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const _=P[0];if(_==="'")return{isToken:!1,value:i7(P)};if(ty[_])return{isToken:!0,value:P};if(_.match(r7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:P}});o.localize.preprocessor&&(x=o.localize.preprocessor(g,x));const p={firstWeekContainsDate:l,weekStartsOn:f,locale:o};return x.map(P=>{if(!P.isToken)return P.value;const _=P.value;(qk(_)||Zk(_))&&Kk(_,t,String(e));const k=ty[_[0]];return k(g,_,o.localize,p)}).join("")}function i7(e){const t=e.match(t7);return t?t[1].replace(n7,"'"):e}function s7(){return E.jsx(tp,{requireAdmin:!0,children:E.jsx(o7,{})})}function o7(){const[,e]=Pi(),{data:t=[],isLoading:n,refetch:i}=LA({queryKey:["/api/visits"]}),o=()=>{i()},l=async()=>{try{const g=await(await fetch("/api/visits/export")).blob(),x=window.URL.createObjectURL(g),p=document.createElement("a");p.href=x,p.download=`parking-visits-${Yh(new Date,"yyyy-MM-dd")}.xlsx`,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(x)}catch(f){console.error("Export failed:",f)}};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-accent/10 p-4 md:p-8",children:E.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[E.jsxs(Pn,{variant:"ghost",onClick:()=>e("/home"),"data-testid":"button-back-home",children:[E.jsx(Ng,{className:"size-4 mr-2"}),"Back to Home"]}),E.jsxs(bn,{className:"p-6 md:p-8 space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:E.jsx(r0,{className:"size-6 text-primary"})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-xl md:text-2xl font-bold tracking-tight",children:"Visits Log"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"View all parking visits and export reports"})]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs(Pn,{variant:"outline",onClick:o,disabled:n,"data-testid":"button-refresh",children:[E.jsx(e6,{className:`size-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]}),E.jsxs(Pn,{onClick:l,"data-testid":"button-export",children:[E.jsx(g3,{className:"size-4 mr-2"}),"Export to Excel"]})]})]}),n?E.jsx("div",{className:"flex items-center justify-center py-12",children:E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length===0?E.jsxs("div",{className:"text-center py-12 space-y-3",children:[E.jsx("div",{className:"flex items-center justify-center",children:E.jsx("div",{className:"bg-muted p-6 rounded-full",children:E.jsx(r0,{className:"size-12 text-muted-foreground"})})}),E.jsx("h3",{className:"text-lg font-semibold",children:"No visits yet"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"Parking visits will appear here once vehicles check in"})]}):E.jsx("div",{className:"overflow-x-auto",children:E.jsxs(PT,{children:[E.jsx(LT,{children:E.jsxs(C0,{children:[E.jsx(ys,{className:"font-semibold",children:"Plate Number"}),E.jsx(ys,{className:"font-semibold",children:"Owner"}),E.jsx(ys,{className:"font-semibold",children:"Check In"}),E.jsx(ys,{className:"font-semibold",children:"Check Out"}),E.jsx(ys,{className:"font-semibold",children:"Duration"}),E.jsx(ys,{className:"font-semibold",children:"Fee"}),E.jsx(ys,{className:"font-semibold",children:"Status"})]})}),E.jsx(BT,{children:t.map(f=>E.jsxs(C0,{"data-testid":`row-visit-${f.id}`,children:[E.jsx(ws,{className:"font-medium","data-testid":`text-plate-${f.id}`,children:f.plateNumber}),E.jsx(ws,{"data-testid":`text-owner-${f.id}`,children:f.ownerName}),E.jsx(ws,{"data-testid":`text-checkin-${f.id}`,children:Yh(new Date(f.checkInTime),"MMM dd, yyyy HH:mm")}),E.jsx(ws,{"data-testid":`text-checkout-${f.id}`,children:f.checkOutTime?Yh(new Date(f.checkOutTime),"MMM dd, yyyy HH:mm"):"-"}),E.jsx(ws,{"data-testid":`text-duration-${f.id}`,children:f.duration?`${f.duration} min`:"-"}),E.jsx(ws,{"data-testid":`text-fee-${f.id}`,children:f.fee?`${f.fee} EGP`:"-"}),E.jsx(ws,{children:E.jsx(y0,{variant:f.isCheckedIn?"default":"secondary","data-testid":`badge-status-${f.id}`,children:f.isCheckedIn?"Checked In":"Checked Out"})})]},f.id))})]})})]})]})})}function a7(){return E.jsx("footer",{className:"fixed bottom-0 left-0 w-full bg-white/90 dark:bg-slate-900/90 border-t border-slate-200 dark:border-slate-800 backdrop-blur-md",children:E.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between text-sm text-muted-foreground",children:[E.jsxs("div",{children:[" ",new Date().getFullYear()," Smart Parking System"]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("h4",{children:"+965 99494896"}),E.jsx("h4",{children:"ab-c@live.com "})]})]})})}function l7(){return E.jsx("header",{className:"fixed top-0 left-0 w-full bg-white/90 dark:bg-slate-900/90 border-b border-slate-200 dark:border-slate-800 backdrop-blur-md z-40",children:E.jsxs("div",{className:"max-w-6xl mx-auto px-4 h-16 flex items-center justify-between",children:[E.jsx("div",{className:"flex items-center gap-3 w-24 h-24",children:E.jsx("img",{src:"/imglogo.jpg",alt:"Smart Parking System Logo"})}),E.jsxs("nav",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[E.jsx(Rh,{href:"/",children:E.jsx("a",{className:"hover:underline",children:"Home"})}),E.jsx(Rh,{href:"/scan",children:E.jsx("a",{className:"hover:underline",children:"Scanner"})}),E.jsx(Rh,{href:"/register",children:E.jsx("a",{className:"hover:underline",children:"Register"})})]})]})})}function c7(){return E.jsxs(E_,{children:[E.jsx(fs,{path:"/",component:pM}),E.jsx(fs,{path:"/login",component:XD}),E.jsx(fs,{path:"/signup",component:n5}),E.jsx(fs,{path:"/home",component:o5}),E.jsx(fs,{path:"/register",component:l5}),E.jsx(fs,{path:"/scan",component:q5}),E.jsx(fs,{path:"/visits",component:s7}),E.jsx(fs,{component:gM})]})}function u7(){return E.jsx(V_,{client:Af,children:E.jsxs(uM,{children:[E.jsx(F6,{}),E.jsx(l7,{}),E.jsx("div",{className:"min-h-screen pt-16 pb-20",children:E.jsx(c7,{})}),E.jsx(a7,{})]})})}uA(document.getElementById("root")).render(E.jsx(u7,{}));
